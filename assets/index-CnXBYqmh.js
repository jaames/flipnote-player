const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mp4-CwVopRtI.js","assets/FileSaver.min-Dnkgry9C.js","assets/gif-DStaklum.js","assets/imageSequence-BHrq_OcQ.js"])))=>i.map(i=>d[i]);
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?p.credentials="include":c.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(c){if(c.ep)return;c.ep=!0;const p=i(c);fetch(c.href,p)}})();var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function ep(o){if(o.__esModule)return o;var r=o.default;if(typeof r=="function"){var i=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var c=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:function(){return o[a]}})}),i}var cc={exports:{}},hs={},fc={exports:{}},qe={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var dc,Gf;function th(){if(Gf)return dc;Gf=1;var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function c(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var g={},y=0;y<10;y++)g["_"+String.fromCharCode(y)]=y;var S=Object.getOwnPropertyNames(g).map(function(E){return g[E]});if(S.join("")!=="0123456789")return!1;var x={};return"abcdefghijklmnopqrst".split("").forEach(function(E){x[E]=E}),Object.keys(Object.assign({},x)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return dc=c()?Object.assign:function(p,g){for(var y,S=a(p),x,E=1;E<arguments.length;E++){y=Object(arguments[E]);for(var L in y)r.call(y,L)&&(S[L]=y[L]);if(o){x=o(y);for(var U=0;U<x.length;U++)i.call(y,x[U])&&(S[x[U]]=y[x[U]])}}return S},dc}/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function tp(){if(Vf)return qe;Vf=1;var o=th(),r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,c=r?Symbol.for("react.fragment"):60107,p=r?Symbol.for("react.strict_mode"):60108,g=r?Symbol.for("react.profiler"):60114,y=r?Symbol.for("react.provider"):60109,S=r?Symbol.for("react.context"):60110,x=r?Symbol.for("react.forward_ref"):60112,E=r?Symbol.for("react.suspense"):60113,L=r?Symbol.for("react.memo"):60115,U=r?Symbol.for("react.lazy"):60116,B=typeof Symbol=="function"&&Symbol.iterator;function b(P){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+P,te=1;te<arguments.length;te++)$+="&args[]="+encodeURIComponent(arguments[te]);return"Minified React error #"+P+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M={};function k(P,$,te){this.props=P,this.context=$,this.refs=M,this.updater=te||z}k.prototype.isReactComponent={},k.prototype.setState=function(P,$){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error(b(85));this.updater.enqueueSetState(this,P,$,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function D(){}D.prototype=k.prototype;function I(P,$,te){this.props=P,this.context=$,this.refs=M,this.updater=te||z}var G=I.prototype=new D;G.constructor=I,o(G,k.prototype),G.isPureReactComponent=!0;var j={current:null},q=Object.prototype.hasOwnProperty,Z={key:!0,ref:!0,__self:!0,__source:!0};function me(P,$,te){var ue,xe={},je=null,Me=null;if($!=null)for(ue in $.ref!==void 0&&(Me=$.ref),$.key!==void 0&&(je=""+$.key),$)q.call($,ue)&&!Z.hasOwnProperty(ue)&&(xe[ue]=$[ue]);var ve=arguments.length-2;if(ve===1)xe.children=te;else if(1<ve){for(var tt=Array(ve),mt=0;mt<ve;mt++)tt[mt]=arguments[mt+2];xe.children=tt}if(P&&P.defaultProps)for(ue in ve=P.defaultProps,ve)xe[ue]===void 0&&(xe[ue]=ve[ue]);return{$$typeof:i,type:P,key:je,ref:Me,props:xe,_owner:j.current}}function ye(P,$){return{$$typeof:i,type:P.type,key:$,ref:P.ref,props:P.props,_owner:P._owner}}function we(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function ne(P){var $={"=":"=0",":":"=2"};return"$"+(""+P).replace(/[=:]/g,function(te){return $[te]})}var Te=/\/+/g,Ve=[];function Ie(P,$,te,ue){if(Ve.length){var xe=Ve.pop();return xe.result=P,xe.keyPrefix=$,xe.func=te,xe.context=ue,xe.count=0,xe}return{result:P,keyPrefix:$,func:te,context:ue,count:0}}function He(P){P.result=null,P.keyPrefix=null,P.func=null,P.context=null,P.count=0,10>Ve.length&&Ve.push(P)}function ft(P,$,te,ue){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var je=!1;if(P===null)je=!0;else switch(xe){case"string":case"number":je=!0;break;case"object":switch(P.$$typeof){case i:case a:je=!0}}if(je)return te(ue,P,$===""?"."+Je(P,0):$),1;if(je=0,$=$===""?".":$+":",Array.isArray(P))for(var Me=0;Me<P.length;Me++){xe=P[Me];var ve=$+Je(xe,Me);je+=ft(xe,ve,te,ue)}else if(P===null||typeof P!="object"?ve=null:(ve=B&&P[B]||P["@@iterator"],ve=typeof ve=="function"?ve:null),typeof ve=="function")for(P=ve.call(P),Me=0;!(xe=P.next()).done;)xe=xe.value,ve=$+Je(xe,Me++),je+=ft(xe,ve,te,ue);else if(xe==="object")throw te=""+P,Error(b(31,te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te,""));return je}function at(P,$,te){return P==null?0:ft(P,"",$,te)}function Je(P,$){return typeof P=="object"&&P!==null&&P.key!=null?ne(P.key):$.toString(36)}function ke(P,$){P.func.call(P.context,$,P.count++)}function Ue(P,$,te){var ue=P.result,xe=P.keyPrefix;P=P.func.call(P.context,$,P.count++),Array.isArray(P)?Ke(P,ue,te,function(je){return je}):P!=null&&(we(P)&&(P=ye(P,xe+(!P.key||$&&$.key===P.key?"":(""+P.key).replace(Te,"$&/")+"/")+te)),ue.push(P))}function Ke(P,$,te,ue,xe){var je="";te!=null&&(je=(""+te).replace(Te,"$&/")+"/"),$=Ie($,je,ue,xe),at(P,Ue,$),He($)}var Be={current:null};function et(){var P=Be.current;if(P===null)throw Error(b(321));return P}var Q={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:j,IsSomeRendererActing:{current:!1},assign:o};return qe.Children={map:function(P,$,te){if(P==null)return P;var ue=[];return Ke(P,ue,null,$,te),ue},forEach:function(P,$,te){if(P==null)return P;$=Ie(null,null,$,te),at(P,ke,$),He($)},count:function(P){return at(P,function(){return null},null)},toArray:function(P){var $=[];return Ke(P,$,null,function(te){return te}),$},only:function(P){if(!we(P))throw Error(b(143));return P}},qe.Component=k,qe.Fragment=c,qe.Profiler=g,qe.PureComponent=I,qe.StrictMode=p,qe.Suspense=E,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,qe.cloneElement=function(P,$,te){if(P==null)throw Error(b(267,P));var ue=o({},P.props),xe=P.key,je=P.ref,Me=P._owner;if($!=null){if($.ref!==void 0&&(je=$.ref,Me=j.current),$.key!==void 0&&(xe=""+$.key),P.type&&P.type.defaultProps)var ve=P.type.defaultProps;for(tt in $)q.call($,tt)&&!Z.hasOwnProperty(tt)&&(ue[tt]=$[tt]===void 0&&ve!==void 0?ve[tt]:$[tt])}var tt=arguments.length-2;if(tt===1)ue.children=te;else if(1<tt){ve=Array(tt);for(var mt=0;mt<tt;mt++)ve[mt]=arguments[mt+2];ue.children=ve}return{$$typeof:i,type:P.type,key:xe,ref:je,props:ue,_owner:Me}},qe.createContext=function(P,$){return $===void 0&&($=null),P={$$typeof:S,_calculateChangedBits:$,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider={$$typeof:y,_context:P},P.Consumer=P},qe.createElement=me,qe.createFactory=function(P){var $=me.bind(null,P);return $.type=P,$},qe.createRef=function(){return{current:null}},qe.forwardRef=function(P){return{$$typeof:x,render:P}},qe.isValidElement=we,qe.lazy=function(P){return{$$typeof:U,_ctor:P,_status:-1,_result:null}},qe.memo=function(P,$){return{$$typeof:L,type:P,compare:$===void 0?null:$}},qe.useCallback=function(P,$){return et().useCallback(P,$)},qe.useContext=function(P,$){return et().useContext(P,$)},qe.useDebugValue=function(){},qe.useEffect=function(P,$){return et().useEffect(P,$)},qe.useImperativeHandle=function(P,$,te){return et().useImperativeHandle(P,$,te)},qe.useLayoutEffect=function(P,$){return et().useLayoutEffect(P,$)},qe.useMemo=function(P,$){return et().useMemo(P,$)},qe.useReducer=function(P,$,te){return et().useReducer(P,$,te)},qe.useRef=function(P){return et().useRef(P)},qe.useState=function(P){return et().useState(P)},qe.version="16.14.0",qe}var qf;function mi(){return qf||(qf=1,fc.exports=tp()),fc.exports}/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf;function np(){if(Yf)return hs;Yf=1;var o=mi(),r=60103;if(hs.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var i=Symbol.for;r=i("react.element"),hs.Fragment=i("react.fragment")}var a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function g(y,S,x){var E,L={},U=null,B=null;x!==void 0&&(U=""+x),S.key!==void 0&&(U=""+S.key),S.ref!==void 0&&(B=S.ref);for(E in S)c.call(S,E)&&!p.hasOwnProperty(E)&&(L[E]=S[E]);if(y&&y.defaultProps)for(E in S=y.defaultProps,S)L[E]===void 0&&(L[E]=S[E]);return{$$typeof:r,type:y,key:U,ref:B,props:L,_owner:a.current}}return hs.jsx=g,hs.jsxs=g,hs}var Xf;function rp(){return Xf||(Xf=1,cc.exports=np()),cc.exports}var C=rp(),X=mi();const Lt=vo(X);var hc={exports:{}},fn={},pc={exports:{}},mc={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function ip(){return Zf||(Zf=1,function(o){var r,i,a,c,p;if(typeof window>"u"||typeof MessageChannel!="function"){var g=null,y=null,S=function(){if(g!==null)try{var Q=o.unstable_now();g(!0,Q),g=null}catch(P){throw setTimeout(S,0),P}},x=Date.now();o.unstable_now=function(){return Date.now()-x},r=function(Q){g!==null?setTimeout(r,0,Q):(g=Q,setTimeout(S,0))},i=function(Q,P){y=setTimeout(Q,P)},a=function(){clearTimeout(y)},c=function(){return!1},p=o.unstable_forceFrameRate=function(){}}else{var E=window.performance,L=window.Date,U=window.setTimeout,B=window.clearTimeout;if(typeof console<"u"){var b=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof b!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof E=="object"&&typeof E.now=="function")o.unstable_now=function(){return E.now()};else{var z=L.now();o.unstable_now=function(){return L.now()-z}}var M=!1,k=null,D=-1,I=5,G=0;c=function(){return o.unstable_now()>=G},p=function(){},o.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):I=0<Q?Math.floor(1e3/Q):5};var j=new MessageChannel,q=j.port2;j.port1.onmessage=function(){if(k!==null){var Q=o.unstable_now();G=Q+I;try{k(!0,Q)?q.postMessage(null):(M=!1,k=null)}catch(P){throw q.postMessage(null),P}}else M=!1},r=function(Q){k=Q,M||(M=!0,q.postMessage(null))},i=function(Q,P){D=U(function(){Q(o.unstable_now())},P)},a=function(){B(D),D=-1}}function Z(Q,P){var $=Q.length;Q.push(P);e:for(;;){var te=$-1>>>1,ue=Q[te];if(ue!==void 0&&0<we(ue,P))Q[te]=P,Q[$]=ue,$=te;else break e}}function me(Q){return Q=Q[0],Q===void 0?null:Q}function ye(Q){var P=Q[0];if(P!==void 0){var $=Q.pop();if($!==P){Q[0]=$;e:for(var te=0,ue=Q.length;te<ue;){var xe=2*(te+1)-1,je=Q[xe],Me=xe+1,ve=Q[Me];if(je!==void 0&&0>we(je,$))ve!==void 0&&0>we(ve,je)?(Q[te]=ve,Q[Me]=$,te=Me):(Q[te]=je,Q[xe]=$,te=xe);else if(ve!==void 0&&0>we(ve,$))Q[te]=ve,Q[Me]=$,te=Me;else break e}}return P}return null}function we(Q,P){var $=Q.sortIndex-P.sortIndex;return $!==0?$:Q.id-P.id}var ne=[],Te=[],Ve=1,Ie=null,He=3,ft=!1,at=!1,Je=!1;function ke(Q){for(var P=me(Te);P!==null;){if(P.callback===null)ye(Te);else if(P.startTime<=Q)ye(Te),P.sortIndex=P.expirationTime,Z(ne,P);else break;P=me(Te)}}function Ue(Q){if(Je=!1,ke(Q),!at)if(me(ne)!==null)at=!0,r(Ke);else{var P=me(Te);P!==null&&i(Ue,P.startTime-Q)}}function Ke(Q,P){at=!1,Je&&(Je=!1,a()),ft=!0;var $=He;try{for(ke(P),Ie=me(ne);Ie!==null&&(!(Ie.expirationTime>P)||Q&&!c());){var te=Ie.callback;if(te!==null){Ie.callback=null,He=Ie.priorityLevel;var ue=te(Ie.expirationTime<=P);P=o.unstable_now(),typeof ue=="function"?Ie.callback=ue:Ie===me(ne)&&ye(ne),ke(P)}else ye(ne);Ie=me(ne)}if(Ie!==null)var xe=!0;else{var je=me(Te);je!==null&&i(Ue,je.startTime-P),xe=!1}return xe}finally{Ie=null,He=$,ft=!1}}function Be(Q){switch(Q){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var et=p;o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Q){Q.callback=null},o.unstable_continueExecution=function(){at||ft||(at=!0,r(Ke))},o.unstable_getCurrentPriorityLevel=function(){return He},o.unstable_getFirstCallbackNode=function(){return me(ne)},o.unstable_next=function(Q){switch(He){case 1:case 2:case 3:var P=3;break;default:P=He}var $=He;He=P;try{return Q()}finally{He=$}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=et,o.unstable_runWithPriority=function(Q,P){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var $=He;He=Q;try{return P()}finally{He=$}},o.unstable_scheduleCallback=function(Q,P,$){var te=o.unstable_now();if(typeof $=="object"&&$!==null){var ue=$.delay;ue=typeof ue=="number"&&0<ue?te+ue:te,$=typeof $.timeout=="number"?$.timeout:Be(Q)}else $=Be(Q),ue=te;return $=ue+$,Q={id:Ve++,callback:P,priorityLevel:Q,startTime:ue,expirationTime:$,sortIndex:-1},ue>te?(Q.sortIndex=ue,Z(Te,Q),me(ne)===null&&Q===me(Te)&&(Je?a():Je=!0,i(Ue,ue-te))):(Q.sortIndex=$,Z(ne,Q),at||ft||(at=!0,r(Ke))),Q},o.unstable_shouldYield=function(){var Q=o.unstable_now();ke(Q);var P=me(ne);return P!==Ie&&Ie!==null&&P!==null&&P.callback!==null&&P.startTime<=Q&&P.expirationTime<Ie.expirationTime||c()},o.unstable_wrapCallback=function(Q){var P=He;return function(){var $=He;He=P;try{return Q.apply(this,arguments)}finally{He=$}}}}(mc)),mc}var Qf;function op(){return Qf||(Qf=1,pc.exports=ip()),pc.exports}/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function sp(){if(Jf)return fn;Jf=1;var o=mi(),r=th(),i=op();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!o)throw Error(a(227));function c(e,t,n,l,f,m,w,T,W){var H=Array.prototype.slice.call(arguments,3);try{t.apply(n,H)}catch(le){this.onError(le)}}var p=!1,g=null,y=!1,S=null,x={onError:function(e){p=!0,g=e}};function E(e,t,n,l,f,m,w,T,W){p=!1,g=null,c.apply(x,arguments)}function L(e,t,n,l,f,m,w,T,W){if(E.apply(this,arguments),p){if(p){var H=g;p=!1,g=null}else throw Error(a(198));y||(y=!0,S=H)}}var U=null,B=null,b=null;function z(e,t,n){var l=e.type||"unknown-event";e.currentTarget=b(n),L(l,t,void 0,e),e.currentTarget=null}var M=null,k={};function D(){if(M)for(var e in k){var t=k[e],n=M.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!G[n]){if(!t.extractEvents)throw Error(a(97,e));G[n]=t,n=t.eventTypes;for(var l in n){var f=void 0,m=n[l],w=t,T=l;if(j.hasOwnProperty(T))throw Error(a(99,T));j[T]=m;var W=m.phasedRegistrationNames;if(W){for(f in W)W.hasOwnProperty(f)&&I(W[f],w,T);f=!0}else m.registrationName?(I(m.registrationName,w,T),f=!0):f=!1;if(!f)throw Error(a(98,l,e))}}}}function I(e,t,n){if(q[e])throw Error(a(100,e));q[e]=t,Z[e]=t.eventTypes[n].dependencies}var G=[],j={},q={},Z={};function me(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var l=e[n];if(!k.hasOwnProperty(n)||k[n]!==l){if(k[n])throw Error(a(102,n));k[n]=l,t=!0}}t&&D()}var ye=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),we=null,ne=null,Te=null;function Ve(e){if(e=B(e)){if(typeof we!="function")throw Error(a(280));var t=e.stateNode;t&&(t=U(t),we(e.stateNode,e.type,t))}}function Ie(e){ne?Te?Te.push(e):Te=[e]:ne=e}function He(){if(ne){var e=ne,t=Te;if(Te=ne=null,Ve(e),t)for(e=0;e<t.length;e++)Ve(t[e])}}function ft(e,t){return e(t)}function at(e,t,n,l,f){return e(t,n,l,f)}function Je(){}var ke=ft,Ue=!1,Ke=!1;function Be(){(ne!==null||Te!==null)&&(Je(),He())}function et(e,t,n){if(Ke)return e(t,n);Ke=!0;try{return ke(e,t,n)}finally{Ke=!1,Be()}}var Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P=Object.prototype.hasOwnProperty,$={},te={};function ue(e){return P.call(te,e)?!0:P.call($,e)?!1:Q.test(e)?te[e]=!0:($[e]=!0,!1)}function xe(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function je(e,t,n,l){if(t===null||typeof t>"u"||xe(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,l,f,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=m}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Me(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Me(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Me(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Me(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Me(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Me(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ve[e]=new Me(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ve[e]=new Me(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ve[e]=new Me(e,5,!1,e.toLowerCase(),null,!1)});var tt=/[\-:]([a-z])/g;function mt(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tt,mt);ve[t]=new Me(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tt,mt);ve[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tt,mt);ve[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Me(e,1,!1,e.toLowerCase(),null,!1)}),ve.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ve[e]=new Me(e,1,!1,e.toLowerCase(),null,!0)});var wt=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;wt.hasOwnProperty("ReactCurrentDispatcher")||(wt.ReactCurrentDispatcher={current:null}),wt.hasOwnProperty("ReactCurrentBatchConfig")||(wt.ReactCurrentBatchConfig={suspense:null});function Dn(e,t,n,l){var f=ve.hasOwnProperty(t)?ve[t]:null,m=f!==null?f.type===0:l?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");m||(je(t,n,f,l)&&(n=null),l||f===null?ue(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):f.mustUseProperty?e[f.propertyName]=n===null?f.type===3?!1:"":n:(t=f.attributeName,l=f.attributeNamespace,n===null?e.removeAttribute(t):(f=f.type,n=f===3||f===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var Pa=/^(.*)[\\\/]/,xt=typeof Symbol=="function"&&Symbol.for,gi=xt?Symbol.for("react.element"):60103,tr=xt?Symbol.for("react.portal"):60106,On=xt?Symbol.for("react.fragment"):60107,yo=xt?Symbol.for("react.strict_mode"):60108,bn=xt?Symbol.for("react.profiler"):60114,ws=xt?Symbol.for("react.provider"):60109,xs=xt?Symbol.for("react.context"):60110,wo=xt?Symbol.for("react.concurrent_mode"):60111,xo=xt?Symbol.for("react.forward_ref"):60112,Eo=xt?Symbol.for("react.suspense"):60113,_o=xt?Symbol.for("react.suspense_list"):60120,Ee=xt?Symbol.for("react.memo"):60115,ka=xt?Symbol.for("react.lazy"):60116,Aa=xt?Symbol.for("react.block"):60121,La=typeof Symbol=="function"&&Symbol.iterator;function nr(e){return e===null||typeof e!="object"?null:(e=La&&e[La]||e["@@iterator"],typeof e=="function"?e:null)}function Es(e){if(e._status===-1){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}}function It(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case On:return"Fragment";case tr:return"Portal";case bn:return"Profiler";case yo:return"StrictMode";case Eo:return"Suspense";case _o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xs:return"Context.Consumer";case ws:return"Context.Provider";case xo:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Ee:return It(e.type);case Aa:return It(e.render);case ka:if(e=e._status===1?e._result:null)return It(e)}return null}function vi(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var l=e._debugOwner,f=e._debugSource,m=It(e.type);n=null,l&&(n=It(l.type)),l=m,m="",f?m=" (at "+f.fileName.replace(Pa,"")+":"+f.lineNumber+")":n&&(m=" (created by "+n+")"),n=`
    in `+(l||"Unknown")+m}t+=n,e=e.return}while(e);return t}function xn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ze(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function En(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var f=n.get,m=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function it(e){e._valueTracker||(e._valueTracker=En(e))}function Lr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=ze(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function In(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rr(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nr(e,t){t=t.checked,t!=null&&Dn(e,"checked",t,!1)}function Jt(e,t){Nr(e,t);var n=xn(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mr(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mr(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mr(e,t,n){(t!=="number"||e.ownerDocument.activeElement!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function So(e){var t="";return o.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function en(e,t){return e=r({children:void 0},t),(t=So(t.children))&&(e.children=t),e}function Ut(e,t,n,l){if(e=e.options,t){t={};for(var f=0;f<n.length;f++)t["$"+n[f]]=!0;for(n=0;n<e.length;n++)f=t.hasOwnProperty("$"+e[n].value),e[n].selected!==f&&(e[n].selected=f),f&&l&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,f=0;f<e.length;f++){if(e[f].value===n){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Co(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function Rr(e,t){var n=xn(t.value),l=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function wi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var To={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function _s(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_s(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xi,Ss=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,f){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,f)})}:e}(function(e,t){if(e.namespaceURI!==To.svg||"innerHTML"in e)e.innerHTML=t;else{for(xi=xi||document.createElement("div"),xi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}function pn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ir={animationend:pn("Animation","AnimationEnd"),animationiteration:pn("Animation","AnimationIteration"),animationstart:pn("Animation","AnimationStart"),transitionend:pn("Transition","TransitionEnd")},Fo={},jn={};ye&&(jn=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function Or(e){if(Fo[e])return Fo[e];if(!ir[e])return e;var t=ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jn)return Fo[e]=t[n];return e}var Po=Or("animationend"),or=Or("animationiteration"),Cs=Or("animationstart"),Re=Or("transitionend"),Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Na=new(typeof WeakMap=="function"?WeakMap:Map);function ko(e){var t=Na.get(e);return t===void 0&&(t=new Map,Na.set(e,t)),t}function br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.effectTag&1026&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ma(e){if(br(e)!==e)throw Error(a(188))}function tu(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,l=t;;){var f=n.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){n=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===n)return Ma(f),e;if(m===l)return Ma(f),t;m=m.sibling}throw Error(a(188))}if(n.return!==l.return)n=f,l=m;else{for(var w=!1,T=f.child;T;){if(T===n){w=!0,n=f,l=m;break}if(T===l){w=!0,l=f,n=m;break}T=T.sibling}if(!w){for(T=m.child;T;){if(T===n){w=!0,n=m,l=f;break}if(T===l){w=!0,l=m,n=f;break}T=T.sibling}if(!w)throw Error(a(189))}}if(n.alternate!==l)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Ra(e){if(e=tu(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ir(e,t){if(t==null)throw Error(a(30));return e==null?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function Ts(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var _i=null;function Fs(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var l=0;l<t.length&&!e.isPropagationStopped();l++)z(e,t[l],n[l]);else t&&z(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Ao(e){if(e!==null&&(_i=Ir(_i,e)),e=_i,_i=null,e){if(Ts(e,Fs),_i)throw Error(a(95));if(y)throw e=S,y=!1,S=null,e}}function Ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function nu(e){if(!ye)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t=typeof t[e]=="function"),t}var ks=[];function ru(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ks.length&&ks.push(e)}function Da(e,t,n,l){if(ks.length){var f=ks.pop();return f.topLevelType=e,f.eventSystemFlags=l,f.nativeEvent=t,f.targetInst=n,f}return{topLevelType:e,eventSystemFlags:l,nativeEvent:t,targetInst:n,ancestors:[]}}function As(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var l=n;if(l.tag===3)l=l.stateNode.containerInfo;else{for(;l.return;)l=l.return;l=l.tag!==3?null:l.stateNode.containerInfo}if(!l)break;t=n.tag,t!==5&&t!==6||e.ancestors.push(n),n=Ni(l)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var f=Ps(e.nativeEvent);l=e.topLevelType;var m=e.nativeEvent,w=e.eventSystemFlags;n===0&&(w|=64);for(var T=null,W=0;W<G.length;W++){var H=G[W];H&&(H=H.extractEvents(l,t,m,f,w))&&(T=Ir(T,H))}Ao(T)}}function Lo(e,t,n){if(!n.has(e)){switch(e){case"scroll":ki(t,"scroll",!0);break;case"focus":case"blur":ki(t,"focus",!0),ki(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":nu(e)&&ki(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:Ei.indexOf(e)===-1&&nt(e,t)}n.set(e,null)}}var Ls,No,Oa,Ns=!1,mn=[],Bn=null,zn=null,tn=null,sr=new Map,Si=new Map,Ci=[],Wn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),iu="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function cf(e,t){var n=ko(t);Wn.forEach(function(l){Lo(l,t,n)}),iu.forEach(function(l){Lo(l,t,n)})}function Ms(e,t,n,l,f){return{blockedOn:e,topLevelType:t,eventSystemFlags:n|32,nativeEvent:f,container:l}}function Mo(e,t){switch(e){case"focus":case"blur":Bn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function Ti(e,t,n,l,f,m){return e===null||e.nativeEvent!==m?(e=Ms(t,n,l,f,m),t!==null&&(t=Mi(t),t!==null&&No(t)),e):(e.eventSystemFlags|=l,e)}function ba(e,t,n,l,f){switch(t){case"focus":return Bn=Ti(Bn,e,t,n,l,f),!0;case"dragenter":return zn=Ti(zn,e,t,n,l,f),!0;case"mouseover":return tn=Ti(tn,e,t,n,l,f),!0;case"pointerover":var m=f.pointerId;return sr.set(m,Ti(sr.get(m)||null,e,t,n,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Si.set(m,Ti(Si.get(m)||null,e,t,n,l,f)),!0}return!1}function Ia(e){var t=Ni(e.target);if(t!==null){var n=br(t);if(n!==null){if(t=n.tag,t===13){if(t=eu(n),t!==null){e.blockedOn=t,i.unstable_runWithPriority(e.priority,function(){Oa(n)});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ur(e){if(e.blockedOn!==null)return!1;var t=bo(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(t!==null){var n=Mi(t);return n!==null&&No(n),e.blockedOn=t,!1}return!0}function Rs(e,t,n){Ur(e)&&n.delete(t)}function ou(){for(Ns=!1;0<mn.length;){var e=mn[0];if(e.blockedOn!==null){e=Mi(e.blockedOn),e!==null&&Ls(e);break}var t=bo(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);t!==null?e.blockedOn=t:mn.shift()}Bn!==null&&Ur(Bn)&&(Bn=null),zn!==null&&Ur(zn)&&(zn=null),tn!==null&&Ur(tn)&&(tn=null),sr.forEach(Rs),Si.forEach(Rs)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Ns||(Ns=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ou)))}function jr(e){function t(f){return ar(f,e)}if(0<mn.length){ar(mn[0],e);for(var n=1;n<mn.length;n++){var l=mn[n];l.blockedOn===e&&(l.blockedOn=null)}}for(Bn!==null&&ar(Bn,e),zn!==null&&ar(zn,e),tn!==null&&ar(tn,e),sr.forEach(t),Si.forEach(t),n=0;n<Ci.length;n++)l=Ci[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)Ia(n),n.blockedOn===null&&Ci.shift()}var Ro={},Do=new Map,Fi=new Map,Ds=["abort","abort",Po,"animationEnd",or,"animationIteration",Cs,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Re,"transitionEnd","waiting","waiting"];function Pi(e,t){for(var n=0;n<e.length;n+=2){var l=e[n],f=e[n+1],m="on"+(f[0].toUpperCase()+f.slice(1));m={phasedRegistrationNames:{bubbled:m,captured:m+"Capture"},dependencies:[l],eventPriority:t},Fi.set(l,t),Do.set(l,m),Ro[f]=m}}Pi("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pi("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pi(Ds,2);for(var Ua="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Os=0;Os<Ua.length;Os++)Fi.set(Ua[Os],0);var su=i.unstable_UserBlockingPriority,au=i.unstable_runWithPriority,Oo=!0;function nt(e,t){ki(t,e,!1)}function ki(e,t,n){var l=Fi.get(t);switch(l===void 0?2:l){case 0:l=lu.bind(null,t,1,e);break;case 1:l=uu.bind(null,t,1,e);break;default:l=Ai.bind(null,t,1,e)}n?e.addEventListener(t,l,!0):e.addEventListener(t,l,!1)}function lu(e,t,n,l){Ue||Je();var f=Ai,m=Ue;Ue=!0;try{at(f,e,t,n,l)}finally{(Ue=m)||Be()}}function uu(e,t,n,l){au(su,Ai.bind(null,e,t,n,l))}function Ai(e,t,n,l){if(Oo)if(0<mn.length&&-1<Wn.indexOf(e))e=Ms(null,e,t,n,l),mn.push(e);else{var f=bo(e,t,n,l);if(f===null)Mo(e,l);else if(-1<Wn.indexOf(e))e=Ms(f,e,t,n,l),mn.push(e);else if(!ba(f,e,t,n,l)){Mo(e,l),e=Da(e,l,null,t);try{et(As,e)}finally{ru(e)}}}}function bo(e,t,n,l){if(n=Ps(l),n=Ni(n),n!==null){var f=br(n);if(f===null)n=null;else{var m=f.tag;if(m===13){if(n=eu(f),n!==null)return n;n=null}else if(m===3){if(f.stateNode.hydrate)return f.tag===3?f.stateNode.containerInfo:null;n=null}else f!==n&&(n=null)}}e=Da(e,l,n,t);try{et(As,e)}finally{ru(e)}return null}var Br={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cu=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){cu.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function Io(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function bs(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,f=Io(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,f):e[n]=f}}var ja=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Is(e,t){if(t){if(ja[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e,""));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62,""))}}function Uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Us=To.html;function Tt(e,t){e=e.nodeType===9||e.nodeType===11?e:e.ownerDocument;var n=ko(e);t=Z[t];for(var l=0;l<t.length;l++)Lo(t[l],e,n)}function jo(){}function js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ba(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function za(e,t){var n=Ba(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ba(n)}}function Wa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $a(){for(var e=window,t=js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=js(e.document)}return t}function Bs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ha="$",zs="/$",Bo="$?",Ws="$!",zo=null,Wo=null;function Ka(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $s(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hs=typeof setTimeout=="function"?setTimeout:void 0,fu=typeof clearTimeout=="function"?clearTimeout:void 0;function zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Ga(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===Ha||n===Ws||n===Bo){if(t===0)return e;t--}else n===zs&&t++}e=e.previousSibling}return null}var $o=Math.random().toString(36).slice(2),$n="__reactInternalInstance$"+$o,Wr="__reactEventHandlers$"+$o,Li="__reactContainere$"+$o;function Ni(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Li]||n[$n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ga(e);e!==null;){if(n=e[$n])return n;e=Ga(e)}return t}e=n,n=e.parentNode}return null}function Mi(e){return e=e[$n]||e[Li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Ks(e){return e[Wr]||null}function nn(e){do e=e.return;while(e&&e.tag!==5);return e||null}function Va(e,t){var n=e.stateNode;if(!n)return null;var l=U(n);if(!l)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}function qa(e,t,n){(t=Va(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Ir(n._dispatchListeners,t),n._dispatchInstances=Ir(n._dispatchInstances,e))}function Gs(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=nn(t);for(t=n.length;0<t--;)qa(n[t],"captured",e);for(t=0;t<n.length;t++)qa(n[t],"bubbled",e)}}function $r(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Va(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Ir(n._dispatchListeners,t),n._dispatchInstances=Ir(n._dispatchInstances,e))}function Ho(e){e&&e.dispatchConfig.registrationName&&$r(e._targetInst,null,e)}function Hr(e){Ts(e,Gs)}var _n=null,Vs=null,Ko=null;function Ya(){if(Ko)return Ko;var e,t=Vs,n=t.length,l,f="value"in _n?_n.value:_n.textContent,m=f.length;for(e=0;e<n&&t[e]===f[e];e++);var w=n-e;for(l=1;l<=w&&t[n-l]===f[m-l];l++);return Ko=f.slice(e,1<l?1-l:void 0)}function Go(){return!0}function Vo(){return!1}function jt(e,t,n,l){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var f in e)e.hasOwnProperty(f)&&((t=e[f])?this[f]=t(n):f==="target"?this.target=l:this[f]=n[f]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?Go:Vo,this.isPropagationStopped=Vo,this}r(jt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){this.isPersistent=Go},isPersistent:Vo,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vo,this._dispatchInstances=this._dispatchListeners=null}}),jt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},jt.extend=function(e){function t(){}function n(){return l.apply(this,arguments)}var l=this;t.prototype=l.prototype;var f=new t;return r(f,n.prototype),n.prototype=f,n.prototype.constructor=n,n.Interface=r({},l.Interface,e),n.extend=l.extend,qs(n),n},qs(jt);function du(e,t,n,l){if(this.eventPool.length){var f=this.eventPool.pop();return this.call(f,e,t,n,l),f}return new this(e,t,n,l)}function qo(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qs(e){e.eventPool=[],e.getPooled=du,e.release=qo}var Xa=jt.extend({data:null}),Za=jt.extend({data:null}),Ys=[9,13,27,32],Yo=ye&&"CompositionEvent"in window,Kr=null;ye&&"documentMode"in document&&(Kr=document.documentMode);var Qa=ye&&"TextEvent"in window&&!Kr,Xs=ye&&(!Yo||Kr&&8<Kr&&11>=Kr),Zs=" ",gn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Qs=!1;function Js(e,t){switch(e){case"keyup":return Ys.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function hu(e,t){switch(e){case"compositionend":return ea(t);case"keypress":return t.which!==32?null:(Qs=!0,Zs);case"textInput":return e=t.data,e===Zs&&Qs?null:e;default:return null}}function pu(e,t){if(ur)return e==="compositionend"||!Yo&&Js(e,t)?(e=Ya(),Ko=Vs=_n=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xs&&t.locale!=="ko"?null:t.data;default:return null}}var mu={eventTypes:gn,extractEvents:function(e,t,n,l){var f;if(Yo)e:{switch(e){case"compositionstart":var m=gn.compositionStart;break e;case"compositionend":m=gn.compositionEnd;break e;case"compositionupdate":m=gn.compositionUpdate;break e}m=void 0}else ur?Js(e,n)&&(m=gn.compositionEnd):e==="keydown"&&n.keyCode===229&&(m=gn.compositionStart);return m?(Xs&&n.locale!=="ko"&&(ur||m!==gn.compositionStart?m===gn.compositionEnd&&ur&&(f=Ya()):(_n=l,Vs="value"in _n?_n.value:_n.textContent,ur=!0)),m=Xa.getPooled(m,t,n,l),f?m.data=f:(f=ea(n),f!==null&&(m.data=f)),Hr(m),f=m):f=null,(e=Qa?hu(e,n):pu(e,n))?(t=Za.getPooled(gn.beforeInput,t,n,l),t.data=e,Hr(t)):t=null,f===null?t:t===null?f:[f,t]}},gu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gu[e.type]:t==="textarea"}var el={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function tl(e,t,n){return e=jt.getPooled(el.change,e,t,n),e.type="change",Ie(n),Hr(e),e}var Ri=null,Di=null;function vu(e){Ao(e)}function Xo(e){var t=lr(e);if(Lr(t))return e}function yu(e,t){if(e==="change")return t}var ta=!1;ye&&(ta=nu("input")&&(!document.documentMode||9<document.documentMode));function Zo(){Ri&&(Ri.detachEvent("onpropertychange",na),Di=Ri=null)}function na(e){if(e.propertyName==="value"&&Xo(Di))if(e=tl(Di,e,Ps(e)),Ue)Ao(e);else{Ue=!0;try{ft(vu,e)}finally{Ue=!1,Be()}}}function nl(e,t,n){e==="focus"?(Zo(),Ri=t,Di=n,Ri.attachEvent("onpropertychange",na)):e==="blur"&&Zo()}function rl(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(Di)}function wu(e,t){if(e==="click")return Xo(t)}function xu(e,t){if(e==="input"||e==="change")return Xo(t)}var Eu={eventTypes:el,_isInputEventSupported:ta,extractEvents:function(e,t,n,l){var f=t?lr(t):window,m=f.nodeName&&f.nodeName.toLowerCase();if(m==="select"||m==="input"&&f.type==="file")var w=yu;else if(Ja(f))if(ta)w=xu;else{w=rl;var T=nl}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=wu);if(w&&(w=w(e,t)))return tl(w,n,l);T&&T(e,f,t),e==="blur"&&(e=f._wrapperState)&&e.controlled&&f.type==="number"&&Mr(f,"number",f.value)}},Oi=jt.extend({view:null,detail:null}),_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_u[e])?!!t[e]:!1}function ra(){return Su}var il=0,bi=0,Ii=!1,Qo=!1,Hn=Oi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ra,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=il;return il=e.screenX,Ii?e.type==="mousemove"?e.screenX-t:0:(Ii=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=bi;return bi=e.screenY,Qo?e.type==="mousemove"?e.screenY-t:0:(Qo=!0,0)}}),Fe=Hn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Gr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Cu={eventTypes:Gr,extractEvents:function(e,t,n,l,f){var m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout";if(m&&!(f&32)&&(n.relatedTarget||n.fromElement)||!w&&!m)return null;if(m=l.window===l?l:(m=l.ownerDocument)?m.defaultView||m.parentWindow:window,w){if(w=t,t=(t=n.relatedTarget||n.toElement)?Ni(t):null,t!==null){var T=br(t);(t!==T||t.tag!==5&&t.tag!==6)&&(t=null)}}else w=null;if(w===t)return null;if(e==="mouseout"||e==="mouseover")var W=Hn,H=Gr.mouseLeave,le=Gr.mouseEnter,de="mouse";else(e==="pointerout"||e==="pointerover")&&(W=Fe,H=Gr.pointerLeave,le=Gr.pointerEnter,de="pointer");if(e=w==null?m:lr(w),m=t==null?m:lr(t),H=W.getPooled(H,w,n,l),H.type=de+"leave",H.target=e,H.relatedTarget=m,n=W.getPooled(le,t,n,l),n.type=de+"enter",n.target=m,n.relatedTarget=e,l=w,de=t,l&&de)e:{for(W=l,le=de,w=0,e=W;e;e=nn(e))w++;for(e=0,t=le;t;t=nn(t))e++;for(;0<w-e;)W=nn(W),w--;for(;0<e-w;)le=nn(le),e--;for(;w--;){if(W===le||W===le.alternate)break e;W=nn(W),le=nn(le)}W=null}else W=null;for(le=W,W=[];l&&l!==le&&(w=l.alternate,!(w!==null&&w===le));)W.push(l),l=nn(l);for(l=[];de&&de!==le&&(w=de.alternate,!(w!==null&&w===le));)l.push(de),de=nn(de);for(de=0;de<W.length;de++)$r(W[de],"bubbled",H);for(de=l.length;0<de--;)$r(l[de],"captured",n);return f&64?[H,n]:[H]}};function Tu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cr=typeof Object.is=="function"?Object.is:Tu,Fu=Object.prototype.hasOwnProperty;function Ui(e,t){if(cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++)if(!Fu.call(t,n[l])||!cr(e[n[l]],t[n[l]]))return!1;return!0}var ol=ye&&"documentMode"in document&&11>=document.documentMode,ia={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},fr=null,Jo=null,Vr=null,oa=!1;function sl(e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;return oa||fr==null||fr!==js(n)?null:(n=fr,"selectionStart"in n&&Bs(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vr&&Ui(Vr,n)?null:(Vr=n,e=jt.getPooled(ia.select,Jo,e,t),e.type="select",e.target=fr,Hr(e),e))}var Pu={eventTypes:ia,extractEvents:function(e,t,n,l,f,m){if(f=m||(l.window===l?l.document:l.nodeType===9?l:l.ownerDocument),!(m=!f)){e:{f=ko(f),m=Z.onSelect;for(var w=0;w<m.length;w++)if(!f.has(m[w])){f=!1;break e}f=!0}m=!f}if(m)return null;switch(f=t?lr(t):window,e){case"focus":(Ja(f)||f.contentEditable==="true")&&(fr=f,Jo=t,Vr=null);break;case"blur":Vr=Jo=fr=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":return oa=!1,sl(n,l);case"selectionchange":if(ol)break;case"keydown":case"keyup":return sl(n,l)}return null}},ku=jt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Au=jt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lu=Oi.extend({relatedTarget:null});function es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}var Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru=Oi.extend({key:function(e){if(e.key){var t=Nu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ra,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Du=Hn.extend({dataTransfer:null}),Ou=Oi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ra}),bu=jt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Iu=Hn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ft={eventTypes:Ro,extractEvents:function(e,t,n,l){var f=Do.get(e);if(!f)return null;switch(e){case"keypress":if(es(n)===0)return null;case"keydown":case"keyup":e=Ru;break;case"blur":case"focus":e=Lu;break;case"click":if(n.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ou;break;case Po:case or:case Cs:e=ku;break;case Re:e=bu;break;case"scroll":e=Oi;break;case"wheel":e=Iu;break;case"copy":case"cut":case"paste":e=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fe;break;default:e=jt}return t=e.getPooled(f,t,n,l),Hr(t),t}};if(M)throw Error(a(101));M=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),D();var Pt=Mi;U=Ks,B=Pt,b=lr,me({SimpleEventPlugin:Ft,EnterLeaveEventPlugin:Cu,ChangeEventPlugin:Eu,SelectEventPlugin:Pu,BeforeInputEventPlugin:mu});var qr=[],Bt=-1;function Ye(e){0>Bt||(e.current=qr[Bt],qr[Bt]=null,Bt--)}function rt(e,t){Bt++,qr[Bt]=e.current,e.current=t}var Xe={},vt={current:Xe},Nt={current:!1},dr=Xe;function Yr(e,t){var n=e.type.contextTypes;if(!n)return Xe;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in n)f[m]=t[m];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function Mt(e){return e=e.childContextTypes,e!=null}function ts(){Ye(Nt),Ye(vt)}function al(e,t,n){if(vt.current!==Xe)throw Error(a(168));rt(vt,t),rt(Nt,n)}function sa(e,t,n){var l=e.stateNode;if(e=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var f in l)if(!(f in e))throw Error(a(108,It(t)||"Unknown",f));return r({},n,{},l)}function Xr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xe,dr=vt.current,rt(vt,e),rt(Nt,Nt.current),!0}function ll(e,t,n){var l=e.stateNode;if(!l)throw Error(a(169));n?(e=sa(e,t,dr),l.__reactInternalMemoizedMergedChildContext=e,Ye(Nt),Ye(vt),rt(vt,e)):Ye(Nt),rt(Nt,n)}var Uu=i.unstable_runWithPriority,aa=i.unstable_scheduleCallback,ul=i.unstable_cancelCallback,cl=i.unstable_requestPaint,la=i.unstable_now,ju=i.unstable_getCurrentPriorityLevel,ns=i.unstable_ImmediatePriority,Ae=i.unstable_UserBlockingPriority,hr=i.unstable_NormalPriority,pr=i.unstable_LowPriority,Zr=i.unstable_IdlePriority,Sn={},rs=i.unstable_shouldYield,ji=cl!==void 0?cl:function(){},Rt=null,Kn=null,mr=!1,Qr=la(),Et=1e4>Qr?la:function(){return la()-Qr};function Cn(){switch(ju()){case ns:return 99;case Ae:return 98;case hr:return 97;case pr:return 96;case Zr:return 95;default:throw Error(a(332))}}function gr(e){switch(e){case 99:return ns;case 98:return Ae;case 97:return hr;case 96:return pr;case 95:return Zr;default:throw Error(a(332))}}function rn(e,t){return e=gr(e),Uu(e,t)}function Tn(e,t,n){return e=gr(e),aa(e,t,n)}function vr(e){return Rt===null?(Rt=[e],Kn=aa(ns,Bi)):Rt.push(e),Sn}function Vt(){if(Kn!==null){var e=Kn;Kn=null,ul(e)}Bi()}function Bi(){if(!mr&&Rt!==null){mr=!0;var e=0;try{var t=Rt;rn(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),Rt=null}catch(n){throw Rt!==null&&(Rt=Rt.slice(e+1)),aa(ns,Vt),n}finally{mr=!1}}}function yr(e,t,n){return n/=10,1073741821-(((1073741821-e+t/10)/n|0)+1)*n}function zt(e,t){if(e&&e.defaultProps){t=r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n])}return t}var Jr={current:null},zi=null,wr=null,ei=null;function Wi(){ei=wr=zi=null}function is(e){var t=Jr.current;Ye(Jr),e.type._context._currentValue=t}function ti(e,t){for(;e!==null;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t);else if(n!==null&&n.childExpirationTime<t)n.childExpirationTime=t;else break;e=e.return}}function xr(e,t){zi=e,ei=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.expirationTime>=t&&(se=!0),e.firstContext=null)}function Ze(e,t){if(ei!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(ei=e,t=1073741823),t={context:e,observedBits:t,next:null},wr===null){if(zi===null)throw Error(a(308));wr=t,zi.dependencies={expirationTime:0,firstContext:t,responders:null}}else wr=wr.next=t;return e._currentValue}var on=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Er(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function qt(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function yt(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function _r(e,t){var n=e.alternate;n!==null&&Er(n,e),e=e.updateQueue,n=e.baseQueue,n===null?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function vn(e,t,n,l){var f=e.updateQueue;on=!1;var m=f.baseQueue,w=f.shared.pending;if(w!==null){if(m!==null){var T=m.next;m.next=w.next,w.next=T}m=w,f.shared.pending=null,T=e.alternate,T!==null&&(T=T.updateQueue,T!==null&&(T.baseQueue=w))}if(m!==null){T=m.next;var W=f.baseState,H=0,le=null,de=null,We=null;if(T!==null){var Ge=T;do{if(w=Ge.expirationTime,w<l){var wn={expirationTime:Ge.expirationTime,suspenseConfig:Ge.suspenseConfig,tag:Ge.tag,payload:Ge.payload,callback:Ge.callback,next:null};We===null?(de=We=wn,le=W):We=We.next=wn,w>H&&(H=w)}else{We!==null&&(We=We.next={expirationTime:1073741823,suspenseConfig:Ge.suspenseConfig,tag:Ge.tag,payload:Ge.payload,callback:Ge.callback,next:null}),If(w,Ge.suspenseConfig);e:{var kt=e,O=Ge;switch(w=t,wn=n,O.tag){case 1:if(kt=O.payload,typeof kt=="function"){W=kt.call(wn,W,w);break e}W=kt;break e;case 3:kt.effectTag=kt.effectTag&-4097|64;case 0:if(kt=O.payload,w=typeof kt=="function"?kt.call(wn,W,w):kt,w==null)break e;W=r({},W,w);break e;case 2:on=!0}}Ge.callback!==null&&(e.effectTag|=32,w=f.effects,w===null?f.effects=[Ge]:w.push(Ge))}if(Ge=Ge.next,Ge===null||Ge===T){if(w=f.shared.pending,w===null)break;Ge=m.next=w.next,w.next=T,f.baseQueue=m=w,f.shared.pending=null}}while(!0)}We===null?le=W:We.next=de,f.baseState=le,f.baseQueue=We,Tl(H),e.expirationTime=H,e.memoizedState=W}}function Hi(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],f=l.callback;if(f!==null){if(l.callback=null,l=f,f=n,typeof l!="function")throw Error(a(191,l));l.call(f)}}}var yn=wt.ReactCurrentBatchConfig,Gn=new o.Component().refs;function Vn(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:r({},t,n),e.memoizedState=n,e.expirationTime===0&&(e.updateQueue.baseState=n)}var Fn={isMounted:function(e){return(e=e._reactInternalFiber)?br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var l=Jn(),f=yn.suspense;l=ro(l,e,f),f=qt(l,f),f.payload=t,n!=null&&(f.callback=n),yt(e,f),ui(e,l)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var l=Jn(),f=yn.suspense;l=ro(l,e,f),f=qt(l,f),f.tag=1,f.payload=t,n!=null&&(f.callback=n),yt(e,f),ui(e,l)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Jn(),l=yn.suspense;n=ro(n,e,l),l=qt(n,l),l.tag=2,t!=null&&(l.callback=t),yt(e,l),ui(e,n)}};function qn(e,t,n,l,f,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,w):t.prototype&&t.prototype.isPureReactComponent?!Ui(n,l)||!Ui(f,m):!0}function Ki(e,t,n){var l=!1,f=Xe,m=t.contextType;return typeof m=="object"&&m!==null?m=Ze(m):(f=Mt(t)?dr:vt.current,l=t.contextTypes,m=(l=l!=null)?Yr(e,f):Xe),t=new t(n,m),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fn,e.stateNode=t,t._reactInternalFiber=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=m),t}function Gi(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Fn.enqueueReplaceState(t,t.state,null)}function ni(e,t,n,l){var f=e.stateNode;f.props=n,f.state=e.memoizedState,f.refs=Gn,$i(e);var m=t.contextType;typeof m=="object"&&m!==null?f.context=Ze(m):(m=Mt(t)?dr:vt.current,f.context=Yr(e,m)),vn(e,n,f,l),f.state=e.memoizedState,m=t.getDerivedStateFromProps,typeof m=="function"&&(Vn(e,t,m,n),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&Fn.enqueueReplaceState(f,f.state,null),vn(e,n,f,l),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.effectTag|=4)}var Vi=Array.isArray;function Wt(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var l=n.stateNode}if(!l)throw Error(a(147,e));var f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(m){var w=l.refs;w===Gn&&(w=l.refs={}),m===null?delete w[f]:w[f]=m},t._stringRef=f,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Yn(e,t){if(e.type!=="textarea")throw Error(a(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ri(e){function t(O,R){if(e){var K=O.lastEffect;K!==null?(K.nextEffect=R,O.lastEffect=R):O.firstEffect=O.lastEffect=R,R.nextEffect=null,R.effectTag=8}}function n(O,R){if(!e)return null;for(;R!==null;)t(O,R),R=R.sibling;return null}function l(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function f(O,R){return O=ao(O,R),O.index=0,O.sibling=null,O}function m(O,R,K){return O.index=K,e?(K=O.alternate,K!==null?(K=K.index,K<R?(O.effectTag=2,R):K):(O.effectTag=2,R)):R}function w(O){return e&&O.alternate===null&&(O.effectTag=2),O}function T(O,R,K,ee){return R===null||R.tag!==6?(R=ic(K,O.mode,ee),R.return=O,R):(R=f(R,K),R.return=O,R)}function W(O,R,K,ee){return R!==null&&R.elementType===K.type?(ee=f(R,K.props),ee.ref=Wt(O,R,K),ee.return=O,ee):(ee=Fl(K.type,K.key,K.props,null,O.mode,ee),ee.ref=Wt(O,R,K),ee.return=O,ee)}function H(O,R,K,ee){return R===null||R.tag!==4||R.stateNode.containerInfo!==K.containerInfo||R.stateNode.implementation!==K.implementation?(R=oc(K,O.mode,ee),R.return=O,R):(R=f(R,K.children||[]),R.return=O,R)}function le(O,R,K,ee,ae){return R===null||R.tag!==7?(R=ci(K,O.mode,ee,ae),R.return=O,R):(R=f(R,K),R.return=O,R)}function de(O,R,K){if(typeof R=="string"||typeof R=="number")return R=ic(""+R,O.mode,K),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case gi:return K=Fl(R.type,R.key,R.props,null,O.mode,K),K.ref=Wt(O,null,R),K.return=O,K;case tr:return R=oc(R,O.mode,K),R.return=O,R}if(Vi(R)||nr(R))return R=ci(R,O.mode,K,null),R.return=O,R;Yn(O,R)}return null}function We(O,R,K,ee){var ae=R!==null?R.key:null;if(typeof K=="string"||typeof K=="number")return ae!==null?null:T(O,R,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case gi:return K.key===ae?K.type===On?le(O,R,K.props.children,ee,ae):W(O,R,K,ee):null;case tr:return K.key===ae?H(O,R,K,ee):null}if(Vi(K)||nr(K))return ae!==null?null:le(O,R,K,ee,null);Yn(O,K)}return null}function Ge(O,R,K,ee,ae){if(typeof ee=="string"||typeof ee=="number")return O=O.get(K)||null,T(R,O,""+ee,ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case gi:return O=O.get(ee.key===null?K:ee.key)||null,ee.type===On?le(R,O,ee.props.children,ae,ee.key):W(R,O,ee,ae);case tr:return O=O.get(ee.key===null?K:ee.key)||null,H(R,O,ee,ae)}if(Vi(ee)||nr(ee))return O=O.get(K)||null,le(R,O,ee,ae,null);Yn(R,ee)}return null}function wn(O,R,K,ee){for(var ae=null,he=null,Se=R,$e=R=0,st=null;Se!==null&&$e<K.length;$e++){Se.index>$e?(st=Se,Se=null):st=Se.sibling;var Oe=We(O,Se,K[$e],ee);if(Oe===null){Se===null&&(Se=st);break}e&&Se&&Oe.alternate===null&&t(O,Se),R=m(Oe,R,$e),he===null?ae=Oe:he.sibling=Oe,he=Oe,Se=st}if($e===K.length)return n(O,Se),ae;if(Se===null){for(;$e<K.length;$e++)Se=de(O,K[$e],ee),Se!==null&&(R=m(Se,R,$e),he===null?ae=Se:he.sibling=Se,he=Se);return ae}for(Se=l(O,Se);$e<K.length;$e++)st=Ge(Se,O,$e,K[$e],ee),st!==null&&(e&&st.alternate!==null&&Se.delete(st.key===null?$e:st.key),R=m(st,R,$e),he===null?ae=st:he.sibling=st,he=st);return e&&Se.forEach(function(fi){return t(O,fi)}),ae}function kt(O,R,K,ee){var ae=nr(K);if(typeof ae!="function")throw Error(a(150));if(K=ae.call(K),K==null)throw Error(a(151));for(var he=ae=null,Se=R,$e=R=0,st=null,Oe=K.next();Se!==null&&!Oe.done;$e++,Oe=K.next()){Se.index>$e?(st=Se,Se=null):st=Se.sibling;var fi=We(O,Se,Oe.value,ee);if(fi===null){Se===null&&(Se=st);break}e&&Se&&fi.alternate===null&&t(O,Se),R=m(fi,R,$e),he===null?ae=fi:he.sibling=fi,he=fi,Se=st}if(Oe.done)return n(O,Se),ae;if(Se===null){for(;!Oe.done;$e++,Oe=K.next())Oe=de(O,Oe.value,ee),Oe!==null&&(R=m(Oe,R,$e),he===null?ae=Oe:he.sibling=Oe,he=Oe);return ae}for(Se=l(O,Se);!Oe.done;$e++,Oe=K.next())Oe=Ge(Se,O,$e,Oe.value,ee),Oe!==null&&(e&&Oe.alternate!==null&&Se.delete(Oe.key===null?$e:Oe.key),R=m(Oe,R,$e),he===null?ae=Oe:he.sibling=Oe,he=Oe);return e&&Se.forEach(function(Qh){return t(O,Qh)}),ae}return function(O,R,K,ee){var ae=typeof K=="object"&&K!==null&&K.type===On&&K.key===null;ae&&(K=K.props.children);var he=typeof K=="object"&&K!==null;if(he)switch(K.$$typeof){case gi:e:{for(he=K.key,ae=R;ae!==null;){if(ae.key===he){switch(ae.tag){case 7:if(K.type===On){n(O,ae.sibling),R=f(ae,K.props.children),R.return=O,O=R;break e}break;default:if(ae.elementType===K.type){n(O,ae.sibling),R=f(ae,K.props),R.ref=Wt(O,ae,K),R.return=O,O=R;break e}}n(O,ae);break}else t(O,ae);ae=ae.sibling}K.type===On?(R=ci(K.props.children,O.mode,ee,K.key),R.return=O,O=R):(ee=Fl(K.type,K.key,K.props,null,O.mode,ee),ee.ref=Wt(O,R,K),ee.return=O,O=ee)}return w(O);case tr:e:{for(ae=K.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===K.containerInfo&&R.stateNode.implementation===K.implementation){n(O,R.sibling),R=f(R,K.children||[]),R.return=O,O=R;break e}else{n(O,R);break}else t(O,R);R=R.sibling}R=oc(K,O.mode,ee),R.return=O,O=R}return w(O)}if(typeof K=="string"||typeof K=="number")return K=""+K,R!==null&&R.tag===6?(n(O,R.sibling),R=f(R,K),R.return=O,O=R):(n(O,R),R=ic(K,O.mode,ee),R.return=O,O=R),w(O);if(Vi(K))return wn(O,R,K,ee);if(nr(K))return kt(O,R,K,ee);if(he&&Yn(O,K),typeof K>"u"&&!ae)switch(O.tag){case 1:case 0:throw O=O.type,Error(a(152,O.displayName||O.name||"Component"))}return n(O,R)}}var Pn=ri(!0),ii=ri(!1),$t={},Dt={current:$t},kn={current:$t},Ht={current:$t};function sn(e){if(e===$t)throw Error(a(174));return e}function os(e,t){switch(rt(Ht,t),rt(kn,e),rt(Dt,$t),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dr(t,e)}Ye(Dt),rt(Dt,t)}function Xn(){Ye(Dt),Ye(kn),Ye(Ht)}function fl(e){sn(Ht.current);var t=sn(Dt.current),n=Dr(t,e.type);t!==n&&(rt(kn,e),rt(Dt,n))}function ss(e){kn.current===e&&(Ye(Dt),Ye(kn))}var Qe={current:0};function oi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===Bo||n.data===Ws))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.effectTag&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qi(e,t){return{responder:e,props:t}}var si=wt.ReactCurrentDispatcher,Yt=wt.ReactCurrentBatchConfig,An=0,lt=null,dt=null,ut=null,as=!1;function Kt(){throw Error(a(321))}function ht(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function be(e,t,n,l,f,m){if(An=m,lt=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,si.current=e===null||e.memoizedState===null?F:N,e=n(l,f),t.expirationTime===An){m=0;do{if(t.expirationTime=0,!(25>m))throw Error(a(301));m+=1,ut=dt=null,t.updateQueue=null,si.current=A,e=n(l,f)}while(t.expirationTime===An)}if(si.current=_,t=dt!==null&&dt.next!==null,An=0,ut=dt=lt=null,as=!1,t)throw Error(a(300));return e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?lt.memoizedState=ut=e:ut=ut.next=e,ut}function Sr(){if(dt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=ut===null?lt.memoizedState:ut.next;if(t!==null)ut=t,dt=e;else{if(e===null)throw Error(a(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},ut===null?lt.memoizedState=ut=e:ut=ut.next=e}return ut}function Zn(e,t){return typeof t=="function"?t(e):t}function Yi(e){var t=Sr(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var l=dt,f=l.baseQueue,m=n.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}l.baseQueue=f=m,n.pending=null}if(f!==null){f=f.next,l=l.baseState;var T=w=m=null,W=f;do{var H=W.expirationTime;if(H<An){var le={expirationTime:W.expirationTime,suspenseConfig:W.suspenseConfig,action:W.action,eagerReducer:W.eagerReducer,eagerState:W.eagerState,next:null};T===null?(w=T=le,m=l):T=T.next=le,H>lt.expirationTime&&(lt.expirationTime=H,Tl(H))}else T!==null&&(T=T.next={expirationTime:1073741823,suspenseConfig:W.suspenseConfig,action:W.action,eagerReducer:W.eagerReducer,eagerState:W.eagerState,next:null}),If(H,W.suspenseConfig),l=W.eagerReducer===e?W.eagerState:e(l,W.action);W=W.next}while(W!==null&&W!==f);T===null?m=l:T.next=w,cr(l,t.memoizedState)||(se=!0),t.memoizedState=l,t.baseState=m,t.baseQueue=T,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function ai(e){var t=Sr(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var l=n.dispatch,f=n.pending,m=t.memoizedState;if(f!==null){n.pending=null;var w=f=f.next;do m=e(m,w.action),w=w.next;while(w!==f);cr(m,t.memoizedState)||(se=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),n.lastRenderedState=m}return[m,l]}function ls(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},e=e.dispatch=v.bind(null,lt,e),[t.memoizedState,e]}function us(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function ua(){return Sr().memoizedState}function Xi(e,t,n,l){var f=an();lt.effectTag|=e,f.memoizedState=us(1|t,n,void 0,l===void 0?null:l)}function Zi(e,t,n,l){var f=Sr();l=l===void 0?null:l;var m=void 0;if(dt!==null){var w=dt.memoizedState;if(m=w.destroy,l!==null&&ht(l,w.deps)){us(t,n,m,l);return}}lt.effectTag|=e,f.memoizedState=us(1|t,n,m,l)}function cs(e,t){return Xi(516,4,e,t)}function Ln(e,t){return Zi(516,4,e,t)}function Cr(e,t){return Zi(4,2,e,t)}function Tr(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qi(e,t,n){return n=n!=null?n.concat([e]):null,Zi(4,2,Tr.bind(null,t,e),n)}function ca(){}function d(e,t){return an().memoizedState=[e,t===void 0?null:t],e}function s(e,t){var n=Sr();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&ht(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function u(e,t){var n=Sr();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&ht(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function h(e,t,n){var l=Cn();rn(98>l?98:l,function(){e(!0)}),rn(97<l?97:l,function(){var f=Yt.suspense;Yt.suspense=t===void 0?null:t;try{e(!1),n()}finally{Yt.suspense=f}})}function v(e,t,n){var l=Jn(),f=yn.suspense;l=ro(l,e,f),f={expirationTime:l,suspenseConfig:f,action:n,eagerReducer:null,eagerState:null,next:null};var m=t.pending;if(m===null?f.next=f:(f.next=m.next,m.next=f),t.pending=f,m=e.alternate,e===lt||m!==null&&m===lt)as=!0,f.expirationTime=An,lt.expirationTime=An;else{if(e.expirationTime===0&&(m===null||m.expirationTime===0)&&(m=t.lastRenderedReducer,m!==null))try{var w=t.lastRenderedState,T=m(w,n);if(f.eagerReducer=m,f.eagerState=T,cr(T,w))return}catch{}finally{}ui(e,l)}}var _={readContext:Ze,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useResponder:Kt,useDeferredValue:Kt,useTransition:Kt},F={readContext:Ze,useCallback:d,useContext:Ze,useEffect:cs,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xi(4,2,Tr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xi(4,2,e,t)},useMemo:function(e,t){var n=an();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=an();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e=l.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=v.bind(null,lt,e),[l.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:ls,useDebugValue:ca,useResponder:qi,useDeferredValue:function(e,t){var n=ls(e),l=n[0],f=n[1];return cs(function(){var m=Yt.suspense;Yt.suspense=t===void 0?null:t;try{f(e)}finally{Yt.suspense=m}},[e,t]),l},useTransition:function(e){var t=ls(!1),n=t[0];return t=t[1],[d(h.bind(null,t,e),[t,e]),n]}},N={readContext:Ze,useCallback:s,useContext:Ze,useEffect:Ln,useImperativeHandle:Qi,useLayoutEffect:Cr,useMemo:u,useReducer:Yi,useRef:ua,useState:function(){return Yi(Zn)},useDebugValue:ca,useResponder:qi,useDeferredValue:function(e,t){var n=Yi(Zn),l=n[0],f=n[1];return Ln(function(){var m=Yt.suspense;Yt.suspense=t===void 0?null:t;try{f(e)}finally{Yt.suspense=m}},[e,t]),l},useTransition:function(e){var t=Yi(Zn),n=t[0];return t=t[1],[s(h.bind(null,t,e),[t,e]),n]}},A={readContext:Ze,useCallback:s,useContext:Ze,useEffect:Ln,useImperativeHandle:Qi,useLayoutEffect:Cr,useMemo:u,useReducer:ai,useRef:ua,useState:function(){return ai(Zn)},useDebugValue:ca,useResponder:qi,useDeferredValue:function(e,t){var n=ai(Zn),l=n[0],f=n[1];return Ln(function(){var m=Yt.suspense;Yt.suspense=t===void 0?null:t;try{f(e)}finally{Yt.suspense=m}},[e,t]),l},useTransition:function(e){var t=ai(Zn),n=t[0];return t=t[1],[s(h.bind(null,t,e),[t,e]),n]}},V=null,J=null,re=!1;function ie(e,t){var n=er(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function oe(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function ge(e){if(re){var t=J;if(t){var n=t;if(!oe(e,t)){if(t=zr(n.nextSibling),!t||!oe(e,t)){e.effectTag=e.effectTag&-1025|2,re=!1,V=e;return}ie(V,n)}V=e,J=zr(t.firstChild)}else e.effectTag=e.effectTag&-1025|2,re=!1,V=e}}function _e(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;V=e}function Y(e){if(e!==V)return!1;if(!re)return _e(e),re=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!$s(t,e.memoizedProps))for(t=J;t;)ie(e,t),t=zr(t.nextSibling);if(_e(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n===zs){if(t===0){J=zr(e.nextSibling);break e}t--}else n!==Ha&&n!==Ws&&n!==Bo||t++}e=e.nextSibling}J=null}}else J=V?zr(e.stateNode.nextSibling):null;return!0}function De(){J=V=null,re=!1}var Ce=wt.ReactCurrentOwner,se=!1;function fe(e,t,n,l){t.child=e===null?ii(t,null,n,l):Pn(t,e.child,n,l)}function Le(e,t,n,l,f){n=n.render;var m=t.ref;return xr(t,f),l=be(e,t,n,l,m,f),e!==null&&!se?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=f&&(e.expirationTime=0),Fr(e,t,f)):(t.effectTag|=1,fe(e,t,l,f),t.child)}function ct(e,t,n,l,f,m){if(e===null){var w=n.type;return typeof w=="function"&&!rc(w)&&w.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=w,pt(e,t,w,l,f,m)):(e=Fl(n.type,null,l,null,t.mode,m),e.ref=t.ref,e.return=t,t.child=e)}return w=e.child,f<m&&(f=w.memoizedProps,n=n.compare,n=n!==null?n:Ui,n(f,l)&&e.ref===t.ref)?Fr(e,t,m):(t.effectTag|=1,e=ao(w,l),e.ref=t.ref,e.return=t,t.child=e)}function pt(e,t,n,l,f,m){return e!==null&&Ui(e.memoizedProps,l)&&e.ref===t.ref&&(se=!1,f<m)?(t.expirationTime=e.expirationTime,Fr(e,t,m)):Ji(e,t,n,l,m)}function ln(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.effectTag|=128)}function Ji(e,t,n,l,f){var m=Mt(n)?dr:vt.current;return m=Yr(t,m),xr(t,f),n=be(e,t,n,l,m,f),e!==null&&!se?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=f&&(e.expirationTime=0),Fr(e,t,f)):(t.effectTag|=1,fe(e,t,n,f),t.child)}function eo(e,t,n,l,f){if(Mt(n)){var m=!0;Xr(t)}else m=!1;if(xr(t,f),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ki(t,n,l),ni(t,n,l,f),l=!0;else if(e===null){var w=t.stateNode,T=t.memoizedProps;w.props=T;var W=w.context,H=n.contextType;typeof H=="object"&&H!==null?H=Ze(H):(H=Mt(n)?dr:vt.current,H=Yr(t,H));var le=n.getDerivedStateFromProps,de=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function";de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==l||W!==H)&&Gi(t,w,l,H),on=!1;var We=t.memoizedState;w.state=We,vn(t,l,w,f),W=t.memoizedState,T!==l||We!==W||Nt.current||on?(typeof le=="function"&&(Vn(t,n,le,l),W=t.memoizedState),(T=on||qn(t,n,T,l,We,W,H))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.effectTag|=4)):(typeof w.componentDidMount=="function"&&(t.effectTag|=4),t.memoizedProps=l,t.memoizedState=W),w.props=l,w.state=W,w.context=H,l=T):(typeof w.componentDidMount=="function"&&(t.effectTag|=4),l=!1)}else w=t.stateNode,Er(e,t),T=t.memoizedProps,w.props=t.type===t.elementType?T:zt(t.type,T),W=w.context,H=n.contextType,typeof H=="object"&&H!==null?H=Ze(H):(H=Mt(n)?dr:vt.current,H=Yr(t,H)),le=n.getDerivedStateFromProps,(de=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==l||W!==H)&&Gi(t,w,l,H),on=!1,W=t.memoizedState,w.state=W,vn(t,l,w,f),We=t.memoizedState,T!==l||W!==We||Nt.current||on?(typeof le=="function"&&(Vn(t,n,le,l),We=t.memoizedState),(le=on||qn(t,n,T,l,W,We,H))?(de||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,We,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,We,H)),typeof w.componentDidUpdate=="function"&&(t.effectTag|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.effectTag|=256)):(typeof w.componentDidUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(t.effectTag|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(t.effectTag|=256),t.memoizedProps=l,t.memoizedState=We),w.props=l,w.state=We,w.context=H,l=le):(typeof w.componentDidUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(t.effectTag|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&W===e.memoizedState||(t.effectTag|=256),l=!1);return fs(e,t,n,l,m,f)}function fs(e,t,n,l,f,m){ln(e,t);var w=(t.effectTag&64)!==0;if(!l&&!w)return f&&ll(t,n,!1),Fr(e,t,m);l=t.stateNode,Ce.current=t;var T=w&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.effectTag|=1,e!==null&&w?(t.child=Pn(t,e.child,null,m),t.child=Pn(t,null,T,m)):fe(e,t,T,m),t.memoizedState=l.state,f&&ll(t,n,!0),t.child}function ff(e){var t=e.stateNode;t.pendingContext?al(e,t.pendingContext,t.pendingContext!==t.context):t.context&&al(e,t.context,!1),os(e,t.containerInfo)}var Bu={dehydrated:null,retryTime:0};function df(e,t,n){var l=t.mode,f=t.pendingProps,m=Qe.current,w=!1,T;if((T=(t.effectTag&64)!==0)||(T=(m&2)!==0&&(e===null||e.memoizedState!==null)),T?(w=!0,t.effectTag&=-65):e!==null&&e.memoizedState===null||f.fallback===void 0||f.unstable_avoidThisFallback===!0||(m|=1),rt(Qe,m&1),e===null){if(f.fallback!==void 0&&ge(t),w){if(w=f.fallback,f=ci(null,l,0,null),f.return=t,!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,f.child=e;e!==null;)e.return=f,e=e.sibling;return n=ci(w,l,n,null),n.return=t,f.sibling=n,t.memoizedState=Bu,t.child=f,n}return l=f.children,t.memoizedState=null,t.child=ii(t,null,l,n)}if(e.memoizedState!==null){if(e=e.child,l=e.sibling,w){if(f=f.fallback,n=ao(e,e.pendingProps),n.return=t,!(t.mode&2)&&(w=t.memoizedState!==null?t.child.child:t.child,w!==e.child))for(n.child=w;w!==null;)w.return=n,w=w.sibling;return l=ao(l,f),l.return=t,n.sibling=l,n.childExpirationTime=0,t.memoizedState=Bu,t.child=n,l}return n=Pn(t,e.child,f.children,n),t.memoizedState=null,t.child=n}if(e=e.child,w){if(w=f.fallback,f=ci(null,l,0,null),f.return=t,f.child=e,e!==null&&(e.return=f),!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,f.child=e;e!==null;)e.return=f,e=e.sibling;return n=ci(w,l,n,null),n.return=t,f.sibling=n,n.effectTag|=2,f.childExpirationTime=0,t.memoizedState=Bu,t.child=f,n}return t.memoizedState=null,t.child=Pn(t,e,f.children,n)}function hf(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t),ti(e.return,t)}function zu(e,t,n,l,f,m){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailExpiration:0,tailMode:f,lastEffect:m}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=n,w.tailExpiration=0,w.tailMode=f,w.lastEffect=m)}function pf(e,t,n){var l=t.pendingProps,f=l.revealOrder,m=l.tail;if(fe(e,t,l.children,n),l=Qe.current,l&2)l=l&1|2,t.effectTag|=64;else{if(e!==null&&e.effectTag&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,n);else if(e.tag===19)hf(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(rt(Qe,l),!(t.mode&2))t.memoizedState=null;else switch(f){case"forwards":for(n=t.child,f=null;n!==null;)e=n.alternate,e!==null&&oi(e)===null&&(f=n),n=n.sibling;n=f,n===null?(f=t.child,t.child=null):(f=n.sibling,n.sibling=null),zu(t,!1,f,n,m,t.lastEffect);break;case"backwards":for(n=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&oi(e)===null){t.child=f;break}e=f.sibling,f.sibling=n,n=f,f=e}zu(t,!0,n,null,m,t.lastEffect);break;case"together":zu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Fr(e,t,n){e!==null&&(t.dependencies=e.dependencies);var l=t.expirationTime;if(l!==0&&Tl(l),t.childExpirationTime<n)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=ao(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ao(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}var mf,Wu,gf,vf;mf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wu=function(){},gf=function(e,t,n,l,f){var m=e.memoizedProps;if(m!==l){var w=t.stateNode;switch(sn(Dt.current),e=null,n){case"input":m=In(w,m),l=In(w,l),e=[];break;case"option":m=en(w,m),l=en(w,l),e=[];break;case"select":m=r({},m,{value:void 0}),l=r({},l,{value:void 0}),e=[];break;case"textarea":m=Co(w,m),l=Co(w,l),e=[];break;default:typeof m.onClick!="function"&&typeof l.onClick=="function"&&(w.onclick=jo)}Is(n,l);var T,W;n=null;for(T in m)if(!l.hasOwnProperty(T)&&m.hasOwnProperty(T)&&m[T]!=null)if(T==="style")for(W in w=m[T],w)w.hasOwnProperty(W)&&(n||(n={}),n[W]="");else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(q.hasOwnProperty(T)?e||(e=[]):(e=e||[]).push(T,null));for(T in l){var H=l[T];if(w=m!=null?m[T]:void 0,l.hasOwnProperty(T)&&H!==w&&(H!=null||w!=null))if(T==="style")if(w){for(W in w)!w.hasOwnProperty(W)||H&&H.hasOwnProperty(W)||(n||(n={}),n[W]="");for(W in H)H.hasOwnProperty(W)&&w[W]!==H[W]&&(n||(n={}),n[W]=H[W])}else n||(e||(e=[]),e.push(T,n)),n=H;else T==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,w=w?w.__html:void 0,H!=null&&w!==H&&(e=e||[]).push(T,H)):T==="children"?w===H||typeof H!="string"&&typeof H!="number"||(e=e||[]).push(T,""+H):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(q.hasOwnProperty(T)?(H!=null&&Tt(f,T),e||w===H||(e=[])):(e=e||[]).push(T,H))}n&&(e=e||[]).push("style",n),f=e,(t.updateQueue=f)&&(t.effectTag|=4)}},vf=function(e,t,n,l){n!==l&&(t.effectTag|=4)};function dl(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ah(e,t,n){var l=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Mt(t.type)&&ts(),null;case 3:return Xn(),Ye(Nt),Ye(vt),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),e!==null&&e.child!==null||!Y(t)||(t.effectTag|=4),Wu(t),null;case 5:ss(t),n=sn(Ht.current);var f=t.type;if(e!==null&&t.stateNode!=null)gf(e,t,f,l,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!l){if(t.stateNode===null)throw Error(a(166));return null}if(e=sn(Dt.current),Y(t)){l=t.stateNode,f=t.type;var m=t.memoizedProps;switch(l[$n]=t,l[Wr]=m,f){case"iframe":case"object":case"embed":nt("load",l);break;case"video":case"audio":for(e=0;e<Ei.length;e++)nt(Ei[e],l);break;case"source":nt("error",l);break;case"img":case"image":case"link":nt("error",l),nt("load",l);break;case"form":nt("reset",l),nt("submit",l);break;case"details":nt("toggle",l);break;case"input":rr(l,m),nt("invalid",l),Tt(n,"onChange");break;case"select":l._wrapperState={wasMultiple:!!m.multiple},nt("invalid",l),Tt(n,"onChange");break;case"textarea":gt(l,m),nt("invalid",l),Tt(n,"onChange")}Is(f,m),e=null;for(var w in m)if(m.hasOwnProperty(w)){var T=m[w];w==="children"?typeof T=="string"?l.textContent!==T&&(e=["children",T]):typeof T=="number"&&l.textContent!==""+T&&(e=["children",""+T]):q.hasOwnProperty(w)&&T!=null&&Tt(n,w)}switch(f){case"input":it(l),yi(l,m,!0);break;case"textarea":it(l),wi(l);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(l.onclick=jo)}n=e,t.updateQueue=n,n!==null&&(t.effectTag|=4)}else{switch(w=n.nodeType===9?n:n.ownerDocument,e===Us&&(e=_s(f)),e===Us?f==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=w.createElement(f,{is:l.is}):(e=w.createElement(f),f==="select"&&(w=e,l.multiple?w.multiple=!0:l.size&&(w.size=l.size))):e=w.createElementNS(e,f),e[$n]=t,e[Wr]=l,mf(e,t,!1,!1),t.stateNode=e,w=Uo(f,l),f){case"iframe":case"object":case"embed":nt("load",e),T=l;break;case"video":case"audio":for(T=0;T<Ei.length;T++)nt(Ei[T],e);T=l;break;case"source":nt("error",e),T=l;break;case"img":case"image":case"link":nt("error",e),nt("load",e),T=l;break;case"form":nt("reset",e),nt("submit",e),T=l;break;case"details":nt("toggle",e),T=l;break;case"input":rr(e,l),T=In(e,l),nt("invalid",e),Tt(n,"onChange");break;case"option":T=en(e,l);break;case"select":e._wrapperState={wasMultiple:!!l.multiple},T=r({},l,{value:void 0}),nt("invalid",e),Tt(n,"onChange");break;case"textarea":gt(e,l),T=Co(e,l),nt("invalid",e),Tt(n,"onChange");break;default:T=l}Is(f,T);var W=T;for(m in W)if(W.hasOwnProperty(m)){var H=W[m];m==="style"?bs(e,H):m==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ss(e,H)):m==="children"?typeof H=="string"?(f!=="textarea"||H!=="")&&Un(e,H):typeof H=="number"&&Un(e,""+H):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(q.hasOwnProperty(m)?H!=null&&Tt(n,m):H!=null&&Dn(e,m,H,w))}switch(f){case"input":it(e),yi(e,l,!1);break;case"textarea":it(e),wi(e);break;case"option":l.value!=null&&e.setAttribute("value",""+xn(l.value));break;case"select":e.multiple=!!l.multiple,n=l.value,n!=null?Ut(e,!!l.multiple,n,!1):l.defaultValue!=null&&Ut(e,!!l.multiple,l.defaultValue,!0);break;default:typeof T.onClick=="function"&&(e.onclick=jo)}Ka(f,l)&&(t.effectTag|=4)}t.ref!==null&&(t.effectTag|=128)}return null;case 6:if(e&&t.stateNode!=null)vf(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(a(166));n=sn(Ht.current),sn(Dt.current),Y(t)?(n=t.stateNode,l=t.memoizedProps,n[$n]=t,n.nodeValue!==l&&(t.effectTag|=4)):(n=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),n[$n]=t,t.stateNode=n)}return null;case 13:return Ye(Qe),l=t.memoizedState,t.effectTag&64?(t.expirationTime=n,t):(n=l!==null,l=!1,e===null?t.memoizedProps.fallback!==void 0&&Y(t):(f=e.memoizedState,l=f!==null,n||f===null||(f=e.child.sibling,f!==null&&(m=t.firstEffect,m!==null?(t.firstEffect=f,f.nextEffect=m):(t.firstEffect=t.lastEffect=f,f.nextEffect=null),f.effectTag=8))),n&&!l&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Qe.current&1?St===to&&(St=ml):((St===to||St===ml)&&(St=gl),da!==0&&un!==null&&(lo(un,Xt),$f(un,da)))),(n||l)&&(t.effectTag|=4),null);case 4:return Xn(),Wu(t),null;case 10:return is(t),null;case 17:return Mt(t.type)&&ts(),null;case 19:if(Ye(Qe),l=t.memoizedState,l===null)return null;if(f=(t.effectTag&64)!==0,m=l.rendering,m===null){if(f)dl(l,!1);else if(St!==to||e!==null&&e.effectTag&64)for(m=t.child;m!==null;){if(e=oi(m),e!==null){for(t.effectTag|=64,dl(l,!1),f=e.updateQueue,f!==null&&(t.updateQueue=f,t.effectTag|=4),l.lastEffect===null&&(t.firstEffect=null),t.lastEffect=l.lastEffect,l=t.child;l!==null;)f=l,m=n,f.effectTag&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,e=f.alternate,e===null?(f.childExpirationTime=0,f.expirationTime=m,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null):(f.childExpirationTime=e.childExpirationTime,f.expirationTime=e.expirationTime,f.child=e.child,f.memoizedProps=e.memoizedProps,f.memoizedState=e.memoizedState,f.updateQueue=e.updateQueue,m=e.dependencies,f.dependencies=m===null?null:{expirationTime:m.expirationTime,firstContext:m.firstContext,responders:m.responders}),l=l.sibling;return rt(Qe,Qe.current&1|2),t.child}m=m.sibling}}else{if(!f)if(e=oi(m),e!==null){if(t.effectTag|=64,f=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.effectTag|=4),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate)return t=t.lastEffect=l.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Et()-l.renderingStartTime>l.tailExpiration&&1<n&&(t.effectTag|=64,f=!0,dl(l,!1),t.expirationTime=t.childExpirationTime=n-1);l.isBackwards?(m.sibling=t.child,t.child=m):(n=l.last,n!==null?n.sibling=m:t.child=m,l.last=m)}return l.tail!==null?(l.tailExpiration===0&&(l.tailExpiration=Et()+500),n=l.tail,l.rendering=n,l.tail=n.sibling,l.lastEffect=t.lastEffect,l.renderingStartTime=Et(),n.sibling=null,t=Qe.current,rt(Qe,f?t&1|2:t&1),n):null}throw Error(a(156,t.tag))}function Lh(e){switch(e.tag){case 1:Mt(e.type)&&ts();var t=e.effectTag;return t&4096?(e.effectTag=t&-4097|64,e):null;case 3:if(Xn(),Ye(Nt),Ye(vt),t=e.effectTag,t&64)throw Error(a(285));return e.effectTag=t&-4097|64,e;case 5:return ss(e),null;case 13:return Ye(Qe),t=e.effectTag,t&4096?(e.effectTag=t&-4097|64,e):null;case 19:return Ye(Qe),null;case 4:return Xn(),null;case 10:return is(e),null;default:return null}}function $u(e,t){return{value:e,source:t,stack:vi(t)}}var Nh=typeof WeakSet=="function"?WeakSet:Set;function Hu(e,t){var n=t.source,l=t.stack;l===null&&n!==null&&(l=vi(n)),n!==null&&It(n.type),t=t.value,e!==null&&e.tag===1&&It(e.type);try{console.error(t)}catch(f){setTimeout(function(){throw f})}}function Mh(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){so(e,n)}}function yf(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){so(e,n)}else t.current=null}function Rh(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.effectTag&256&&e!==null){var n=e.memoizedProps,l=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:zt(t.type,n),l),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function wf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.destroy;n.destroy=void 0,l!==void 0&&l()}n=n.next}while(n!==t)}}function xf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Dh(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:xf(3,n);return;case 1:if(e=n.stateNode,n.effectTag&4)if(t===null)e.componentDidMount();else{var l=n.elementType===n.type?t.memoizedProps:zt(n.type,t.memoizedProps);e.componentDidUpdate(l,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}t=n.updateQueue,t!==null&&Hi(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Hi(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.effectTag&4&&Ka(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&jr(n))));return;case 19:case 17:case 20:case 21:return}throw Error(a(163))}function Ef(e,t,n){switch(typeof nc=="function"&&nc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var l=e.next;rn(97<n?97:n,function(){var f=l;do{var m=f.destroy;if(m!==void 0){var w=t;try{m()}catch(T){so(w,T)}}f=f.next}while(f!==l)})}break;case 1:yf(t),n=t.stateNode,typeof n.componentWillUnmount=="function"&&Mh(t,n);break;case 5:yf(t);break;case 4:Tf(e,t,n)}}function _f(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,t!==null&&_f(t)}function Sf(e){return e.tag===5||e.tag===3||e.tag===4}function Cf(e){e:{for(var t=e.return;t!==null;){if(Sf(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var l=!1;break;case 3:t=t.containerInfo,l=!0;break;case 4:t=t.containerInfo,l=!0;break;default:throw Error(a(161))}n.effectTag&16&&(Un(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||Sf(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.effectTag&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&2)){n=n.stateNode;break e}}l?Ku(e,n,t):Gu(e,n,t)}function Ku(e,t,n){var l=e.tag,f=l===5||l===6;if(f)e=f?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jo));else if(l!==4&&(e=e.child,e!==null))for(Ku(e,t,n),e=e.sibling;e!==null;)Ku(e,t,n),e=e.sibling}function Gu(e,t,n){var l=e.tag,f=l===5||l===6;if(f)e=f?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Gu(e,t,n),e=e.sibling;e!==null;)Gu(e,t,n),e=e.sibling}function Tf(e,t,n){for(var l=t,f=!1,m,w;;){if(!f){f=l.return;e:for(;;){if(f===null)throw Error(a(160));switch(m=f.stateNode,f.tag){case 5:w=!1;break e;case 3:m=m.containerInfo,w=!0;break e;case 4:m=m.containerInfo,w=!0;break e}f=f.return}f=!0}if(l.tag===5||l.tag===6){e:for(var T=e,W=l,H=n,le=W;;)if(Ef(T,le,H),le.child!==null&&le.tag!==4)le.child.return=le,le=le.child;else{if(le===W)break e;for(;le.sibling===null;){if(le.return===null||le.return===W)break e;le=le.return}le.sibling.return=le.return,le=le.sibling}w?(T=m,W=l.stateNode,T.nodeType===8?T.parentNode.removeChild(W):T.removeChild(W)):m.removeChild(l.stateNode)}else if(l.tag===4){if(l.child!==null){m=l.stateNode.containerInfo,w=!0,l.child.return=l,l=l.child;continue}}else if(Ef(e,l,n),l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return,l.tag===4&&(f=!1)}l.sibling.return=l.return,l=l.sibling}}function Vu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:wf(3,t);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var l=t.memoizedProps,f=e!==null?e.memoizedProps:l;e=t.type;var m=t.updateQueue;if(t.updateQueue=null,m!==null){for(n[Wr]=l,e==="input"&&l.type==="radio"&&l.name!=null&&Nr(n,l),Uo(e,f),t=Uo(e,l),f=0;f<m.length;f+=2){var w=m[f],T=m[f+1];w==="style"?bs(n,T):w==="dangerouslySetInnerHTML"?Ss(n,T):w==="children"?Un(n,T):Dn(n,w,T,t)}switch(e){case"input":Jt(n,l);break;case"textarea":Rr(n,l);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!l.multiple,e=l.value,e!=null?Ut(n,!!l.multiple,e,!1):t!==!!l.multiple&&(l.defaultValue!=null?Ut(n,!!l.multiple,l.defaultValue,!0):Ut(n,!!l.multiple,l.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:t=t.stateNode,t.hydrate&&(t.hydrate=!1,jr(t.containerInfo));return;case 12:return;case 13:if(n=t,t.memoizedState===null?l=!1:(l=!0,n=t.child,Xu=Et()),n!==null)e:for(e=n;;){if(e.tag===5)m=e.stateNode,l?(m=m.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(m=e.stateNode,f=e.memoizedProps.style,f=f!=null&&f.hasOwnProperty("display")?f.display:null,m.style.display=Io("display",f));else if(e.tag===6)e.stateNode.nodeValue=l?"":e.memoizedProps;else if(e.tag===13&&e.memoizedState!==null&&e.memoizedState.dehydrated===null){m=e.child.sibling,m.return=e,e=m;continue}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ff(t);return;case 19:Ff(t);return;case 17:return}throw Error(a(163))}function Ff(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nh),t.forEach(function(l){var f=Hh.bind(null,e,l);n.has(l)||(n.add(l),l.then(f,f))})}}var Oh=typeof WeakMap=="function"?WeakMap:Map;function Pf(e,t,n){n=qt(n,null),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){xl||(xl=!0,Zu=l),Hu(e,t)},n}function kf(e,t,n){n=qt(n,null),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var f=t.value;n.payload=function(){return Hu(e,t),l(f)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(n.callback=function(){typeof l!="function"&&(li===null?li=new Set([this]):li.add(this),Hu(e,t));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),n}var bh=Math.ceil,hl=wt.ReactCurrentDispatcher,Af=wt.ReactCurrentOwner,_t=0,qu=8,Nn=16,Qn=32,to=0,pl=1,Lf=2,ml=3,gl=4,Yu=5,Pe=_t,un=null,Ne=null,Xt=0,St=to,vl=null,Pr=1073741823,fa=1073741823,yl=null,da=0,wl=!1,Xu=0,Nf=500,pe=null,xl=!1,Zu=null,li=null,El=!1,ha=null,pa=90,no=null,ma=0,Qu=null,_l=0;function Jn(){return(Pe&(Nn|Qn))!==_t?1073741821-(Et()/10|0):_l!==0?_l:_l=1073741821-(Et()/10|0)}function ro(e,t,n){if(t=t.mode,!(t&2))return 1073741823;var l=Cn();if(!(t&4))return l===99?1073741823:1073741822;if((Pe&Nn)!==_t)return Xt;if(n!==null)e=yr(e,n.timeoutMs|0||5e3,250);else switch(l){case 99:e=1073741823;break;case 98:e=yr(e,150,100);break;case 97:case 96:e=yr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return un!==null&&e===Xt&&--e,e}function ui(e,t){if(50<ma)throw ma=0,Qu=null,Error(a(185));if(e=Sl(e,t),e!==null){var n=Cn();t===1073741823?(Pe&qu)!==_t&&(Pe&(Nn|Qn))===_t?Ju(e):(cn(e),Pe===_t&&Vt()):cn(e),(Pe&4)===_t||n!==98&&n!==99||(no===null?no=new Map([[e,t]]):(n=no.get(e),(n===void 0||n>t)&&no.set(e,t)))}}function Sl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t);var l=e.return,f=null;if(l===null&&e.tag===3)f=e.stateNode;else for(;l!==null;){if(n=l.alternate,l.childExpirationTime<t&&(l.childExpirationTime=t),n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t),l.return===null&&l.tag===3){f=l.stateNode;break}l=l.return}return f!==null&&(un===f&&(Tl(t),St===gl&&lo(f,Xt)),$f(f,t)),f}function Cl(e){var t=e.lastExpiredTime;if(t!==0||(t=e.firstPendingTime,!Wf(e,t)))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function cn(e){if(e.lastExpiredTime!==0)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=vr(Ju.bind(null,e));else{var t=Cl(e),n=e.callbackNode;if(t===0)n!==null&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var l=Jn();if(t===1073741823?l=99:t===1||t===2?l=95:(l=10*(1073741821-t)-10*(1073741821-l),l=0>=l?99:250>=l?98:5250>=l?97:95),n!==null){var f=e.callbackPriority;if(e.callbackExpirationTime===t&&f>=l)return;n!==Sn&&ul(n)}e.callbackExpirationTime=t,e.callbackPriority=l,t=t===1073741823?vr(Ju.bind(null,e)):Tn(l,Mf.bind(null,e),{timeout:10*(1073741821-t)-Et()}),e.callbackNode=t}}}function Mf(e,t){if(_l=0,t)return t=Jn(),sc(e,t),cn(e),null;var n=Cl(e);if(n!==0){if(t=e.callbackNode,(Pe&(Nn|Qn))!==_t)throw Error(a(327));if(ds(),e===un&&n===Xt||io(e,n),Ne!==null){var l=Pe;Pe|=Nn;var f=bf();do try{jh();break}catch(T){Of(e,T)}while(!0);if(Wi(),Pe=l,hl.current=f,St===pl)throw t=vl,io(e,n),lo(e,n),cn(e),t;if(Ne===null)switch(f=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,l=St,un=null,l){case to:case pl:throw Error(a(345));case Lf:sc(e,2<n?2:n);break;case ml:if(lo(e,n),l=e.lastSuspendedTime,n===l&&(e.nextKnownPendingLevel=ec(f)),Pr===1073741823&&(f=Xu+Nf-Et(),10<f)){if(wl){var m=e.lastPingedTime;if(m===0||m>=n){e.lastPingedTime=n,io(e,n);break}}if(m=Cl(e),m!==0&&m!==n)break;if(l!==0&&l!==n){e.lastPingedTime=l;break}e.timeoutHandle=Hs(oo.bind(null,e),f);break}oo(e);break;case gl:if(lo(e,n),l=e.lastSuspendedTime,n===l&&(e.nextKnownPendingLevel=ec(f)),wl&&(f=e.lastPingedTime,f===0||f>=n)){e.lastPingedTime=n,io(e,n);break}if(f=Cl(e),f!==0&&f!==n)break;if(l!==0&&l!==n){e.lastPingedTime=l;break}if(fa!==1073741823?l=10*(1073741821-fa)-Et():Pr===1073741823?l=0:(l=10*(1073741821-Pr)-5e3,f=Et(),n=10*(1073741821-n)-f,l=f-l,0>l&&(l=0),l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*bh(l/1960))-l,n<l&&(l=n)),10<l){e.timeoutHandle=Hs(oo.bind(null,e),l);break}oo(e);break;case Yu:if(Pr!==1073741823&&yl!==null){m=Pr;var w=yl;if(l=w.busyMinDurationMs|0,0>=l?l=0:(f=w.busyDelayMs|0,m=Et()-(10*(1073741821-m)-(w.timeoutMs|0||5e3)),l=m<=f?0:f+l-m),10<l){lo(e,n),e.timeoutHandle=Hs(oo.bind(null,e),l);break}}oo(e);break;default:throw Error(a(329))}if(cn(e),e.callbackNode===t)return Mf.bind(null,e)}}return null}function Ju(e){var t=e.lastExpiredTime;if(t=t!==0?t:1073741823,(Pe&(Nn|Qn))!==_t)throw Error(a(327));if(ds(),e===un&&t===Xt||io(e,t),Ne!==null){var n=Pe;Pe|=Nn;var l=bf();do try{Uh();break}catch(f){Of(e,f)}while(!0);if(Wi(),Pe=n,hl.current=l,St===pl)throw n=vl,io(e,t),lo(e,t),cn(e),n;if(Ne!==null)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,un=null,oo(e),cn(e)}return null}function Ih(){if(no!==null){var e=no;no=null,e.forEach(function(t,n){sc(n,t),cn(n)}),Vt()}}function Rf(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===_t&&Vt()}}function Df(e,t){var n=Pe;Pe&=-2,Pe|=qu;try{return e(t)}finally{Pe=n,Pe===_t&&Vt()}}function io(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fu(n)),Ne!==null)for(n=Ne.return;n!==null;){var l=n;switch(l.tag){case 1:l=l.type.childContextTypes,l!=null&&ts();break;case 3:Xn(),Ye(Nt),Ye(vt);break;case 5:ss(l);break;case 4:Xn();break;case 13:Ye(Qe);break;case 19:Ye(Qe);break;case 10:is(l)}n=n.return}un=e,Ne=ao(e.current,null),Xt=t,St=to,vl=null,fa=Pr=1073741823,yl=null,da=0,wl=!1}function Of(e,t){do{try{if(Wi(),si.current=_,as)for(var n=lt.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}if(An=0,ut=dt=lt=null,as=!1,Ne===null||Ne.return===null)return St=pl,vl=t,Ne=null;e:{var f=e,m=Ne.return,w=Ne,T=t;if(t=Xt,w.effectTag|=2048,w.firstEffect=w.lastEffect=null,T!==null&&typeof T=="object"&&typeof T.then=="function"){var W=T;if(!(w.mode&2)){var H=w.alternate;H?(w.updateQueue=H.updateQueue,w.memoizedState=H.memoizedState,w.expirationTime=H.expirationTime):(w.updateQueue=null,w.memoizedState=null)}var le=(Qe.current&1)!==0,de=m;do{var We;if(We=de.tag===13){var Ge=de.memoizedState;if(Ge!==null)We=Ge.dehydrated!==null;else{var wn=de.memoizedProps;We=wn.fallback===void 0?!1:wn.unstable_avoidThisFallback!==!0?!0:!le}}if(We){var kt=de.updateQueue;if(kt===null){var O=new Set;O.add(W),de.updateQueue=O}else kt.add(W);if(!(de.mode&2)){if(de.effectTag|=64,w.effectTag&=-2981,w.tag===1)if(w.alternate===null)w.tag=17;else{var R=qt(1073741823,null);R.tag=2,yt(w,R)}w.expirationTime=1073741823;break e}T=void 0,w=t;var K=f.pingCache;if(K===null?(K=f.pingCache=new Oh,T=new Set,K.set(W,T)):(T=K.get(W),T===void 0&&(T=new Set,K.set(W,T))),!T.has(w)){T.add(w);var ee=$h.bind(null,f,W,w);W.then(ee,ee)}de.effectTag|=4096,de.expirationTime=t;break e}de=de.return}while(de!==null);T=Error((It(w.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+vi(w))}St!==Yu&&(St=Lf),T=$u(T,w),de=m;do{switch(de.tag){case 3:W=T,de.effectTag|=4096,de.expirationTime=t;var ae=Pf(de,W,t);_r(de,ae);break e;case 1:W=T;var he=de.type,Se=de.stateNode;if(!(de.effectTag&64)&&(typeof he.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(li===null||!li.has(Se)))){de.effectTag|=4096,de.expirationTime=t;var $e=kf(de,W,t);_r(de,$e);break e}}de=de.return}while(de!==null)}Ne=jf(Ne)}catch(st){t=st;continue}break}while(!0)}function bf(){var e=hl.current;return hl.current=_,e===null?_:e}function If(e,t){e<Pr&&2<e&&(Pr=e),t!==null&&e<fa&&2<e&&(fa=e,yl=t)}function Tl(e){e>da&&(da=e)}function Uh(){for(;Ne!==null;)Ne=Uf(Ne)}function jh(){for(;Ne!==null&&!rs();)Ne=Uf(Ne)}function Uf(e){var t=zf(e.alternate,e,Xt);return e.memoizedProps=e.pendingProps,t===null&&(t=jf(e)),Af.current=null,t}function jf(e){Ne=e;do{var t=Ne.alternate;if(e=Ne.return,Ne.effectTag&2048){if(t=Lh(Ne),t!==null)return t.effectTag&=2047,t;e!==null&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(t=Ah(t,Ne,Xt),Xt===1||Ne.childExpirationTime!==1){for(var n=0,l=Ne.child;l!==null;){var f=l.expirationTime,m=l.childExpirationTime;f>n&&(n=f),m>n&&(n=m),l=l.sibling}Ne.childExpirationTime=n}if(t!==null)return t;e!==null&&!(e.effectTag&2048)&&(e.firstEffect===null&&(e.firstEffect=Ne.firstEffect),Ne.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=Ne.firstEffect),e.lastEffect=Ne.lastEffect),1<Ne.effectTag&&(e.lastEffect!==null?e.lastEffect.nextEffect=Ne:e.firstEffect=Ne,e.lastEffect=Ne))}if(t=Ne.sibling,t!==null)return t;Ne=e}while(Ne!==null);return St===to&&(St=Yu),null}function ec(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function oo(e){var t=Cn();return rn(99,Bh.bind(null,e,t)),null}function Bh(e,t){do ds();while(ha!==null);if((Pe&(Nn|Qn))!==_t)throw Error(a(327));var n=e.finishedWork,l=e.finishedExpirationTime;if(n===null)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var f=ec(n);if(e.firstPendingTime=f,l<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:l<=e.firstSuspendedTime&&(e.firstSuspendedTime=l-1),l<=e.lastPingedTime&&(e.lastPingedTime=0),l<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===un&&(Ne=un=null,Xt=0),1<n.effectTag?n.lastEffect!==null?(n.lastEffect.nextEffect=n,f=n.firstEffect):f=n:f=n.firstEffect,f!==null){var m=Pe;Pe|=Qn,Af.current=null,zo=Oo;var w=$a();if(Bs(w)){if("selectionStart"in w)var T={start:w.selectionStart,end:w.selectionEnd};else e:{T=(T=w.ownerDocument)&&T.defaultView||window;var W=T.getSelection&&T.getSelection();if(W&&W.rangeCount!==0){T=W.anchorNode;var H=W.anchorOffset,le=W.focusNode;W=W.focusOffset;try{T.nodeType,le.nodeType}catch{T=null;break e}var de=0,We=-1,Ge=-1,wn=0,kt=0,O=w,R=null;t:for(;;){for(var K;O!==T||H!==0&&O.nodeType!==3||(We=de+H),O!==le||W!==0&&O.nodeType!==3||(Ge=de+W),O.nodeType===3&&(de+=O.nodeValue.length),(K=O.firstChild)!==null;)R=O,O=K;for(;;){if(O===w)break t;if(R===T&&++wn===H&&(We=de),R===le&&++kt===W&&(Ge=de),(K=O.nextSibling)!==null)break;O=R,R=O.parentNode}O=K}T=We===-1||Ge===-1?null:{start:We,end:Ge}}else T=null}T=T||{start:0,end:0}}else T=null;Wo={activeElementDetached:null,focusedElem:w,selectionRange:T},Oo=!1,pe=f;do try{zh()}catch(Oe){if(pe===null)throw Error(a(330));so(pe,Oe),pe=pe.nextEffect}while(pe!==null);pe=f;do try{for(w=e,T=t;pe!==null;){var ee=pe.effectTag;if(ee&16&&Un(pe.stateNode,""),ee&128){var ae=pe.alternate;if(ae!==null){var he=ae.ref;he!==null&&(typeof he=="function"?he(null):he.current=null)}}switch(ee&1038){case 2:Cf(pe),pe.effectTag&=-3;break;case 6:Cf(pe),pe.effectTag&=-3,Vu(pe.alternate,pe);break;case 1024:pe.effectTag&=-1025;break;case 1028:pe.effectTag&=-1025,Vu(pe.alternate,pe);break;case 4:Vu(pe.alternate,pe);break;case 8:H=pe,Tf(w,H,T),_f(H)}pe=pe.nextEffect}}catch(Oe){if(pe===null)throw Error(a(330));so(pe,Oe),pe=pe.nextEffect}while(pe!==null);if(he=Wo,ae=$a(),ee=he.focusedElem,T=he.selectionRange,ae!==ee&&ee&&ee.ownerDocument&&Wa(ee.ownerDocument.documentElement,ee)){for(T!==null&&Bs(ee)&&(ae=T.start,he=T.end,he===void 0&&(he=ae),"selectionStart"in ee?(ee.selectionStart=ae,ee.selectionEnd=Math.min(he,ee.value.length)):(he=(ae=ee.ownerDocument||document)&&ae.defaultView||window,he.getSelection&&(he=he.getSelection(),H=ee.textContent.length,w=Math.min(T.start,H),T=T.end===void 0?w:Math.min(T.end,H),!he.extend&&w>T&&(H=T,T=w,w=H),H=za(ee,w),le=za(ee,T),H&&le&&(he.rangeCount!==1||he.anchorNode!==H.node||he.anchorOffset!==H.offset||he.focusNode!==le.node||he.focusOffset!==le.offset)&&(ae=ae.createRange(),ae.setStart(H.node,H.offset),he.removeAllRanges(),w>T?(he.addRange(ae),he.extend(le.node,le.offset)):(ae.setEnd(le.node,le.offset),he.addRange(ae)))))),ae=[],he=ee;he=he.parentNode;)he.nodeType===1&&ae.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<ae.length;ee++)he=ae[ee],he.element.scrollLeft=he.left,he.element.scrollTop=he.top}Oo=!!zo,Wo=zo=null,e.current=n,pe=f;do try{for(ee=e;pe!==null;){var Se=pe.effectTag;if(Se&36&&Dh(ee,pe.alternate,pe),Se&128){ae=void 0;var $e=pe.ref;if($e!==null){var st=pe.stateNode;switch(pe.tag){case 5:ae=st;break;default:ae=st}typeof $e=="function"?$e(ae):$e.current=ae}}pe=pe.nextEffect}}catch(Oe){if(pe===null)throw Error(a(330));so(pe,Oe),pe=pe.nextEffect}while(pe!==null);pe=null,ji(),Pe=m}else e.current=n;if(El)El=!1,ha=e,pa=t;else for(pe=f;pe!==null;)t=pe.nextEffect,pe.nextEffect=null,pe=t;if(t=e.firstPendingTime,t===0&&(li=null),t===1073741823?e===Qu?ma++:(ma=0,Qu=e):ma=0,typeof tc=="function"&&tc(n.stateNode,l),cn(e),xl)throw xl=!1,e=Zu,Zu=null,e;return(Pe&qu)!==_t||Vt(),null}function zh(){for(;pe!==null;){var e=pe.effectTag;e&256&&Rh(pe.alternate,pe),!(e&512)||El||(El=!0,Tn(97,function(){return ds(),null})),pe=pe.nextEffect}}function ds(){if(pa!==90){var e=97<pa?97:pa;return pa=90,rn(e,Wh)}}function Wh(){if(ha===null)return!1;var e=ha;if(ha=null,(Pe&(Nn|Qn))!==_t)throw Error(a(331));var t=Pe;for(Pe|=Qn,e=e.current.firstEffect;e!==null;){try{var n=e;if(n.effectTag&512)switch(n.tag){case 0:case 11:case 15:case 22:wf(5,n),xf(5,n)}}catch(l){if(e===null)throw Error(a(330));so(e,l)}n=e.nextEffect,e.nextEffect=null,e=n}return Pe=t,Vt(),!0}function Bf(e,t,n){t=$u(n,t),t=Pf(e,t,1073741823),yt(e,t),e=Sl(e,1073741823),e!==null&&cn(e)}function so(e,t){if(e.tag===3)Bf(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){Bf(n,e,t);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(li===null||!li.has(l))){e=$u(t,e),e=kf(n,e,1073741823),yt(n,e),n=Sl(n,1073741823),n!==null&&cn(n);break}}n=n.return}}function $h(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),un===e&&Xt===n?St===gl||St===ml&&Pr===1073741823&&Et()-Xu<Nf?io(e,Xt):wl=!0:Wf(e,n)&&(t=e.lastPingedTime,t!==0&&t<n||(e.lastPingedTime=n,cn(e)))}function Hh(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=Jn(),t=ro(t,e,null)),e=Sl(e,t),e!==null&&cn(e)}var zf;zf=function(e,t,n){var l=t.expirationTime;if(e!==null){var f=t.pendingProps;if(e.memoizedProps!==f||Nt.current)se=!0;else{if(l<n){switch(se=!1,t.tag){case 3:ff(t),De();break;case 5:if(fl(t),t.mode&4&&n!==1&&f.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Mt(t.type)&&Xr(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:l=t.memoizedProps.value,f=t.type._context,rt(Jr,f._currentValue),f._currentValue=l;break;case 13:if(t.memoizedState!==null)return l=t.child.childExpirationTime,l!==0&&l>=n?df(e,t,n):(rt(Qe,Qe.current&1),t=Fr(e,t,n),t!==null?t.sibling:null);rt(Qe,Qe.current&1);break;case 19:if(l=t.childExpirationTime>=n,e.effectTag&64){if(l)return pf(e,t,n);t.effectTag|=64}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null),rt(Qe,Qe.current),!l)return null}return Fr(e,t,n)}se=!1}}else se=!1;switch(t.expirationTime=0,t.tag){case 2:if(l=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,f=Yr(t,vt.current),xr(t,n),f=be(null,t,l,e,f,n),t.effectTag|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(l)){var m=!0;Xr(t)}else m=!1;t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,$i(t);var w=l.getDerivedStateFromProps;typeof w=="function"&&Vn(t,l,w,e),f.updater=Fn,t.stateNode=f,f._reactInternalFiber=t,ni(t,l,e,n),t=fs(null,t,l,!0,m,n)}else t.tag=0,fe(null,t,f,n),t=t.child;return t;case 16:e:{if(f=t.elementType,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,Es(f),f._status!==1)throw f._result;switch(f=f._result,t.type=f,m=t.tag=Vh(f),e=zt(f,e),m){case 0:t=Ji(null,t,f,e,n);break e;case 1:t=eo(null,t,f,e,n);break e;case 11:t=Le(null,t,f,e,n);break e;case 14:t=ct(null,t,f,zt(f.type,e),l,n);break e}throw Error(a(306,f,""))}return t;case 0:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:zt(l,f),Ji(e,t,l,f,n);case 1:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:zt(l,f),eo(e,t,l,f,n);case 3:if(ff(t),l=t.updateQueue,e===null||l===null)throw Error(a(282));if(l=t.pendingProps,f=t.memoizedState,f=f!==null?f.element:null,Er(e,t),vn(t,l,null,n),l=t.memoizedState.element,l===f)De(),t=Fr(e,t,n);else{if((f=t.stateNode.hydrate)&&(J=zr(t.stateNode.containerInfo.firstChild),V=t,f=re=!0),f)for(n=ii(t,null,l,n),t.child=n;n;)n.effectTag=n.effectTag&-3|1024,n=n.sibling;else fe(e,t,l,n),De();t=t.child}return t;case 5:return fl(t),e===null&&ge(t),l=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,w=f.children,$s(l,f)?w=null:m!==null&&$s(l,m)&&(t.effectTag|=16),ln(e,t),t.mode&4&&n!==1&&f.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(fe(e,t,w,n),t=t.child),t;case 6:return e===null&&ge(t),null;case 13:return df(e,t,n);case 4:return os(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Pn(t,null,l,n):fe(e,t,l,n),t.child;case 11:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:zt(l,f),Le(e,t,l,f,n);case 7:return fe(e,t,t.pendingProps,n),t.child;case 8:return fe(e,t,t.pendingProps.children,n),t.child;case 12:return fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{l=t.type._context,f=t.pendingProps,w=t.memoizedProps,m=f.value;var T=t.type._context;if(rt(Jr,T._currentValue),T._currentValue=m,w!==null)if(T=w.value,m=cr(T,m)?0:(typeof l._calculateChangedBits=="function"?l._calculateChangedBits(T,m):1073741823)|0,m===0){if(w.children===f.children&&!Nt.current){t=Fr(e,t,n);break e}}else for(T=t.child,T!==null&&(T.return=t);T!==null;){var W=T.dependencies;if(W!==null){w=T.child;for(var H=W.firstContext;H!==null;){if(H.context===l&&H.observedBits&m){T.tag===1&&(H=qt(n,null),H.tag=2,yt(T,H)),T.expirationTime<n&&(T.expirationTime=n),H=T.alternate,H!==null&&H.expirationTime<n&&(H.expirationTime=n),ti(T.return,n),W.expirationTime<n&&(W.expirationTime=n);break}H=H.next}}else w=T.tag===10&&T.type===t.type?null:T.child;if(w!==null)w.return=T;else for(w=T;w!==null;){if(w===t){w=null;break}if(T=w.sibling,T!==null){T.return=w.return,w=T;break}w=w.return}T=w}fe(e,t,f.children,n),t=t.child}return t;case 9:return f=t.type,m=t.pendingProps,l=m.children,xr(t,n),f=Ze(f,m.unstable_observedBits),l=l(f),t.effectTag|=1,fe(e,t,l,n),t.child;case 14:return f=t.type,m=zt(f,t.pendingProps),m=zt(f.type,m),ct(e,t,f,m,l,n);case 15:return pt(e,t,t.type,t.pendingProps,l,n);case 17:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:zt(l,f),e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mt(l)?(e=!0,Xr(t)):e=!1,xr(t,n),Ki(t,l,f),ni(t,l,f,n),fs(null,t,l,!0,e,n);case 19:return pf(e,t,n)}throw Error(a(156,t.tag))};var tc=null,nc=null;function Kh(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);tc=function(l){try{t.onCommitFiberRoot(n,l,void 0,(l.current.effectTag&64)===64)}catch{}},nc=function(l){try{t.onCommitFiberUnmount(n,l)}catch{}}}catch{}return!0}function Gh(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function er(e,t,n,l){return new Gh(e,t,n,l)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vh(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xo)return 11;if(e===Ee)return 14}return 2}function ao(e,t){var n=e.alternate;return n===null?(n=er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,l,f,m){var w=2;if(l=e,typeof e=="function")rc(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case On:return ci(n.children,f,m,t);case wo:w=8,f|=7;break;case yo:w=8,f|=1;break;case bn:return e=er(12,n,t,f|8),e.elementType=bn,e.type=bn,e.expirationTime=m,e;case Eo:return e=er(13,n,t,f),e.type=Eo,e.elementType=Eo,e.expirationTime=m,e;case _o:return e=er(19,n,t,f),e.elementType=_o,e.expirationTime=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ws:w=10;break e;case xs:w=9;break e;case xo:w=11;break e;case Ee:w=14;break e;case ka:w=16,l=null;break e;case Aa:w=22;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=er(w,n,t,f),t.elementType=e,t.type=l,t.expirationTime=m,t}function ci(e,t,n,l){return e=er(7,e,l,t),e.expirationTime=n,e}function ic(e,t,n){return e=er(6,e,null,t),e.expirationTime=n,e}function oc(e,t,n){return t=er(4,e.children!==null?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qh(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Wf(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,n!==0&&n>=t&&e<=t}function lo(e,t){var n=e.firstSuspendedTime,l=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(l>t||n===0)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $f(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;n!==0&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function sc(e,t){var n=e.lastExpiredTime;(n===0||n>t)&&(e.lastExpiredTime=t)}function Pl(e,t,n,l){var f=t.current,m=Jn(),w=yn.suspense;m=ro(m,f,w);e:if(n){n=n._reactInternalFiber;t:{if(br(n)!==n||n.tag!==1)throw Error(a(170));var T=n;do{switch(T.tag){case 3:T=T.stateNode.context;break t;case 1:if(Mt(T.type)){T=T.stateNode.__reactInternalMemoizedMergedChildContext;break t}}T=T.return}while(T!==null);throw Error(a(171))}if(n.tag===1){var W=n.type;if(Mt(W)){n=sa(n,W,T);break e}}n=T}else n=Xe;return t.context===null?t.context=n:t.pendingContext=n,t=qt(m,w),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),yt(f,t),ui(f,m),m}function ac(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hf(e,t){e=e.memoizedState,e!==null&&e.dehydrated!==null&&e.retryTime<t&&(e.retryTime=t)}function lc(e,t){Hf(e,t),(e=e.alternate)&&Hf(e,t)}function uc(e,t,n){n=n!=null&&n.hydrate===!0;var l=new qh(e,t,n),f=er(3,null,null,t===2?7:t===1?3:0);l.current=f,f.stateNode=l,$i(f),e[Li]=l.current,n&&t!==0&&cf(e,e.nodeType===9?e:e.ownerDocument),this._internalRoot=l}uc.prototype.render=function(e){Pl(e,this._internalRoot,null,null)},uc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Pl(null,e,null,function(){t[Li]=null})};function ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yh(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new uc(e,0,t?{hydrate:!0}:void 0)}function kl(e,t,n,l,f){var m=n._reactRootContainer;if(m){var w=m._internalRoot;if(typeof f=="function"){var T=f;f=function(){var H=ac(w);T.call(H)}}Pl(t,w,e,f)}else{if(m=n._reactRootContainer=Yh(n,l),w=m._internalRoot,typeof f=="function"){var W=f;f=function(){var H=ac(w);W.call(H)}}Df(function(){Pl(t,w,e,f)})}return ac(w)}function Xh(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}Ls=function(e){if(e.tag===13){var t=yr(Jn(),150,100);ui(e,t),lc(e,t)}},No=function(e){e.tag===13&&(ui(e,3),lc(e,3))},Oa=function(e){if(e.tag===13){var t=Jn();t=ro(t,e,null),ui(e,t),lc(e,t)}},we=function(e,t,n){switch(t){case"input":if(Jt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var f=Ks(l);if(!f)throw Error(a(90));Lr(l),Jt(l,f)}}}break;case"textarea":Rr(e,n);break;case"select":t=n.value,t!=null&&Ut(e,!!n.multiple,t,!1)}},ft=Rf,at=function(e,t,n,l,f){var m=Pe;Pe|=4;try{return rn(98,e.bind(null,t,n,l,f))}finally{Pe=m,Pe===_t&&Vt()}},Je=function(){(Pe&(1|Nn|Qn))===_t&&(Ih(),ds())},ke=function(e,t){var n=Pe;Pe|=2;try{return e(t)}finally{Pe=n,Pe===_t&&Vt()}};function Kf(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ga(t))throw Error(a(200));return Xh(e,t,null,n)}var Zh={Events:[Mi,lr,Ks,me,j,Hr,function(e){Ts(e,Ho)},Ie,He,Ai,Ao,ds,{current:!1}]};return function(e){var t=e.findFiberByHostInstance;return Kh(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ra(n),n===null?null:n.stateNode},findFiberByHostInstance:function(n){return t?t(n):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ni,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zh,fn.createPortal=Kf,fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternalFiber;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):Error(a(268,Object.keys(e)));return e=Ra(t),e=e===null?null:e.stateNode,e},fn.flushSync=function(e,t){if((Pe&(Nn|Qn))!==_t)throw Error(a(187));var n=Pe;Pe|=1;try{return rn(99,e.bind(null,t))}finally{Pe=n,Vt()}},fn.hydrate=function(e,t,n){if(!ga(t))throw Error(a(200));return kl(null,e,t,!0,n)},fn.render=function(e,t,n){if(!ga(t))throw Error(a(200));return kl(null,e,t,!1,n)},fn.unmountComponentAtNode=function(e){if(!ga(e))throw Error(a(40));return e._reactRootContainer?(Df(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[Li]=null})}),!0):!1},fn.unstable_batchedUpdates=Rf,fn.unstable_createPortal=function(e,t){return Kf(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},fn.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!ga(n))throw Error(a(200));if(e==null||e._reactInternalFiber===void 0)throw Error(a(38));return kl(e,t,n,!1,l)},fn.version="16.14.0",fn}var ed;function qc(){if(ed)return hc.exports;ed=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),hc.exports=sp(),hc.exports}var nh=qc(),gc,td;function ap(){if(td)return gc;td=1;var o=function(){};return gc=o,gc}var lp=ap();const kr=vo(lp);var vc={exports:{}},yc,nd;function up(){if(nd)return yc;nd=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yc=o,yc}var wc,rd;function cp(){if(rd)return wc;rd=1;var o=up();function r(){}function i(){}return i.resetWarningCache=r,wc=function(){function a(g,y,S,x,E,L){if(L!==o){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}a.isRequired=a;function c(){return a}var p={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:c,element:a,elementType:a,instanceOf:c,node:a,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:i,resetWarningCache:r};return p.PropTypes=p,p},wc}var id;function Ca(){return id||(id=1,vc.exports=cp()()),vc.exports}var fp=Ca();const ce=vo(fp);function zl(){return zl=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o},zl.apply(this,arguments)}function Al(o){return o.charAt(0)==="/"}function xc(o,r){for(var i=r,a=i+1,c=o.length;a<c;i+=1,a+=1)o[i]=o[a];o.pop()}function dp(o,r){r===void 0&&(r="");var i=o&&o.split("/")||[],a=r&&r.split("/")||[],c=o&&Al(o),p=r&&Al(r),g=c||p;if(o&&Al(o)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";var y;if(a.length){var S=a[a.length-1];y=S==="."||S===".."||S===""}else y=!1;for(var x=0,E=a.length;E>=0;E--){var L=a[E];L==="."?xc(a,E):L===".."?(xc(a,E),x++):x&&(xc(a,E),x--)}if(!g)for(;x--;x)a.unshift("..");g&&a[0]!==""&&(!a[0]||!Al(a[0]))&&a.unshift("");var U=a.join("/");return y&&U.substr(-1)!=="/"&&(U+="/"),U}var hp="Invariant failed";function pp(o,r){throw new Error(hp)}function mp(o){return o.charAt(0)==="/"?o:"/"+o}function gp(o,r){return o.toLowerCase().indexOf(r.toLowerCase())===0&&"/?#".indexOf(o.charAt(r.length))!==-1}function vp(o,r){return gp(o,r)?o.substr(r.length):o}function yp(o){return o.charAt(o.length-1)==="/"?o.slice(0,-1):o}function wp(o){var r=o||"/",i="",a="",c=r.indexOf("#");c!==-1&&(a=r.substr(c),r=r.substr(0,c));var p=r.indexOf("?");return p!==-1&&(i=r.substr(p),r=r.substr(0,p)),{pathname:r,search:i==="?"?"":i,hash:a==="#"?"":a}}function xp(o){var r=o.pathname,i=o.search,a=o.hash,c=r||"/";return i&&i!=="?"&&(c+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(c+=a.charAt(0)==="#"?a:"#"+a),c}function Il(o,r,i,a){var c;typeof o=="string"?(c=wp(o),c.state=r):(c=zl({},o),c.pathname===void 0&&(c.pathname=""),c.search?c.search.charAt(0)!=="?"&&(c.search="?"+c.search):c.search="",c.hash?c.hash.charAt(0)!=="#"&&(c.hash="#"+c.hash):c.hash="",r!==void 0&&c.state===void 0&&(c.state=r));try{c.pathname=decodeURI(c.pathname)}catch(p){throw p instanceof URIError?new URIError('Pathname "'+c.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):p}return i&&(c.key=i),a?c.pathname?c.pathname.charAt(0)!=="/"&&(c.pathname=dp(c.pathname,a.pathname)):c.pathname=a.pathname:c.pathname||(c.pathname="/"),c}function Ep(){var o=null;function r(g){return o=g,function(){o===g&&(o=null)}}function i(g,y,S,x){if(o!=null){var E=typeof o=="function"?o(g,y):o;typeof E=="string"?typeof S=="function"?S(E,x):x(!0):x(E!==!1)}else x(!0)}var a=[];function c(g){var y=!0;function S(){y&&g.apply(void 0,arguments)}return a.push(S),function(){y=!1,a=a.filter(function(x){return x!==S})}}function p(){for(var g=arguments.length,y=new Array(g),S=0;S<g;S++)y[S]=arguments[S];a.forEach(function(x){return x.apply(void 0,y)})}return{setPrompt:r,confirmTransitionTo:i,appendListener:c,notifyListeners:p}}var _p=!!(typeof window<"u"&&window.document&&window.document.createElement);function Sp(o,r){r(window.confirm(o))}function Cp(){var o=window.navigator.userAgent;return(o.indexOf("Android 2.")!==-1||o.indexOf("Android 4.0")!==-1)&&o.indexOf("Mobile Safari")!==-1&&o.indexOf("Chrome")===-1&&o.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Tp(){return window.navigator.userAgent.indexOf("Trident")===-1}function Fp(o){return o.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var od="popstate",sd="hashchange";function ad(){try{return window.history.state||{}}catch{return{}}}function Pp(o){o===void 0&&(o={}),_p||pp();var r=window.history,i=Cp(),a=!Tp(),c=o,p=c.forceRefresh,g=p===void 0?!1:p,y=c.getUserConfirmation,S=y===void 0?Sp:y,x=c.keyLength,E=x===void 0?6:x,L=o.basename?yp(mp(o.basename)):"";function U(ke){var Ue=ke||{},Ke=Ue.key,Be=Ue.state,et=window.location,Q=et.pathname,P=et.search,$=et.hash,te=Q+P+$;return L&&(te=vp(te,L)),Il(te,Be,Ke)}function B(){return Math.random().toString(36).substr(2,E)}var b=Ep();function z(ke){zl(Je,ke),Je.length=r.length,b.notifyListeners(Je.location,Je.action)}function M(ke){Fp(ke)||I(U(ke.state))}function k(){I(U(ad()))}var D=!1;function I(ke){if(D)D=!1,z();else{var Ue="POP";b.confirmTransitionTo(ke,Ue,S,function(Ke){Ke?z({action:Ue,location:ke}):G(ke)})}}function G(ke){var Ue=Je.location,Ke=q.indexOf(Ue.key);Ke===-1&&(Ke=0);var Be=q.indexOf(ke.key);Be===-1&&(Be=0);var et=Ke-Be;et&&(D=!0,we(et))}var j=U(ad()),q=[j.key];function Z(ke){return L+xp(ke)}function me(ke,Ue){var Ke="PUSH",Be=Il(ke,Ue,B(),Je.location);b.confirmTransitionTo(Be,Ke,S,function(et){if(et){var Q=Z(Be),P=Be.key,$=Be.state;if(i)if(r.pushState({key:P,state:$},null,Q),g)window.location.href=Q;else{var te=q.indexOf(Je.location.key),ue=q.slice(0,te+1);ue.push(Be.key),q=ue,z({action:Ke,location:Be})}else window.location.href=Q}})}function ye(ke,Ue){var Ke="REPLACE",Be=Il(ke,Ue,B(),Je.location);b.confirmTransitionTo(Be,Ke,S,function(et){if(et){var Q=Z(Be),P=Be.key,$=Be.state;if(i)if(r.replaceState({key:P,state:$},null,Q),g)window.location.replace(Q);else{var te=q.indexOf(Je.location.key);te!==-1&&(q[te]=Be.key),z({action:Ke,location:Be})}else window.location.replace(Q)}})}function we(ke){r.go(ke)}function ne(){we(-1)}function Te(){we(1)}var Ve=0;function Ie(ke){Ve+=ke,Ve===1&&ke===1?(window.addEventListener(od,M),a&&window.addEventListener(sd,k)):Ve===0&&(window.removeEventListener(od,M),a&&window.removeEventListener(sd,k))}var He=!1;function ft(ke){ke===void 0&&(ke=!1);var Ue=b.setPrompt(ke);return He||(Ie(1),He=!0),function(){return He&&(He=!1,Ie(-1)),Ue()}}function at(ke){var Ue=b.appendListener(ke);return Ie(1),function(){Ie(-1),Ue()}}var Je={length:r.length,action:"POP",location:j,createHref:Z,push:me,replace:ye,go:we,goBack:ne,goForward:Te,block:ft,listen:at};return Je}var Ec,ld;function kp(){if(ld)return Ec;ld=1;var o=function(r,i,a,c,p,g,y,S){if(!r){var x;if(i===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var E=[a,c,p,g,y,S],L=0;x=new Error(i.replace(/%s/g,function(){return E[L++]})),x.name="Invariant Violation"}throw x.framesToPop=1,x}};return Ec=o,Ec}var Ap=kp();const wa=vo(Ap);var Lp=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o};function Np(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function ud(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:o}function Mp(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}var Vl=function(o){Mp(r,o);function r(){var i,a,c;Np(this,r);for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];return c=(i=(a=ud(this,o.call.apply(o,[this].concat(g))),a),a.state={match:a.computeMatch(a.props.history.location.pathname)},i),ud(a,c)}return r.prototype.getChildContext=function(){return{router:Lp({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},r.prototype.computeMatch=function(a){return{path:"/",url:"/",params:{},isExact:a==="/"}},r.prototype.componentWillMount=function(){var a=this,c=this.props,p=c.children,g=c.history;wa(p==null||Lt.Children.count(p)===1,"A <Router> may have only one child element"),this.unlisten=g.listen(function(){a.setState({match:a.computeMatch(g.location.pathname)})})},r.prototype.componentWillReceiveProps=function(a){kr(this.props.history===a.history,"You cannot change <Router history>")},r.prototype.componentWillUnmount=function(){this.unlisten()},r.prototype.render=function(){var a=this.props.children;return a?Lt.Children.only(a):null},r}(Lt.Component);Vl.propTypes={history:ce.object.isRequired,children:ce.node};Vl.contextTypes={router:ce.object};Vl.childContextTypes={router:ce.object.isRequired};function Rp(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function cd(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:o}function Dp(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}var rh=function(o){Dp(r,o);function r(){var i,a,c;Rp(this,r);for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];return c=(i=(a=cd(this,o.call.apply(o,[this].concat(g))),a),a.history=Pp(a.props),i),cd(a,c)}return r.prototype.componentWillMount=function(){kr(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},r.prototype.render=function(){return Lt.createElement(Vl,{history:this.history,children:this.props.children})},r}(Lt.Component);rh.propTypes={basename:ce.string,forceRefresh:ce.bool,getUserConfirmation:ce.func,keyLength:ce.number,children:ce.node};var Op=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o};function bp(o,r){var i={};for(var a in o)r.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a]);return i}function Ip(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function fd(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:o}function Up(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}var jp=function(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)},gs=function(o){Up(r,o);function r(){var i,a,c;Ip(this,r);for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];return c=(i=(a=fd(this,o.call.apply(o,[this].concat(g))),a),a.handleClick=function(S){if(a.props.onClick&&a.props.onClick(S),!S.defaultPrevented&&S.button===0&&!a.props.target&&!jp(S)){S.preventDefault();var x=a.context.router.history,E=a.props,L=E.replace,U=E.to;L?x.replace(U):x.push(U)}},i),fd(a,c)}return r.prototype.render=function(){var a=this.props;a.replace;var c=a.to,p=a.innerRef,g=bp(a,["replace","to","innerRef"]);wa(this.context.router,"You should not use <Link> outside a <Router>"),wa(c!==void 0,'You must specify the "to" property');var y=this.context.router.history,S=typeof c=="string"?Il(c,null,null,y.location):c,x=y.createHref(S);return Lt.createElement("a",Op({},g,{onClick:this.handleClick,href:x,ref:p}))},r}(Lt.Component);gs.propTypes={onClick:ce.func,target:ce.string,replace:ce.bool,to:ce.oneOfType([ce.string,ce.object]).isRequired,innerRef:ce.oneOfType([ce.string,ce.func])};gs.defaultProps={replace:!1};gs.contextTypes={router:ce.shape({history:ce.shape({push:ce.func.isRequired,replace:ce.func.isRequired,createHref:ce.func.isRequired}).isRequired}).isRequired};var uo={exports:{}},_c,dd;function Bp(){return dd||(dd=1,_c=Array.isArray||function(o){return Object.prototype.toString.call(o)=="[object Array]"}),_c}var hd;function zp(){if(hd)return uo.exports;hd=1;var o=Bp();uo.exports=z,uo.exports.parse=i,uo.exports.compile=a,uo.exports.tokensToFunction=g,uo.exports.tokensToRegExp=b;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(M,k){for(var D=[],I=0,G=0,j="",q=k&&k.delimiter||"/",Z;(Z=r.exec(M))!=null;){var me=Z[0],ye=Z[1],we=Z.index;if(j+=M.slice(G,we),G=we+me.length,ye){j+=ye[1];continue}var ne=M[G],Te=Z[2],Ve=Z[3],Ie=Z[4],He=Z[5],ft=Z[6],at=Z[7];j&&(D.push(j),j="");var Je=Te!=null&&ne!=null&&ne!==Te,ke=ft==="+"||ft==="*",Ue=ft==="?"||ft==="*",Ke=Z[2]||q,Be=Ie||He;D.push({name:Ve||I++,prefix:Te||"",delimiter:Ke,optional:Ue,repeat:ke,partial:Je,asterisk:!!at,pattern:Be?S(Be):at?".*":"[^"+y(Ke)+"]+?"})}return G<M.length&&(j+=M.substr(G)),j&&D.push(j),D}function a(M,k){return g(i(M,k),k)}function c(M){return encodeURI(M).replace(/[\/?#]/g,function(k){return"%"+k.charCodeAt(0).toString(16).toUpperCase()})}function p(M){return encodeURI(M).replace(/[?#]/g,function(k){return"%"+k.charCodeAt(0).toString(16).toUpperCase()})}function g(M,k){for(var D=new Array(M.length),I=0;I<M.length;I++)typeof M[I]=="object"&&(D[I]=new RegExp("^(?:"+M[I].pattern+")$",E(k)));return function(G,j){for(var q="",Z=G||{},me=j||{},ye=me.pretty?c:encodeURIComponent,we=0;we<M.length;we++){var ne=M[we];if(typeof ne=="string"){q+=ne;continue}var Te=Z[ne.name],Ve;if(Te==null)if(ne.optional){ne.partial&&(q+=ne.prefix);continue}else throw new TypeError('Expected "'+ne.name+'" to be defined');if(o(Te)){if(!ne.repeat)throw new TypeError('Expected "'+ne.name+'" to not repeat, but received `'+JSON.stringify(Te)+"`");if(Te.length===0){if(ne.optional)continue;throw new TypeError('Expected "'+ne.name+'" to not be empty')}for(var Ie=0;Ie<Te.length;Ie++){if(Ve=ye(Te[Ie]),!D[we].test(Ve))throw new TypeError('Expected all "'+ne.name+'" to match "'+ne.pattern+'", but received `'+JSON.stringify(Ve)+"`");q+=(Ie===0?ne.prefix:ne.delimiter)+Ve}continue}if(Ve=ne.asterisk?p(Te):ye(Te),!D[we].test(Ve))throw new TypeError('Expected "'+ne.name+'" to match "'+ne.pattern+'", but received "'+Ve+'"');q+=ne.prefix+Ve}return q}}function y(M){return M.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function S(M){return M.replace(/([=!:$\/()])/g,"\\$1")}function x(M,k){return M.keys=k,M}function E(M){return M&&M.sensitive?"":"i"}function L(M,k){var D=M.source.match(/\((?!\?)/g);if(D)for(var I=0;I<D.length;I++)k.push({name:I,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return x(M,k)}function U(M,k,D){for(var I=[],G=0;G<M.length;G++)I.push(z(M[G],k,D).source);var j=new RegExp("(?:"+I.join("|")+")",E(D));return x(j,k)}function B(M,k,D){return b(i(M,D),k,D)}function b(M,k,D){o(k)||(D=k||D,k=[]),D=D||{};for(var I=D.strict,G=D.end!==!1,j="",q=0;q<M.length;q++){var Z=M[q];if(typeof Z=="string")j+=y(Z);else{var me=y(Z.prefix),ye="(?:"+Z.pattern+")";k.push(Z),Z.repeat&&(ye+="(?:"+me+ye+")*"),Z.optional?Z.partial?ye=me+"("+ye+")?":ye="(?:"+me+"("+ye+"))?":ye=me+"("+ye+")",j+=ye}}var we=y(D.delimiter||"/"),ne=j.slice(-we.length)===we;return I||(j=(ne?j.slice(0,-we.length):j)+"(?:"+we+"(?=$))?"),G?j+="$":j+=I&&ne?"":"(?="+we+"|$)",x(new RegExp("^"+j,E(D)),k)}function z(M,k,D){return o(k)||(D=k||D,k=[]),D=D||{},M instanceof RegExp?L(M,k):o(M)?U(M,k,D):B(M,k,D)}return uo.exports}var Wp=zp();const $p=vo(Wp);var pd={},Hp=1e4,md=0,Kp=function(r,i){var a=""+i.end+i.strict+i.sensitive,c=pd[a]||(pd[a]={});if(c[r])return c[r];var p=[],g=$p(r,p,i),y={re:g,keys:p};return md<Hp&&(c[r]=y,md++),y},ih=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments[2];typeof i=="string"&&(i={path:i});var c=i,p=c.path,g=c.exact,y=g===void 0?!1:g,S=c.strict,x=S===void 0?!1:S,E=c.sensitive,L=E===void 0?!1:E;if(p==null)return a;var U=Kp(p,{end:y,strict:x,sensitive:L}),B=U.re,b=U.keys,z=B.exec(r);if(!z)return null;var M=z[0],k=z.slice(1),D=r===M;return y&&!D?null:{path:p,url:p==="/"&&M===""?"/":M,isExact:D,params:b.reduce(function(I,G,j){return I[G.name]=k[j],I},{})}},Gp=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o};function Vp(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function gd(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:o}function qp(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}var Sc=function(r){return Lt.Children.count(r)===0},ms=function(o){qp(r,o);function r(){var i,a,c;Vp(this,r);for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];return c=(i=(a=gd(this,o.call.apply(o,[this].concat(g))),a),a.state={match:a.computeMatch(a.props,a.context.router)},i),gd(a,c)}return r.prototype.getChildContext=function(){return{router:Gp({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},r.prototype.computeMatch=function(a,c){var p=a.computedMatch,g=a.location,y=a.path,S=a.strict,x=a.exact,E=a.sensitive;if(p)return p;wa(c,"You should not use <Route> or withRouter() outside a <Router>");var L=c.route,U=(g||L.location).pathname;return ih(U,{path:y,strict:S,exact:x,sensitive:E},L.match)},r.prototype.componentWillMount=function(){kr(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),kr(!(this.props.component&&this.props.children&&!Sc(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),kr(!(this.props.render&&this.props.children&&!Sc(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},r.prototype.componentWillReceiveProps=function(a,c){kr(!(a.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),kr(!(!a.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(a,c.router)})},r.prototype.render=function(){var a=this.state.match,c=this.props,p=c.children,g=c.component,y=c.render,S=this.context.router,x=S.history,E=S.route,L=S.staticContext,U=this.props.location||E.location,B={match:a,location:U,history:x,staticContext:L};return g?a?Lt.createElement(g,B):null:y?a?y(B):null:typeof p=="function"?p(B):p&&!Sc(p)?Lt.Children.only(p):null},r}(Lt.Component);ms.propTypes={computedMatch:ce.object,path:ce.string,exact:ce.bool,strict:ce.bool,sensitive:ce.bool,component:ce.func,render:ce.func,children:ce.oneOfType([ce.func,ce.node]),location:ce.object};ms.contextTypes={router:ce.shape({history:ce.object.isRequired,route:ce.object.isRequired,staticContext:ce.object})};ms.childContextTypes={router:ce.object.isRequired};function Yp(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function Xp(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:o}function Zp(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}var Yc=function(o){Zp(r,o);function r(){return Yp(this,r),Xp(this,o.apply(this,arguments))}return r.prototype.componentWillMount=function(){wa(this.context.router,"You should not use <Switch> outside a <Router>")},r.prototype.componentWillReceiveProps=function(a){kr(!(a.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),kr(!(!a.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},r.prototype.render=function(){var a=this.context.router.route,c=this.props.children,p=this.props.location||a.location,g=void 0,y=void 0;return Lt.Children.forEach(c,function(S){if(g==null&&Lt.isValidElement(S)){var x=S.props,E=x.path,L=x.exact,U=x.strict,B=x.sensitive,b=x.from,z=E||b;y=S,g=ih(p.pathname,{path:z,exact:L,strict:U,sensitive:B},a.match)}}),g?Lt.cloneElement(y,{location:p,computedMatch:g}):null},r}(Lt.Component);Yc.contextTypes={router:ce.shape({route:ce.object.isRequired}).isRequired};Yc.propTypes={children:ce.node,location:ce.object};var Cc,vd;function Qp(){return vd||(vd=1,Cc=function o(r,i){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(r.constructor!==i.constructor)return!1;var a,c,p;if(Array.isArray(r)){if(a=r.length,a!=i.length)return!1;for(c=a;c--!==0;)if(!o(r[c],i[c]))return!1;return!0}if(r instanceof Map&&i instanceof Map){if(r.size!==i.size)return!1;for(c of r.entries())if(!i.has(c[0]))return!1;for(c of r.entries())if(!o(c[1],i.get(c[0])))return!1;return!0}if(r instanceof Set&&i instanceof Set){if(r.size!==i.size)return!1;for(c of r.entries())if(!i.has(c[0]))return!1;return!0}if(ArrayBuffer.isView(r)&&ArrayBuffer.isView(i)){if(a=r.length,a!=i.length)return!1;for(c=a;c--!==0;)if(r[c]!==i[c])return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===i.toString();if(p=Object.keys(r),a=p.length,a!==Object.keys(i).length)return!1;for(c=a;c--!==0;)if(!Object.prototype.hasOwnProperty.call(i,p[c]))return!1;for(c=a;c--!==0;){var g=p[c];if(!o(r[g],i[g]))return!1}return!0}return r!==r&&i!==i}),Cc}var Jp=Qp();const xa=vo(Jp);function Ot(o){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];throw Error("[Immer] minified error nr: "+o+(i.length?" "+i.map(function(c){return"'"+c+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function po(o){return!!o&&!!o[dn]}function hi(o){return!!o&&(function(r){if(!r||typeof r!="object")return!1;var i=Object.getPrototypeOf(r);if(i===null)return!0;var a=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return typeof a=="function"&&Function.toString.call(a)===l1}(o)||Array.isArray(o)||!!o[Td]||!!o.constructor[Td]||ql(o)||Yl(o))}function vs(o,r,i){i===void 0&&(i=!1),pi(o)===0?(i?Object.keys:ef)(o).forEach(function(a){i&&typeof a=="symbol"||r(a,o[a],o)}):o.forEach(function(a,c){return r(c,a,o)})}function pi(o){var r=o[dn];return r?r.i>3?r.i-4:r.i:Array.isArray(o)?1:ql(o)?2:Yl(o)?3:0}function Wl(o,r){return pi(o)===2?o.has(r):Object.prototype.hasOwnProperty.call(o,r)}function Ul(o,r){return pi(o)===2?o.get(r):o[r]}function oh(o,r,i){var a=pi(o);a===2?o.set(r,i):a===3?(o.delete(r),o.add(i)):o[r]=i}function e1(o,r){return o===r?o!==0||1/o==1/r:o!=o&&r!=r}function ql(o){return s1&&o instanceof Map}function Yl(o){return a1&&o instanceof Set}function fo(o){return o.o||o.t}function Xc(o){if(Array.isArray(o))return Array.prototype.slice.call(o);var r=u1(o);delete r[dn];for(var i=ef(r),a=0;a<i.length;a++){var c=i[a],p=r[c];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(r[c]={configurable:!0,writable:!0,enumerable:p.enumerable,value:o[c]})}return Object.create(Object.getPrototypeOf(o),r)}function Zc(o,r){return r===void 0&&(r=!1),Qc(o)||po(o)||!hi(o)||(pi(o)>1&&(o.set=o.add=o.clear=o.delete=t1),Object.freeze(o),r&&vs(o,function(i,a){return Zc(a,!0)},!0)),o}function t1(){Ot(2)}function Qc(o){return o==null||typeof o!="object"||Object.isFrozen(o)}function Ar(o){var r=Wc[o];return r||Ot(18,o),r}function n1(o,r){Wc[o]||(Wc[o]=r)}function yd(){return Ea}function Tc(o,r){r&&(Ar("Patches"),o.u=[],o.s=[],o.v=r)}function $l(o){jc(o),o.p.forEach(r1),o.p=null}function jc(o){o===Ea&&(Ea=o.l)}function wd(o){return Ea={p:[],l:Ea,h:o,m:!0,_:0}}function r1(o){var r=o[dn];r.i===0||r.i===1?r.j():r.g=!0}function Fc(o,r){r._=r.p.length;var i=r.p[0],a=o!==void 0&&o!==i;return r.h.O||Ar("ES5").S(r,o,a),a?(i[dn].P&&($l(r),Ot(4)),hi(o)&&(o=Hl(r,o),r.l||Kl(r,o)),r.u&&Ar("Patches").M(i[dn],o,r.u,r.s)):o=Hl(r,i,[]),$l(r),r.u&&r.v(r.u,r.s),o!==sh?o:void 0}function Hl(o,r,i){if(Qc(r))return r;var a=r[dn];if(!a)return vs(r,function(p,g){return xd(o,a,r,p,g,i)},!0),r;if(a.A!==o)return r;if(!a.P)return Kl(o,a.t,!0),a.t;if(!a.I){a.I=!0,a.A._--;var c=a.i===4||a.i===5?a.o=Xc(a.k):a.o;vs(a.i===3?new Set(c):c,function(p,g){return xd(o,a,c,p,g,i)}),Kl(o,c,!1),i&&o.u&&Ar("Patches").R(a,i,o.u,o.s)}return a.o}function xd(o,r,i,a,c,p){if(po(c)){var g=Hl(o,c,p&&r&&r.i!==3&&!Wl(r.D,a)?p.concat(a):void 0);if(oh(i,a,g),!po(g))return;o.m=!1}if(hi(c)&&!Qc(c)){if(!o.h.F&&o._<1)return;Hl(o,c),r&&r.A.l||Kl(o,c)}}function Kl(o,r,i){i===void 0&&(i=!1),o.h.F&&o.m&&Zc(r,i)}function Pc(o,r){var i=o[dn];return(i?fo(i):o)[r]}function Ed(o,r){if(r in o)for(var i=Object.getPrototypeOf(o);i;){var a=Object.getOwnPropertyDescriptor(i,r);if(a)return a;i=Object.getPrototypeOf(i)}}function Bc(o){o.P||(o.P=!0,o.l&&Bc(o.l))}function kc(o){o.o||(o.o=Xc(o.t))}function zc(o,r,i){var a=ql(r)?Ar("MapSet").N(r,i):Yl(r)?Ar("MapSet").T(r,i):o.O?function(c,p){var g=Array.isArray(c),y={i:g?1:0,A:p?p.A:yd(),P:!1,I:!1,D:{},l:p,t:c,k:null,o:null,j:null,C:!1},S=y,x=jl;g&&(S=[y],x=Bl);var E=Proxy.revocable(S,x),L=E.revoke,U=E.proxy;return y.k=U,y.j=L,U}(r,i):Ar("ES5").J(r,i);return(i?i.A:yd()).p.push(a),a}function i1(o){return po(o)||Ot(22,o),function r(i){if(!hi(i))return i;var a,c=i[dn],p=pi(i);if(c){if(!c.P&&(c.i<4||!Ar("ES5").K(c)))return c.t;c.I=!0,a=_d(i,p),c.I=!1}else a=_d(i,p);return vs(a,function(g,y){c&&Ul(c.t,g)===y||oh(a,g,r(y))}),p===3?new Set(a):a}(o)}function _d(o,r){switch(r){case 2:return new Map(o);case 3:return Array.from(o)}return Xc(o)}function o1(){function o(a){if(!hi(a))return a;if(Array.isArray(a))return a.map(o);if(ql(a))return new Map(Array.from(a.entries()).map(function(g){return[g[0],o(g[1])]}));if(Yl(a))return new Set(Array.from(a).map(o));var c=Object.create(Object.getPrototypeOf(a));for(var p in a)c[p]=o(a[p]);return c}function r(a){return po(a)?o(a):a}var i="add";n1("Patches",{$:function(a,c){return c.forEach(function(p){for(var g=p.path,y=p.op,S=a,x=0;x<g.length-1;x++){var E=pi(S),L=g[x];E!==0&&E!==1||L!=="__proto__"&&L!=="constructor"||Ot(24),typeof S=="function"&&L==="prototype"&&Ot(24),typeof(S=Ul(S,L))!="object"&&Ot(15,g.join("/"))}var U=pi(S),B=o(p.value),b=g[g.length-1];switch(y){case"replace":switch(U){case 2:return S.set(b,B);case 3:Ot(16);default:return S[b]=B}case i:switch(U){case 1:return S.splice(b,0,B);case 2:return S.set(b,B);case 3:return S.add(B);default:return S[b]=B}case"remove":switch(U){case 1:return S.splice(b,1);case 2:return S.delete(b);case 3:return S.delete(p.value);default:return delete S[b]}default:Ot(17,y)}}),a},R:function(a,c,p,g){switch(a.i){case 0:case 4:case 2:return function(y,S,x,E){var L=y.t,U=y.o;vs(y.D,function(B,b){var z=Ul(L,B),M=Ul(U,B),k=b?Wl(L,B)?"replace":i:"remove";if(z!==M||k!=="replace"){var D=S.concat(B);x.push(k==="remove"?{op:k,path:D}:{op:k,path:D,value:M}),E.push(k===i?{op:"remove",path:D}:k==="remove"?{op:i,path:D,value:r(z)}:{op:"replace",path:D,value:r(z)})}})}(a,c,p,g);case 5:case 1:return function(y,S,x,E){var L=y.t,U=y.D,B=y.o;if(B.length<L.length){var b=[B,L];L=b[0],B=b[1];var z=[E,x];x=z[0],E=z[1]}for(var M=0;M<L.length;M++)if(U[M]&&B[M]!==L[M]){var k=S.concat([M]);x.push({op:"replace",path:k,value:r(B[M])}),E.push({op:"replace",path:k,value:r(L[M])})}for(var D=L.length;D<B.length;D++){var I=S.concat([D]);x.push({op:i,path:I,value:r(B[D])})}L.length<B.length&&E.push({op:"replace",path:S.concat(["length"]),value:L.length})}(a,c,p,g);case 3:return function(y,S,x,E){var L=y.t,U=y.o,B=0;L.forEach(function(b){if(!U.has(b)){var z=S.concat([B]);x.push({op:"remove",path:z,value:b}),E.unshift({op:i,path:z,value:b})}B++}),B=0,U.forEach(function(b){if(!L.has(b)){var z=S.concat([B]);x.push({op:i,path:z,value:b}),E.unshift({op:"remove",path:z,value:b})}B++})}(a,c,p,g)}},M:function(a,c,p,g){p.push({op:"replace",path:[],value:c}),g.push({op:"replace",path:[],value:a.t})}})}var Sd,Ea,Jc=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",s1=typeof Map<"u",a1=typeof Set<"u",Cd=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",sh=Jc?Symbol.for("immer-nothing"):((Sd={})["immer-nothing"]=!0,Sd),Td=Jc?Symbol.for("immer-draftable"):"__$immer_draftable",dn=Jc?Symbol.for("immer-state"):"__$immer_state",l1=""+Object.prototype.constructor,ef=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(o){return Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o))}:Object.getOwnPropertyNames,u1=Object.getOwnPropertyDescriptors||function(o){var r={};return ef(o).forEach(function(i){r[i]=Object.getOwnPropertyDescriptor(o,i)}),r},Wc={},jl={get:function(o,r){if(r===dn)return o;var i=fo(o);if(!Wl(i,r))return function(c,p,g){var y,S=Ed(p,g);return S?"value"in S?S.value:(y=S.get)===null||y===void 0?void 0:y.call(c.k):void 0}(o,i,r);var a=i[r];return o.I||!hi(a)?a:a===Pc(o.t,r)?(kc(o),o.o[r]=zc(o.A.h,a,o)):a},has:function(o,r){return r in fo(o)},ownKeys:function(o){return Reflect.ownKeys(fo(o))},set:function(o,r,i){var a=Ed(fo(o),r);if(a!=null&&a.set)return a.set.call(o.k,i),!0;if(!o.P){var c=Pc(fo(o),r),p=c==null?void 0:c[dn];if(p&&p.t===i)return o.o[r]=i,o.D[r]=!1,!0;if(e1(i,c)&&(i!==void 0||Wl(o.t,r)))return!0;kc(o),Bc(o)}return o.o[r]===i&&typeof i!="number"||(o.o[r]=i,o.D[r]=!0,!0)},deleteProperty:function(o,r){return Pc(o.t,r)!==void 0||r in o.t?(o.D[r]=!1,kc(o),Bc(o)):delete o.D[r],o.o&&delete o.o[r],!0},getOwnPropertyDescriptor:function(o,r){var i=fo(o),a=Reflect.getOwnPropertyDescriptor(i,r);return a&&{writable:!0,configurable:o.i!==1||r!=="length",enumerable:a.enumerable,value:i[r]}},defineProperty:function(){Ot(11)},getPrototypeOf:function(o){return Object.getPrototypeOf(o.t)},setPrototypeOf:function(){Ot(12)}},Bl={};vs(jl,function(o,r){Bl[o]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),Bl.deleteProperty=function(o,r){return jl.deleteProperty.call(this,o[0],r)},Bl.set=function(o,r,i){return jl.set.call(this,o[0],r,i,o[0])};var c1=function(){function o(i){var a=this;this.O=Cd,this.F=!0,this.produce=function(c,p,g){if(typeof c=="function"&&typeof p!="function"){var y=p;p=c;var S=a;return function(B){var b=this;B===void 0&&(B=y);for(var z=arguments.length,M=Array(z>1?z-1:0),k=1;k<z;k++)M[k-1]=arguments[k];return S.produce(B,function(D){var I;return(I=p).call.apply(I,[b,D].concat(M))})}}var x;if(typeof p!="function"&&Ot(6),g!==void 0&&typeof g!="function"&&Ot(7),hi(c)){var E=wd(a),L=zc(a,c,void 0),U=!0;try{x=p(L),U=!1}finally{U?$l(E):jc(E)}return typeof Promise<"u"&&x instanceof Promise?x.then(function(B){return Tc(E,g),Fc(B,E)},function(B){throw $l(E),B}):(Tc(E,g),Fc(x,E))}if(!c||typeof c!="object")return(x=p(c))===sh?void 0:(x===void 0&&(x=c),a.F&&Zc(x,!0),x);Ot(21,c)},this.produceWithPatches=function(c,p){return typeof c=="function"?function(S){for(var x=arguments.length,E=Array(x>1?x-1:0),L=1;L<x;L++)E[L-1]=arguments[L];return a.produceWithPatches(S,function(U){return c.apply(void 0,[U].concat(E))})}:[a.produce(c,p,function(S,x){g=S,y=x}),g,y];var g,y},typeof(i==null?void 0:i.useProxies)=="boolean"&&this.setUseProxies(i.useProxies),typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze)}var r=o.prototype;return r.createDraft=function(i){hi(i)||Ot(8),po(i)&&(i=i1(i));var a=wd(this),c=zc(this,i,void 0);return c[dn].C=!0,jc(a),c},r.finishDraft=function(i,a){var c=i&&i[dn],p=c.A;return Tc(p,a),Fc(void 0,p)},r.setAutoFreeze=function(i){this.F=i},r.setUseProxies=function(i){i&&!Cd&&Ot(20),this.O=i},r.applyPatches=function(i,a){var c;for(c=a.length-1;c>=0;c--){var p=a[c];if(p.path.length===0&&p.op==="replace"){i=p.value;break}}var g=Ar("Patches").$;return po(i)?g(i,a):this.produce(i,function(y){return g(y,a.slice(c+1))})},o}(),hn=new c1,$c=hn.produce,Gl=hn.produceWithPatches.bind(hn);hn.setAutoFreeze.bind(hn);hn.setUseProxies.bind(hn);var f1=hn.applyPatches.bind(hn);hn.createDraft.bind(hn);hn.finishDraft.bind(hn);function bt(o,r,i){const a=X.useRef({state:void 0,initialized:!1});a.current.initialized||(a.current.state=r?r(o.getRawState()):o.getRawState(),a.current.initialized=!0);const[,c]=X.useState(0);if(X.useEffect(()=>{const p={shouldUpdate:!0};function g(){if(p.shouldUpdate){const y=r?r(o.getRawState()):o.getRawState();xa(a.current.state,y)||p.shouldUpdate&&(a.current.state=y,c(S=>S+1))}}return o._addUpdateListener(g),g(),()=>{p.shouldUpdate=!1,o._removeUpdateListener(g)}},i??[]),i!==void 0){const p=X.useRef(i);xa(i,p)||(a.current.state=r(o.getRawState()))}return a.current.state}function Fd(o,r){const i=X.useRef();if(i.current==null&&(i.current=new _a(o)),r!==void 0){const a=X.useRef(r);xa(r,a)||(i.current=new _a(o))}return i.current}const d1={storeOrdinal:0};o1();function h1(o,r,i){let a=r(o.getRawState());return()=>{const c=o.getRawState(),p=r(c);xa(p,a)||(i(p,c,a),a=p)}}function p1(o,r){return i=>{let a=o(i.getRawState());return(c=!1)=>{const p=i.getRawState(),g=o(p);if(c||!xa(g,a))if(i._optListenerCount>0){const[y,S,x]=Gl(p,E=>r(g,E,p,a));if(i._updateStateWithoutReaction(y),a=g,S.length>0)return i._patchListeners.forEach(E=>E(S,x)),Object.keys(tf(S))}else{if(i._patchListeners.length>0){const[y,S,x]=Gl(p,E=>r(g,E,p,a));S.length>0&&i._patchListeners.forEach(E=>E(S,x)),i._updateStateWithoutReaction(y)}else i._updateStateWithoutReaction($c(p,y=>r(g,y,p,a)));a=g}return[]}}}const ah="~._.~";class _a{constructor(r){if(this.updateListeners=[],this.ssr=!1,this.reactions=[],this.clientSubscriptions=[],this.reactionCreators=[],this.optimizedUpdateListeners={},this.optimizedUpdateListenerPaths={},this.optimizedListenerPropertyMap={},this._optListenerCount=0,this._patchListeners=[],r instanceof Function){const i=r();this.currentState=i,this.initialState=i,this.createInitialState=r}else this.currentState=r,this.initialState=r,this.createInitialState=()=>r;this.internalOrdId=d1.storeOrdinal++}_setInternalOptions({ssr:r,reactionCreators:i=[]}){this.ssr=r,this.reactionCreators=i,this.reactions=i.map(a=>a(this))}_getReactionCreators(){return this.reactionCreators}_instantiateReactions(){this.reactions=this.reactionCreators.map(r=>r(this))}_getInitialState(){return this.createInitialState()}_updateStateWithoutReaction(r){this.currentState=r}_updateState(r,i=[]){this.currentState=r,this.batchState=void 0;for(const a of this.reactions)i.push(...a());if(!this.ssr){for(const a of this.clientSubscriptions)a();if(i.length>0){const a=new Set;for(const c of i)if(this.optimizedListenerPropertyMap[c])for(const p of this.optimizedListenerPropertyMap[c])a.add(p);for(const c of a.values())this.optimizedUpdateListeners[c]&&this.optimizedUpdateListeners[c]()}this.updateListeners.forEach(a=>a())}}_addUpdateListener(r){this.updateListeners.push(r)}_addUpdateListenerOpt(r,i,a){this.optimizedUpdateListeners[i]=r;const c=a.map(p=>p.join(ah));this.optimizedUpdateListenerPaths[i]=c;for(const p of c)this.optimizedListenerPropertyMap[p]==null?this.optimizedListenerPropertyMap[p]=[i]:this.optimizedListenerPropertyMap[p].push(i);this._optListenerCount++}_removeUpdateListener(r){this.updateListeners=this.updateListeners.filter(i=>i!==r)}_removeUpdateListenerOpt(r){const i=this.optimizedUpdateListenerPaths[r];for(const a of i)this.optimizedListenerPropertyMap[a]=this.optimizedListenerPropertyMap[a].filter(c=>c!==r);delete this.optimizedUpdateListenerPaths[r],delete this.optimizedUpdateListeners[r],this._optListenerCount--}listenToPatches(r){return this._patchListeners.push(r),()=>{this._patchListeners=this._patchListeners.filter(i=>i!==r)}}subscribe(r,i){if(!this.ssr){const a=h1(this,r,i);return this.clientSubscriptions.push(a),()=>{this.clientSubscriptions=this.clientSubscriptions.filter(c=>c!==a)}}return()=>{console.warn("Pullstate: Subscriptions made on the server side are not registered - so therefor this call to unsubscribe does nothing.")}}createReaction(r,i,{runNow:a=!1,runNowWithSideEffects:c=!1}={}){const p=p1(r,i);this.reactionCreators.push(p);const g=p(this);return this.reactions.push(g),(a||c)&&(g(!0),c&&!this.ssr&&this._updateState(this.currentState)),()=>{this.reactions=this.reactions.filter(y=>y!==g)}}getRawState(){return this.batchState!==void 0?this.batchState:this.currentState}useState(r,i){return bt(this,r,i)}useLocalCopyInitial(r){return Fd(this.createInitialState,r)}useLocalCopySnapshot(r){return Fd(this.currentState,r)}flushBatch(r=!1){this.batchState!==void 0?this.batchState!==this.currentState&&this._updateState(this.batchState):r||console.error("Pullstate: Trying to flush batch state which was never created or updated on"),this.batchState=void 0}update(r,i){this.batchState=void 0,g1(this,r,i)}replace(r){this._updateState(r)}applyPatches(r){m1(this,r)}}function m1(o,r){const i=o.getRawState(),a=f1(i,r);a!==i&&o._updateState(a,Object.keys(tf(r)))}function tf(o,r={}){for(const i of o){let a;for(const c of i.path)a?a=`${a}${ah}${c}`:a=c,r[a]=1}return r}function Pd(o,r,i){return i?Gl(o,a=>r(a,o)):r.reduce(([a,c,p],g)=>{const y=Gl(a,S=>g(S,a));return c.push(...y[1]),p.push(...y[2]),[y[0],c,p]},[o,[],[]])}function g1(o,r,i){const a=o.getRawState(),c=typeof r=="function";if(o._optListenerCount>0){const[p,g,y]=Pd(a,r,c);g.length>0&&(i&&i(g,y),o._patchListeners.forEach(S=>S(g,y)),o._updateState(p,Object.keys(tf(g))))}else{let p;if(o._patchListeners.length>0||i){const[g,y,S]=Pd(a,r,c);y.length>0&&(i&&i(y,S),o._patchListeners.forEach(x=>x(y,S))),p=g}else p=$c(a,g=>c?r(g,a):r.reduce((y,S)=>$c(y,x=>S(x,y)),a));p!==a&&o._updateState(p)}}var Hc;(function(o){o.THREW_ERROR="THREW_ERROR",o.RETURNED_ERROR="RETURNED_ERROR",o.UNFINISHED="UNFINISHED",o.DORMANT="DORMANT"})(Hc||(Hc={}));var kd;(function(o){o.WATCH_HIT_CACHE="WATCH_HIT_CACHE",o.BECKON_HIT_CACHE="BECKON_HIT_CACHE",o.RUN_HIT_CACHE="RUN_HIT_CACHE",o.READ_HIT_CACHE="READ_HIT_CACHE",o.READ_RUN="READ_RUN",o.SHORT_CIRCUIT="SHORT_CIRCUIT",o.DIRECT_RUN="DIRECT_RUN",o.BECKON_RUN="BECKON_RUN",o.CACHE_UPDATE="CACHE_UPDATE"})(kd||(kd={}));let Ad;try{Ad=new Proxy({},{get:function(o,r){throw new Error(`Pullstate: Trying to access store (${String(r)}) inside async actions without the correct usage or setup.
If this error occurred on the server:
* If using run(), make use of your created instance for this request: instance.runAsyncAction()
* If using read(), useWatch(), useBeckon() etc. - make sure you have properly set up your <PullstateProvider/>

If this error occurred on the client:
* Make sure you have created your "pullstateCore" object with all your stores, using createPullstateCore(), and are making use of instantiate() before rendering.`)}})}catch{Ad={}}Hc.UNFINISHED;Lt.createContext(null);var Ld;(function(o){o.WATCH="watch",o.BECKON="beckon"})(Ld||(Ld={}));class nf{static set(r,i){localStorage.setItem(r,JSON.stringify(i))}static get(r,i){return localStorage.hasOwnProperty(r)?JSON.parse(localStorage.getItem(r)):i}}class v1{static byteCount(r){if(r==0)return"null";var i=1e3,a=["B","kB","MB","GB"],c=Math.floor(Math.log(r)/Math.log(i));return(r/Math.pow(i,c)).toFixed(1)+" "+a[c]}}const y1={eu:"4B475556",us:"4B475545",jp:"4B47554A"},w1={eu:"JKZP",us:"JKZE",jp:"JKZJ"};class lh{static getFsidRegion(r){switch(r.charAt(0)){case"0":case"1":return"Japan";case"5":return"America";case"9":return"Europe";default:return"???"}}static formatKwzFsid(r){return r}static getSdCardRoute(r="twl",i="eu"){switch(r.toLowerCase()){case"twl":case"dsi":return`/private/ds/app/${y1[i.toLowerCase()]}/`;case"3ds":case"ctr":return`/private/Nintendo 3DS/app/${w1[i.toLowerCase()]}/`}}}const Nd=/https?:\/\/gallery.kaeru.world\/memo\/([0-9a-z]{28})/;class uh{static getFlipnoteUrl(r,i){return`https://gallery.kaeru.world/memo/${i}`}static getFileFromFlipnoteUrl(r){return Nd.test(r)?r.replace(Nd,(i,a)=>`https://cdn.kaeru.world/memo/kwz/${a}.kwz`):null}static checkFlipnoteExists(r,i){return new Promise((a,c)=>{fetch(`https://gallery.kaeru.world/api/v0/memo/${i}`).then(p=>p.json()).then(p=>{if(p.code===200){const g=p.memo.link.filter(y=>y.rel==="self")[0];a(g.href)}else c()}).catch(c)})}}class rf{static getFlipnoteUrl(r,i){return`https://www.sudomemo.net/watch/${i}`}static getFileFromFlipnoteUrl(r){return null}static checkFlipnoteExists(r,i){return new Promise((a,c)=>{let p=new Image;p.onload=()=>{p=null,a(rf.getFlipnoteUrl(r,i))},p.onerror=g=>{p=null,c(g)},p.src=`https://www.sudomemo.net/theatre_assets/images/dynamic/thumbframe/${r}/${i}.png?size=s`})}}function x1(o){const r=[uh];for(const i of r){const a=i.getFileFromFlipnoteUrl(o);if(a)return a}return o}const Kc={getFileFromFlipnoteUrl:x1,kaeruGallery:uh,sudomemo:rf},Qt=new _a({isLoading:!1,isDarkMode:nf.get("theme","dark")==="dark",hasError:!1,errorType:null,errorData:{}}),mo=new _a({src:null,note:null,forcePause:!1,volume:nf.get("volume",100)}),ho=new _a({samples:[],items:[],mode:"SAMPLE",page:0});var ya={exports:{}};/*!!
 * flipnote.js v6.1.1
 * https://flipnote.js.org
 * A JavaScript library for Flipnote Studio animation files
 * 2018 - 2025 James Daniel
 * Flipnote Studio is (c) Nintendo Co., Ltd. This project isn't affiliated with or endorsed by them in any way.
*/ya.exports;var Md;function E1(){return Md||(Md=1,function(o,r){r.FlipnoteRegion=void 0,function(d){d.EUR="EUR",d.USA="USA",d.JPN="JPN",d.UNKNOWN="UNKNOWN"}(r.FlipnoteRegion||(r.FlipnoteRegion={})),r.FlipnoteFormat=void 0,function(d){d.PPM="PPM",d.KWZ="KWZ"}(r.FlipnoteFormat||(r.FlipnoteFormat={})),r.FlipnoteThumbImageFormat=void 0,function(d){d[d.Jpeg=0]="Jpeg",d[d.Rgba=1]="Rgba"}(r.FlipnoteThumbImageFormat||(r.FlipnoteThumbImageFormat={})),r.FlipnoteStereoscopicEye=void 0,function(d){d[d.Left=0]="Left",d[d.Right=1]="Right"}(r.FlipnoteStereoscopicEye||(r.FlipnoteStereoscopicEye={})),r.FlipnoteAudioTrack=void 0,function(d){d[d.BGM=0]="BGM",d[d.SE1=1]="SE1",d[d.SE2=2]="SE2",d[d.SE3=3]="SE3",d[d.SE4=4]="SE4"}(r.FlipnoteAudioTrack||(r.FlipnoteAudioTrack={})),r.FlipnoteSoundEffectTrack=void 0,function(d){d[d.SE1=1]="SE1",d[d.SE2=2]="SE2",d[d.SE3=3]="SE3",d[d.SE4=4]="SE4"}(r.FlipnoteSoundEffectTrack||(r.FlipnoteSoundEffectTrack={}));function i(d,s,u,h){if(u==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?d!==s||!h:!s.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?h:u==="a"?h.call(d):h?h.value:s.get(d)}function a(d,s,u,h,v){if(typeof s=="function"?d!==s||!0:!s.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(d,u),u}typeof SuppressedError=="function"&&SuppressedError;class c{constructor(){this.pageSize=2048*2,this.allocSize=0,this.realSize=0,this.pages=[],this.numPages=0,this.pageIdx=0,this.pagePtr=0,this.realPtr=0,this.newPage()}set pointer(s){this.setPointer(s)}get pointer(){return this.realPtr}newPage(){this.pages[this.numPages]=new Uint8Array(this.pageSize),this.numPages=this.pages.length,this.allocSize=this.numPages*this.pageSize}setPointer(s){for(;s>=this.allocSize;)this.newPage();s>this.realSize&&(this.realSize=s),this.pageIdx=Math.floor(s/this.pageSize),this.pagePtr=s%this.pageSize,this.realPtr=s}writeByte(s){this.pages[this.pageIdx][this.pagePtr]=s,this.setPointer(this.realPtr+1)}writeBytes(s,u,h){for(let v=h||s.length,_=u||0;_<v;_++)this.writeByte(s[_])}writeChars(s){for(let u=0;u<s.length;u++)this.writeByte(s.charCodeAt(u))}writeU8(s){this.writeByte(s&255)}writeU16(s){this.writeByte(s>>>0&255),this.writeByte(s>>>8&255)}writeU32(s){this.writeByte(s>>>0&255),this.writeByte(s>>>8&255),this.writeByte(s>>>16&255),this.writeByte(s>>>24&255)}getBytes(){const s=new Uint8Array(this.realSize),u=this.numPages;for(let h=0;h<u;h++){const v=this.pages[h];h===u-1?s.set(v.slice(0,this.realSize%this.pageSize),h*this.pageSize):s.set(v,h*this.pageSize)}return s}getBuffer(){return this.getBytes().buffer}}const p=(d,s=!1)=>{let u=[];for(let h=0;h<d.length;h++)u.push(d[h].toString(16).padStart(2,"0"));return s&&u.reverse(),u.join("")},g=(d,s=!1)=>{const u=d.length,h=new Uint8Array(u/2);for(let v=0,_=0;v<u;v+=2)h[_++]=parseInt(d.slice(v,v+2),16);return s&&h.reverse(),h};class y{constructor(s){this.buffer=s,this.data=new DataView(s),this.pointer=0}get bytes(){return new Uint8Array(this.buffer)}get numBytes(){return this.data.byteLength}seek(s,u){switch(u){case 2:this.pointer=this.data.byteLength+s;break;case 1:this.pointer+=s;break;case 0:default:this.pointer=s;break}}readUint8(){const s=this.data.getUint8(this.pointer);return this.pointer+=1,s}writeUint8(s){this.data.setUint8(this.pointer,s),this.pointer+=1}readInt8(){const s=this.data.getInt8(this.pointer);return this.pointer+=1,s}writeInt8(s){this.data.setInt8(this.pointer,s),this.pointer+=1}readUint16(s=!0){const u=this.data.getUint16(this.pointer,s);return this.pointer+=2,u}writeUint16(s,u=!0){this.data.setUint16(this.pointer,s,u),this.pointer+=2}readInt16(s=!0){const u=this.data.getInt16(this.pointer,s);return this.pointer+=2,u}writeInt16(s,u=!0){this.data.setInt16(this.pointer,s,u),this.pointer+=2}readUint32(s=!0){const u=this.data.getUint32(this.pointer,s);return this.pointer+=4,u}writeUint32(s,u=!0){this.data.setUint32(this.pointer,s,u),this.pointer+=4}readInt32(s=!0){const u=this.data.getInt32(this.pointer,s);return this.pointer+=4,u}writeInt32(s,u=!0){this.data.setInt32(this.pointer,s,u),this.pointer+=4}readBytes(s){const u=new Uint8Array(this.data.buffer,this.pointer,s);return this.pointer+=u.byteLength,u}writeBytes(s){s.forEach(u=>this.writeUint8(u))}readHex(s,u=!1){const h=this.readBytes(s);return p(h,u)}readChar(){const s=this.readUint8();return String.fromCharCode(s)}readWideChar(){const s=this.readUint16();return String.fromCharCode(s)}readChars(s){const u=this.readBytes(s);let h="";for(let v=0;v<u.length;v++){const _=u[v];if(_===0)break;h+=String.fromCharCode(_)}return h}writeChars(s){for(let u=0;u<s.length;u++){const h=s.charCodeAt(u);this.writeUint8(h)}}readWideChars(s){const u=new Uint16Array(this.data.buffer,this.pointer,s);let h="";for(let v=0;v<u.length;v++){const _=u[v];if(_==0)break;h+=String.fromCharCode(_)}return this.pointer+=u.byteLength,h}end(){return this.pointer>=this.data.byteLength}}const S=(d,s,u)=>d<s?s:d>u?u:d,x=(d,s,u)=>d+u*(s-d);function E(d,s="Assert failed"){d||U(s)}const L=(d,s,u,h="")=>E(d>=s&&d<=u,`flipnote.js error: ${h||"value"} ${d} should be between ${s} and ${u}`),U=(d="Assert failed")=>{throw new Error("flipnote.js error: "+d)},B=(d,s)=>{try{return d.require(s)}catch{throw new Error(`Could not require(${s})`)}},b=()=>k?Jh:typeof window<"u"?window:typeof self<"u"?self:{},z=typeof window<"u"&&typeof window.document<"u",M=()=>E(z,"This feature is only available in browser environments"),k=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,D=()=>E(k,"This feature is only available in NodeJS environments"),I=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",G=async d=>{try{return[null,await d().catch(u=>{throw u})]}catch(s){return[s,null]}};(function(){if(!z)return function(){};const d=document.createElement("a");return function(s,u){const h=window.URL.createObjectURL(s);d.href=h,d.download=u,d.click(),window.URL.revokeObjectURL(h)}})();var j;class q extends y{constructor(){super(...arguments),this[j]="Flipnote",this.titleFormats={COMMENT:"Comment by $USERNAME",FLIPNOTE:"Flipnote by $USERNAME",ICON:"Folder icon"},this.soundMeta=new Map,this.layerVisibility={1:!0,2:!0,3:!0},this.isFolderIcon=!1,this.isComment=!1,this.isDsiLibraryNote=!1}getTitle(s=this.titleFormats){return this.isFolderIcon?s.ICON:(this.isComment?s.COMMENT:s.FLIPNOTE).replace("$USERNAME",this.meta.current.username)}toString(){return this.getTitle()}*[(j=Symbol.toStringTag,Symbol.iterator)](){for(let s=0;s<this.frameCount;s++)yield s}getLayerPixels(s,u,h=new Uint8Array(this.imageWidth*this.imageHeight),v=0,_=r.FlipnoteStereoscopicEye.Left){L(s,0,this.frameCount-1,"Frame index"),L(u,0,this.numLayers-1,"Layer index");const F=this.getFramePaletteIndices(s),N=u*this.numLayerColors,V=this.decodeFrame(s)[u],J=Math.floor(this.getFrameLayerDepths(s)[u]*v),re=_==r.FlipnoteStereoscopicEye.Left?-J:J,ie=this.srcWidth,oe=this.imageWidth,ge=this.imageWidth,_e=this.imageHeight,Y=this.imageOffsetX,De=this.imageOffsetY;if(h.fill(0),!this.layerVisibility[u+1])return h;for(let Ce=De,se=0;se<_e;Ce++,se++)for(let fe=Y,Le=0;Le<ge;fe++,Le++){const ct=Ce*ie+fe,pt=se*oe+Le+re;let ln=V[ct];ln!==0&&(h[pt]=F[N+ln])}return h}getLayerPixelsRgba(s,u,h=new Uint32Array(this.imageWidth*this.imageHeight),v=new Uint32Array(16),_=0,F=r.FlipnoteStereoscopicEye.Left){L(s,0,this.frameCount-1,"Frame index"),L(u,0,this.numLayers-1,"Layer index"),this.getFramePaletteUint32(s,v);const N=u*this.numLayerColors,V=this.decodeFrame(s)[u],J=Math.floor(this.getFrameLayerDepths(s)[u]*_),re=F==r.FlipnoteStereoscopicEye.Left?-J:J,ie=this.srcWidth,oe=this.imageWidth,ge=this.imageWidth-J,_e=this.imageHeight,Y=this.imageOffsetX,De=this.imageOffsetY;if(h.fill(0),!this.layerVisibility[u+1])return h;for(let Ce=De,se=0;se<_e;Ce++,se++)for(let fe=Y,Le=0;Le<ge;fe++,Le++){const ct=Ce*ie+fe,pt=se*oe+Le+re;let ln=V[ct];ln!==0&&(h[pt]=v[N+ln])}return h}getFramePixels(s,u=new Uint8Array(this.imageWidth*this.imageHeight),h=0,v=r.FlipnoteStereoscopicEye.Left){const _=this.srcWidth;this.imageWidth;const F=this.imageWidth,N=this.imageHeight,A=this.imageOffsetX,V=this.imageOffsetY,J=this.getFramePaletteIndices(s);u.fill(J[0]);const re=this.getFrameLayerOrder(s),ie=this.getFrameLayerDepths(s),oe=this.decodeFrame(s);for(let ge=0;ge<this.numLayers;ge++){const _e=re[ge],Y=oe[_e],De=_e*this.numLayerColors,Ce=Math.floor(ie[_e]*h),se=v==r.FlipnoteStereoscopicEye.Left?-Ce:Ce;if(this.layerVisibility[_e+1])for(let fe=V,Le=0;Le<N;fe++,Le++)for(let ct=A,pt=0;pt<F;ct++,pt++){const ln=fe*_+ct,Ji=Le*F+pt+se;let eo=Y[ln];eo!==0&&(u[Ji]=J[De+eo])}}return u}getFramePixelsRgba(s,u=new Uint32Array(this.imageWidth*this.imageHeight),h=new Uint32Array(16),v=0,_=r.FlipnoteStereoscopicEye.Left){L(s,0,this.frameCount-1,"Frame index");const F=this.srcWidth,N=this.imageWidth,A=this.imageWidth,V=this.imageHeight,J=this.imageOffsetX,re=this.imageOffsetY;this.getFramePaletteUint32(s,h),u.fill(h[0]);const ie=this.getFrameLayerOrder(s),oe=this.getFrameLayerDepths(s),ge=this.decodeFrame(s);for(let _e=0;_e<this.numLayers;_e++){const Y=ie[_e];if(!this.layerVisibility[Y+1])continue;const De=ge[Y],Ce=Y*this.numLayerColors,se=Math.floor(oe[Y]*v),fe=_==r.FlipnoteStereoscopicEye.Left?-se:se;for(let Le=re,ct=0;Le<V;Le++,ct++)for(let pt=J,ln=0;pt<A;pt++,ln++){const Ji=Le*F+pt,eo=ct*N+ln+fe;let fs=De[Ji];fs!==0&&(u[eo]=h[Ce+fs])}}return u}getFramePaletteUint32(s,u=new Uint32Array(16)){L(s,0,this.frameCount-1,"Frame index");const h=this.getFramePalette(s);return u.fill(0),h.forEach(([v,_,F,N],A)=>u[A]=N<<24|F<<16|_<<8|v),u}getSoundEffectFlagsForTrack(s){return this.getSoundEffectFlags().map(u=>u[s])}isSoundEffectUsedOnFrame(s,u){return L(u,0,this.frameCount-1,"Frame index"),this.soundEffectTracks.includes(s)?this.getFrameSoundEffectFlags(u)[s]:!1}hasAudioTrack(s){return this.soundMeta.has(s)&&this.soundMeta.get(s).length>0}}const Z=/^[0159]{1}[0-9A-F]{6}0[0-9A-F]{8}$/,me=["01FACA7A4367FC5F","03D6E959E2F9A42D","03F80445160587FA","04068426E1008915","092A3EC8199FD5D5","0B8D56BA1BD441B8","0E61C75C9B5AD90B","14E494E35A443235"],ye=d=>Z.test(d)||me.includes(d),we=d=>{switch(d.charAt(0)){case"0":case"1":return r.FlipnoteRegion.JPN;case"5":return r.FlipnoteRegion.USA;case"9":return r.FlipnoteRegion.EUR;default:return r.FlipnoteRegion.UNKNOWN}},ne=new Int8Array([-1,2,-1,2]),Te=new Int8Array([-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8]),Ve=new Int16Array([7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767,0]),Ie=(d,s,u)=>u<0||u>=s?0:d[u],He=(d,s,u)=>{const h=d.length,_=h/s*u,F=new Int16Array(_),N=s/u;for(let A=0;A<_;A++)F[A]=Ie(d,h,Math.floor(A*N));return F},ft=(d,s,u)=>{const h=d.length,_=h/s*u,F=new Int16Array(_),N=s/u;for(let A=0,V=0,J=0,re=0;A<_;A++)V=A*N,J=Math.floor(V),re=V%1,F[A]=x(Ie(d,h,J),Ie(d,h,J+1),re);return F},at=d=>{const s=d.length;let u=0;for(let h=0;h<s;h++){const v=d[h];(v<=-32768||v>=32767)&&(u+=1)}return u/s},Je=d=>{const s=d.length;let u=0;for(let h=0;h<s;h++)u+=Math.pow(d[h],2);return Math.sqrt(u/s)},ke=946684800,Ue=d=>new Date((d+ke)*1e3),Ke=d=>Math.floor(d.getTime()/1e3-ke),Be=(d,s)=>d*100*(1/s)/100,et=(()=>{if(z||I){const d=b();return(d.crypto||d.msCrypto).subtle}else if(k)return B(o,"crypto").webcrypto.subtle})(),Q="RSASSA-PKCS1-v1_5",P=async(d,s)=>{const u=d.split(`
`).filter(_=>!_.startsWith("-----")&&!_.endsWith("-----")).join(""),h=atob(u),v=new Uint8Array(h.length).map((_,F)=>h.charCodeAt(F));return await et.importKey("spki",v.buffer,{name:Q,hash:s},!1,["verify"])},$=async(d,s,u)=>await et.verify(Q,d,s,u);var te,ue,xe,je,Me,ve,tt,mt,wt,Dn,Pa,xt,gi,tr,On,yo,bn,ws;const xs=[.5,.5,1,2,4,6,12,20,30],wo={WHITE:[255,255,255,255],BLACK:[14,14,14,255],RED:[255,42,42,255],BLUE:[10,57,255,255]},xo=[4294967295,4283585106,4294967295,4288453788,4282665215,4283388360,4289506815,4278255360,4294918216,4290269009,4294945709,4278255360,4290205622,4278255360,4278255360,4278255360],Eo=736800,_o=`-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCPLwTL6oSflv+gjywi/sM0TUB
90xqOvuCpjduETjPoN2FwMebxNjdKIqHUyDu4AvrQ6BDJc6gKUbZ1E27BGZoCPH4
9zQRb+zAM6M9EjHwQ6BABr0u2TcF7xGg2uQ9MBWz9AfbVQ91NjfrNWo0f7UPmffv
1VvixmTk1BCtavZxBwIDAQAB
-----END PUBLIC KEY-----`;class Ee extends q{static matchBuffer(s){const u=new Uint8Array(s.slice(0,4));return(u[0]<<24|u[1]<<16|u[2]<<8|u[3])===1346458177}constructor(s,u={}){super(s),te.add(this),this.format=r.FlipnoteFormat.PPM,this[ws]="Flipnote Studio PPM animation file",this.imageWidth=Ee.width,this.imageHeight=Ee.height,this.aspect=Ee.aspect,this.imageOffsetX=0,this.imageOffsetY=0,this.numLayers=Ee.numLayers,this.numLayerColors=Ee.numLayerColors,this.publicKey=Ee.publicKey,this.srcWidth=Ee.width,this.audioTracks=Ee.audioTracks,this.soundEffectTracks=Ee.soundEffectTracks,this.rawSampleRate=Ee.rawSampleRate,this.sampleRate=Ee.sampleRate,this.globalPalette=Ee.globalPalette,ue.set(this,void 0),xe.set(this,void 0),je.set(this,void 0),Me.set(this,void 0),ve.set(this,null),tt.set(this,void 0),mt.set(this,void 0),wt.set(this,void 0),Dn.set(this,void 0),i(this,te,"m",Pa).call(this),i(this,te,"m",tr).call(this),i(this,te,"m",On).call(this),this.version>>4&15&&i(this,te,"m",gi).call(this),a(this,ue,[new Uint8Array(Ee.width*Ee.height),new Uint8Array(Ee.width*Ee.height)]),a(this,je,[new Uint8Array(Ee.width*Ee.height),new Uint8Array(Ee.width*Ee.height)]),a(this,Me,[new Uint8Array(Ee.height),new Uint8Array(Ee.height)]),a(this,ve,null)}getThumbnailImage(){this.seek(160);const s=this.readBytes(1536),u=new Uint32Array(64*48);let h=0;for(let v=0;v<48;v+=8)for(let _=0;_<64;_+=8)for(let F=0;F<8;F+=1)for(let N=0;N<8;N+=2){const A=_+N,V=v+F;u[V*64+A]=xo[s[h]&15],u[V*64+A+1]=xo[s[h]<<4&15]}return{format:r.FlipnoteThumbImageFormat.Rgba,width:64,height:48,data:u.buffer}}getMemoryMeterLevel(){const s=i(this,tt,"f")/Eo;return s<0?0:s}decodeFrame(s){if(L(s,0,this.frameCount-1,"Frame index"),i(this,ve,"f")===s)return i(this,ue,"f");i(this,ve,"f")!==s-1&&!i(this,te,"m",yo).call(this,s)&&s!==0&&this.decodeFrame(s-1),a(this,ve,s),this.seek(i(this,Dn,"f")[s]);const u=this.readUint8(),h=u>>7&1,v=u>>5&3;i(this,ue,"f")[0].fill(0),i(this,ue,"f")[1].fill(0);let _=0,F=0;v&&(_=this.readInt8(),F=this.readInt8());for(let ie=0;ie<2;ie++){const oe=i(this,Me,"f")[ie];oe.fill(0);for(let ge=0;ge<oe.length;){let _e=this.readUint8();if(_e===0){ge+=4;continue}oe[ge++]=_e&3,oe[ge++]=_e>>2&3,oe[ge++]=_e>>4&3,oe[ge++]=_e>>6&3}}for(let ie=0;ie<2;ie++){const oe=i(this,ue,"f")[ie],ge=i(this,Me,"f")[ie];for(let _e=0;_e<Ee.height;_e++){let Y=_e*Ee.width;switch(ge[_e]){case 0:break;case 1:for(var N=this.readUint32(!1);N!==0;N<<=1,Y+=8)if(N&2147483648){let Ce=this.readUint8();for(let se=0;Ce!==0;se++,Ce>>=1)oe[Y+se]=Ce&1}break;case 2:oe.fill(1,Y,Y+Ee.width);for(var N=this.readUint32(!1);N!==0;N<<=1,Y+=8)if(N&2147483648){let Ce=this.readUint8();for(let se=0;se<8;se++,Ce>>=1)oe[Y+se]=Ce&1}break;case 3:for(let Ce=0,se=0;se<Ee.width;se++)se%8===0&&(Ce=this.readUint8()),oe[Y++]=Ce&1,Ce>>=1;break}}}const A=i(this,ue,"f")[0],V=i(this,ue,"f")[1],J=i(this,je,"f")[0],re=i(this,je,"f")[1];if(!h&&_===0&&F===0){const ie=Ee.height*Ee.width;for(let oe=0;oe<ie;oe++)A[oe]^=J[oe],V[oe]^=re[oe]}else if(!h){const ie=Ee.width,oe=Ee.height,ge=Math.max(_,0),_e=Math.max(F,0),Y=Math.min(ie+_,ie),De=Math.min(oe+F,oe),Ce=F*ie+_;let se,fe;for(let Le=_e;Le<De;Le++)for(let ct=ge;ct<Y;ct++)se=Le*ie+ct,fe=se-Ce,A[se]^=J[fe],V[se]^=re[fe]}return i(this,je,"f")[0].set(i(this,ue,"f")[0]),i(this,je,"f")[1].set(i(this,ue,"f")[1]),i(this,ue,"f")}getFramePaletteIndices(s){L(s,0,this.frameCount-1,"Frame index"),this.seek(i(this,Dn,"f")[s]);const u=this.readUint8(),h=(u&1)!==1,v=[h?0:1,h?0:1,2,3];return[h?1:0,v[u>>1&3],v[u>>3&3]]}getFramePalette(s){return L(s,0,this.frameCount-1,"Frame index"),this.getFramePaletteIndices(s).map(h=>this.globalPalette[h])}getIsKeyFrame(s){const u=i(this,te,"m",yo).call(this,s)===1;return[u,u]}getFrameLayerDepths(s){return[0,0]}getFrameAuthor(s){return this.meta.current.fsid}getFrameCameraFlags(s){return[!1,!1]}getFrameLayerOrder(s){return[1,0]}decodeSoundFlags(){if(i(this,xe,"f")!==void 0)return i(this,xe,"f");E(1696+i(this,tt,"f")<this.numBytes),this.seek(1696+i(this,tt,"f"));const s=this.frameCount,u=this.readBytes(s);a(this,xe,new Array(s));for(let h=0;h<s;h++){const v=u[h];i(this,xe,"f")[h]=[(v&1)!==0,(v&2)!==0,(v&4)!==0]}return i(this,xe,"f")}getSoundEffectFlags(){return this.decodeSoundFlags().map(s=>({[r.FlipnoteSoundEffectTrack.SE1]:s[0],[r.FlipnoteSoundEffectTrack.SE2]:s[1],[r.FlipnoteSoundEffectTrack.SE3]:s[2],[r.FlipnoteSoundEffectTrack.SE4]:!1}))}getFrameSoundEffectFlags(s){L(s,0,this.frameCount-1,"Frame index"),this.seek(1696+i(this,tt,"f")+s);const u=this.readUint8();return{[r.FlipnoteSoundEffectTrack.SE1]:(u&1)!==0,[r.FlipnoteSoundEffectTrack.SE2]:(u&2)!==0,[r.FlipnoteSoundEffectTrack.SE3]:(u&4)!==0,[r.FlipnoteSoundEffectTrack.SE4]:!1}}getAudioTrackRaw(s){const u=this.soundMeta.get(s);return E(u.ptr+u.length<this.numBytes),this.seek(u.ptr),this.readBytes(u.length)}decodeAudioTrack(s){const u=this.getAudioTrackRaw(s),h=u.length,v=new Int16Array(h*2);let _=0,F=0,N=0,A=0,V=0,J=!0;for(;_<h;){J?N=u[_]&15:N=u[_++]>>4,J=!J;const re=Ve[A];let ie=re>>3;N&1&&(ie+=re>>2),N&2&&(ie+=re>>1),N&4&&(ie+=re),N&8&&(ie=-ie),V+=ie,V=S(V,-32768,32767),A+=Te[N],A=S(A,0,88),v[F++]=V}return v}getAudioTrackPcm(s,u=this.sampleRate){const h=this.decodeAudioTrack(s);let v=this.rawSampleRate;if(s===r.FlipnoteAudioTrack.BGM){const _=1/this.bgmrate/(1/this.framerate);v=this.rawSampleRate*_}return v!==u?He(h,v,u):h}getAudioMasterPcm(s=this.sampleRate){const u=Math.ceil(this.duration*s),h=new Int16Array(u),v=this.hasAudioTrack(r.FlipnoteAudioTrack.BGM),_=this.hasAudioTrack(r.FlipnoteAudioTrack.SE1),F=this.hasAudioTrack(r.FlipnoteAudioTrack.SE2),N=this.hasAudioTrack(r.FlipnoteAudioTrack.SE3);if(v){const A=this.getAudioTrackPcm(r.FlipnoteAudioTrack.BGM,s);i(this,te,"m",bn).call(this,A,h,0)}if(_||F||N){const A=s/this.framerate,V=_?this.getAudioTrackPcm(r.FlipnoteAudioTrack.SE1,s):null,J=F?this.getAudioTrackPcm(r.FlipnoteAudioTrack.SE2,s):null,re=N?this.getAudioTrackPcm(r.FlipnoteAudioTrack.SE3,s):null,ie=this.decodeSoundFlags();for(let oe=0;oe<this.frameCount;oe++){const ge=Math.ceil(oe*A),_e=ie[oe];_&&_e[0]&&i(this,te,"m",bn).call(this,V,h,ge),F&&_e[1]&&i(this,te,"m",bn).call(this,J,h,ge),N&&_e[2]&&i(this,te,"m",bn).call(this,re,h,ge)}}return this.audioClipRatio=at(h),h}getBody(){const s=i(this,wt,"f")+i(this,mt,"f")+32;return this.bytes.subarray(0,s)}getSignature(){const s=i(this,wt,"f")+i(this,mt,"f")+32;return this.bytes.subarray(s,s+128)}async verify(){const s=await P(_o,"SHA-1");return await $(s,this.getSignature(),this.getBody())}}ue=new WeakMap,xe=new WeakMap,je=new WeakMap,Me=new WeakMap,ve=new WeakMap,tt=new WeakMap,mt=new WeakMap,wt=new WeakMap,Dn=new WeakMap,te=new WeakSet,ws=Symbol.toStringTag,Pa=function(){E(16<this.numBytes),this.seek(4),a(this,tt,this.readUint32()),a(this,mt,this.readUint32()),this.frameCount=this.readUint16()+1,this.version=this.readUint16();let s=1696+i(this,tt,"f")+this.frameCount;s%4!==0&&(s+=4-s%4),E(s<this.numBytes),a(this,wt,s)},xt=function(){const s=this.readHex(3),u=this.readChars(13),h=this.readUint16().toString().padStart(3,"0");return`${s}_${u}_${h}`},gi=function(){E(1704<this.numBytes),this.seek(16);const s=this.readUint16(),u=this.readInt16(),h=this.readWideChars(11),v=this.readWideChars(11),_=this.readWideChars(11),F=this.readHex(8,!0),N=this.readHex(8,!0),A=i(this,te,"m",xt).call(this),V=i(this,te,"m",xt).call(this),J=this.readHex(8,!0);this.seek(154);const re=Ue(this.readInt32());this.seek(1702);const ie=this.readUint16();this.thumbFrameIndex=u,this.layerVisibility={1:(ie&16)===0,2:(ie&32)===0,3:!1},this.isSpinoff=N!==F||N!==J,this.meta={lock:s===1,loop:(ie>>1&1)===1,advancedTools:void 0,isSpinoff:this.isSpinoff,frameCount:this.frameCount,frameSpeed:this.frameSpeed,bgmSpeed:this.bgmSpeed,duration:this.duration,thumbIndex:u,timestamp:re,root:{username:h,fsid:J,region:we(J),filename:null},parent:{username:v,fsid:F,region:we(F),filename:A},current:{username:_,fsid:N,region:we(N),filename:V}}},tr=function(){this.seek(1696);const s=this.readUint16(),u=s/4;E(u<=this.frameCount),this.seek(1704);const h=new Uint32Array(u);for(let v=0;v<u;v++){const _=1704+s+this.readUint32();E(_<this.numBytes,`Frame ${v} pointer is out of bounds`),h[v]=_}a(this,Dn,h)},On=function(){let s=i(this,wt,"f");this.seek(s);const u=this.readUint32(),h=this.readUint32(),v=this.readUint32(),_=this.readUint32();this.frameSpeed=8-this.readUint8(),this.bgmSpeed=8-this.readUint8(),E(this.frameSpeed<=8&&this.bgmSpeed<=8),s+=32,this.framerate=xs[this.frameSpeed],this.duration=Be(this.frameCount,this.framerate),this.bgmrate=xs[this.bgmSpeed];const F=new Map;F.set(r.FlipnoteAudioTrack.BGM,{ptr:s,length:u}),F.set(r.FlipnoteAudioTrack.SE1,{ptr:s+=u,length:h}),F.set(r.FlipnoteAudioTrack.SE2,{ptr:s+=h,length:v}),F.set(r.FlipnoteAudioTrack.SE3,{ptr:s+=v,length:_}),this.soundMeta=F},yo=function(s){return L(s,0,this.frameCount-1,"Frame index"),this.seek(i(this,Dn,"f")[s]),this.readUint8()>>7&1},bn=function(s,u,h=0){const v=s.length,_=u.length;for(let F=0;F<v&&!(h+F>_);F++){const N=u[h+F]+s[F]/2;u[h+F]=S(N,-32768,32767)}},Ee.defaultSettings={},Ee.format=r.FlipnoteFormat.PPM,Ee.width=256,Ee.height=192,Ee.aspect=3/4,Ee.numLayers=2,Ee.numLayerColors=1,Ee.rawSampleRate=8192,Ee.sampleRate=32768,Ee.audioTracks=[r.FlipnoteAudioTrack.BGM,r.FlipnoteAudioTrack.SE1,r.FlipnoteAudioTrack.SE2,r.FlipnoteAudioTrack.SE3],Ee.soundEffectTracks=[r.FlipnoteSoundEffectTrack.SE1,r.FlipnoteSoundEffectTrack.SE2,r.FlipnoteSoundEffectTrack.SE3],Ee.globalPalette=[wo.WHITE,wo.BLACK,wo.RED,wo.BLUE],Ee.publicKey=_o;const ka=/^[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{6}$/,Aa=/^(00|10|12|14)[0-9a-f]{2}-[0-9a-f]{4}-[0-9a-f]{3}0-[0-9a-f]{4}[0159]{1}[0-9a-f]{1}$/,La=["5f-fc67-437a-cafa01","2d-a4f9-e259-e9d603","fa-8705-1645-04f803","15-8900-e126-840604","d5-d59f-19c8-3e2a09","b8-41d4-1bba-568d0b","0b-d95a-9b5c-c7610e","35-3244-5ae3-94e414"],nr=d=>ka.test(d),Es=d=>{if(Aa.test(d))return!0;for(let s of La)if(d.endsWith(s))return!0;return!1},It=d=>{if(Es(d))switch(d.charAt(19)){case"0":case"1":return r.FlipnoteRegion.JPN;case"5":return r.FlipnoteRegion.USA;case"9":return r.FlipnoteRegion.EUR;default:return r.FlipnoteRegion.UNKNOWN}return r.FlipnoteRegion.UNKNOWN},vi=d=>`${d.slice(0,4)}-${d.slice(4,8)}-${d.slice(8,12)}-${d.slice(12,18)}`.toLowerCase(),xn=d=>d.replace(/-/g,"").toUpperCase();var ze,En,it,Lr,In,rr,Nr,Jt,yi,Mr,So,en,Ut,Co,gt,Rr,wi,To,_s,Dr,xi,Ss;const Un=[.2,.5,1,2,4,6,8,12,20,24,30],pn={WHITE:[255,255,255,255],BLACK:[16,16,16,255],RED:[255,16,16,255],YELLOW:[255,231,0,255],GREEN:[0,134,49,255],BLUE:[0,56,206,255],NONE:[255,255,255,0]},ir=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuv+zHAXXvbbtRqxADDeJ
ArX2b9RMxj3T+qpRg3FnIE/jeU3tj7eoDzsMduY+D/UT9CSnP+QHYY/vf0n5lqX9
s6ljoZAmyUuruyj1e5Bg+fkDEu/yPEPQjqhbyywCyYL4TEAOJveopUBx9fdQxUJ6
J4J5oCE/Im1kFrlGW+puARiHmt3mmUyNzO8bI/Jx3cGSfoOHJG1foEaQsI5aaKqA
pBqxtzvwqMhudcZtAWSyRMBMlndvkRnVTDNTfTXLOYdHShCIgnKULCTH87uLBIP/
nsmr4/bnQz8q2rp/HyVO+0yjR6mVr0NX5APJQ+6riJmGg3t3VOldhKP7aTHDUW+h
kQIDAQAB
-----END PUBLIC KEY-----`,Fo=new Uint16Array(16);for(let d=0;d<16;d++)Fo[d]=(1<<d)-1;const jn=new Uint8Array(6561*8),Or=new Uint8Array(6561*8);var Po=0;for(let d=0;d<3;d++)for(let s=0;s<3;s++)for(let u=0;u<3;u++)for(let h=0;h<3;h++)for(let v=0;v<3;v++)for(let _=0;_<3;_++)for(let F=0;F<3;F++)for(let N=0;N<3;N++)jn.set([s,d,h,u,_,v,N,F],Po),Or.set([d,h,u,_,v,N,F,s],Po),Po+=8;const or=new Uint8Array(32*8),Cs=new Uint8Array(32*8);[0,3280,6560,729,2187,81,243,9,27,1,3,1458,4374,162,486,18,54,2,6,2916,2268,324,252,36,28,4,820,2460,1640,4920,4100,5740].forEach((d,s)=>{const u=d*8,h=jn.subarray(u,u+8),v=Or.subarray(u,u+8);or.set(h,s*8),Cs.set(v,s*8)});class Re extends q{static matchBuffer(s){const u=new Uint8Array(s.slice(0,4)),h=u[0]<<24|u[1]<<16|u[2]<<8;return h===1262897152||h===1263092480}constructor(s,u={}){super(s),ze.add(this),this.format=r.FlipnoteFormat.KWZ,this[Ss]="Flipnote Studio 3D KWZ animation file",this.imageWidth=Re.width,this.imageHeight=Re.height,this.aspect=Re.aspect,this.imageOffsetX=0,this.imageOffsetY=0,this.numLayers=Re.numLayers,this.numLayerColors=Re.numLayerColors,this.publicKey=Re.publicKey,this.srcWidth=Re.width,this.audioTracks=Re.audioTracks,this.soundEffectTracks=Re.soundEffectTracks,this.rawSampleRate=Re.rawSampleRate,this.sampleRate=Re.sampleRate,this.globalPalette=Re.globalPalette,En.set(this,void 0),it.set(this,void 0),Lr.set(this,void 0),In.set(this,void 0),rr.set(this,void 0),Nr.set(this,null),Jt.set(this,void 0),yi.set(this,void 0),Mr.set(this,void 0),So.set(this,void 0),en.set(this,0),Ut.set(this,0),a(this,En,{...Re.defaultSettings,...u}),a(this,In,[new Uint8Array(Re.width*Re.height),new Uint8Array(Re.width*Re.height),new Uint8Array(Re.width*Re.height)]),i(this,ze,"m",Co).call(this),i(this,it,"f").has("KIC")?(this.isFolderIcon=!0,this.imageWidth=24,this.imageHeight=24,this.frameCount=1,this.frameSpeed=0,this.framerate=Un[0],this.thumbFrameIndex=0,i(this,ze,"m",Dr).call(this)):i(this,it,"f").has("KSN")?(i(this,ze,"m",To).call(this),i(this,ze,"m",Dr).call(this),i(this,ze,"m",xi).call(this)):(this.isComment=!0,i(this,ze,"m",To).call(this),i(this,ze,"m",Dr).call(this)),i(this,En,"f").dsiLibraryNote&&(this.isDsiLibraryNote=!0),i(this,En,"f").borderCrop&&(this.isDsiLibraryNote?(this.imageOffsetX=32,this.imageOffsetY=24,this.imageWidth=256,this.imageHeight=192):this.isFolderIcon||(this.imageOffsetX=5,this.imageOffsetY=5,this.imageWidth=310,this.imageHeight=230))}getThumbnailImage(){E(i(this,it,"f").has("KTN"),"KTN section missing - Note that folder icons and comments do not contain thumbnail data");const s=i(this,it,"f").get("KTN");this.seek(s.ptr+12);const u=this.readBytes(s.length-12);return{format:r.FlipnoteThumbImageFormat.Jpeg,width:80,height:64,data:u.buffer}}getMemoryMeterLevel(){E(i(this,it,"f").has("KMI")&&i(this,it,"f").has("KMC"));const u=this.rawSampleRate/2,h=u*60,v=u*2,_=h+v*4,F=i(this,So,"f"),N=4219447-(_+39&4294967292);return(F+57600)/N}getFramePaletteIndices(s){L(s,0,this.frameCount-1,"Frame index"),this.seek(i(this,Jt,"f")[s]);const u=this.readUint32();return[u&15,u>>8&15,u>>12&15,u>>16&15,u>>20&15,u>>24&15,u>>28&15]}getFramePalette(s){return L(s,0,this.frameCount-1,"Frame index"),this.getFramePaletteIndices(s).map(h=>this.globalPalette[h])}getFrameDiffingFlag(s){return L(s,0,this.frameCount-1,"Frame index"),this.seek(i(this,Jt,"f")[s]),this.readUint32()>>4&7}getIsKeyFrame(s){const u=this.getFrameDiffingFlag(s);return[(u&1)===0,(u&2)===0,(u&4)===0]}getFrameLayerDepths(s){return L(s,0,this.frameCount-1,"Frame index"),this.seek(i(this,Jt,"f")[s]+20),[this.readUint8(),this.readUint8(),this.readUint8()]}getFrameAuthor(s){return L(s,0,this.frameCount-1,"Frame index"),this.seek(i(this,Jt,"f")[s]+10),i(this,ze,"m",Rr).call(this)}getFrameCameraFlags(s){this.seek(i(this,Jt,"f")[s]+26);const u=this.readUint8();return[(u&1)!==0,(u&2)!==0,(u&4)!==0]}getFrameLayerOrder(s){L(s,0,this.frameCount-1,"Frame index");const u=this.getFrameLayerDepths(s);return[2,1,0].sort((h,v)=>u[v]-u[h])}decodeFrame(s,u=7,h=!1){if(L(s,0,this.frameCount-1,"Frame index"),i(this,Nr,"f")===s)return i(this,In,"f");i(this,Nr,"f")!==s-1&&s!==0&&(h&&(u=u&~this.getFrameDiffingFlag(s+1)),u!==0&&this.decodeFrame(s-1,u,!0));let v=i(this,yi,"f")[s];const _=i(this,Mr,"f")[s];for(let F=0;F<3&&!(i(this,En,"f").dsiLibraryNote&&F===3);F++){this.seek(v);let N=_[F];v+=N;const A=i(this,In,"f")[F];if(N===38||!(u>>F&1))continue;a(this,en,16),a(this,Ut,0);let V=0;for(let J=0;J<240;J+=128)for(let re=0;re<320;re+=128)for(let ie=0;ie<128;ie+=8){const oe=J+ie;if(oe>=240)break;for(let ge=0;ge<128;ge+=8){const _e=re+ge;if(_e>=320)break;if(V>0){V-=1;continue}let Y=oe*Re.width+_e;const De=i(this,ze,"m",gt).call(this,3);if(De===0){const Ce=i(this,ze,"m",gt).call(this,5)*8,se=or.subarray(Ce,Ce+8);A.set(se,Y),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320)}else if(De===1){const Ce=i(this,ze,"m",gt).call(this,13)*8,se=jn.subarray(Ce,Ce+8);A.set(se,Y),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320),A.set(se,Y+=320)}else if(De===2){const Ce=i(this,ze,"m",gt).call(this,5)*8,se=or.subarray(Ce,Ce+8),fe=Cs.subarray(Ce,Ce+8);A.set(se,Y),A.set(fe,Y+=320),A.set(se,Y+=320),A.set(fe,Y+=320),A.set(se,Y+=320),A.set(fe,Y+=320),A.set(se,Y+=320),A.set(fe,Y+=320)}else if(De===3){const Ce=i(this,ze,"m",gt).call(this,13)*8,se=jn.subarray(Ce,Ce+8),fe=Or.subarray(Ce,Ce+8);A.set(se,Y),A.set(fe,Y+=320),A.set(se,Y+=320),A.set(fe,Y+=320),A.set(se,Y+=320),A.set(fe,Y+=320),A.set(se,Y+=320),A.set(fe,Y+=320)}else if(De===4){const Ce=i(this,ze,"m",gt).call(this,8);for(let se=1;se<255;se<<=1){if(Ce&se){const fe=i(this,ze,"m",gt).call(this,5)*8,Le=or.subarray(fe,fe+8);A.set(Le,Y)}else{const fe=i(this,ze,"m",gt).call(this,13)*8,Le=jn.subarray(fe,fe+8);A.set(Le,Y)}Y+=320}}else if(De===5){V=i(this,ze,"m",gt).call(this,5);continue}else if(De===7){let Ce=i(this,ze,"m",gt).call(this,2),se=i(this,ze,"m",gt).call(this,1),fe,Le;if(se!==0){const ct=i(this,ze,"m",gt).call(this,5)*8,pt=i(this,ze,"m",gt).call(this,5)*8;fe=or.subarray(ct,ct+8),Le=or.subarray(pt,pt+8),Ce+=1}else{const ct=i(this,ze,"m",gt).call(this,13)*8,pt=i(this,ze,"m",gt).call(this,13)*8;fe=jn.subarray(ct,ct+8),Le=jn.subarray(pt,pt+8)}switch(Ce%4){case 0:A.set(fe,Y),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320);break;case 1:A.set(fe,Y),A.set(fe,Y+=320),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(fe,Y+=320);break;case 2:A.set(fe,Y),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320);break;case 3:A.set(fe,Y),A.set(Le,Y+=320),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320),A.set(Le,Y+=320),A.set(fe,Y+=320),A.set(Le,Y+=320);break}}}}}return a(this,Nr,s),i(this,In,"f")}decodeFrameSoundFlags(s){L(s,0,this.frameCount-1,"Frame index"),this.seek(i(this,Jt,"f")[s]+23);const u=this.readUint8();return[(u&1)!==0,(u&2)!==0,(u&4)!==0,(u&8)!==0]}decodeSoundFlags(){return i(this,rr,"f")!==void 0?i(this,rr,"f"):(a(this,rr,new Array(this.frameCount).fill(!1).map((s,u)=>this.decodeFrameSoundFlags(u))),i(this,rr,"f"))}getSoundEffectFlags(){return this.decodeSoundFlags().map(s=>({[r.FlipnoteSoundEffectTrack.SE1]:s[0],[r.FlipnoteSoundEffectTrack.SE2]:s[1],[r.FlipnoteSoundEffectTrack.SE3]:s[2],[r.FlipnoteSoundEffectTrack.SE4]:s[3]}))}getFrameSoundEffectFlags(s){const u=this.decodeFrameSoundFlags(s);return{[r.FlipnoteSoundEffectTrack.SE1]:u[0],[r.FlipnoteSoundEffectTrack.SE2]:u[1],[r.FlipnoteSoundEffectTrack.SE3]:u[2],[r.FlipnoteSoundEffectTrack.SE4]:u[3]}}getAudioTrackRaw(s){const u=this.soundMeta.get(s);return E(u.ptr+u.length<this.numBytes),new Uint8Array(this.buffer,u.ptr,u.length)}decodeAdpcm(s,u,h=0,v=40){const _=s.length;let F=0,N=0,A=0,V=0;for(let J=0;J<_;J++){let re=s[J],ie=0;for(;ie<8;)v<18||ie>4?(N=re&3,A=Ve[v],V=A>>3,N&1&&(V+=A),N&2&&(V=-V),h+=V,v+=ne[N],re>>=2,ie+=2):(N=re&15,A=Ve[v],V=A>>3,N&1&&(V+=A>>2),N&2&&(V+=A>>1),N&4&&(V+=A),N&8&&(V=-V),h+=V,v+=Te[N],re>>=4,ie+=4),v=S(v,0,79),h=S(h,-2048,2047),u[F]=h*16,F+=1}return F}decodeAudioTrack(s){const u=i(this,En,"f"),h=this.getAudioTrackRaw(s),v=this.rawSampleRate*60,_=new Int16Array(v);let F=0,N=40;if(this.isDsiLibraryNote)if(s===r.FlipnoteAudioTrack.BGM){let V=!0;if(u.initialBgmPredictor!==null&&(F=u.initialBgmPredictor,V=!1),u.initialBgmStepIndex!==null&&(N=u.initialBgmStepIndex,V=!1),V&&u.guessInitialBgmState){let J=4294967295,re=0;for(N=0;N<=40;N++){const ie=this.decodeAdpcm(h,_,F,N),oe=Je(_.subarray(0,ie));oe<J&&(J=oe,re=N)}N=re}}else{const V=this.soundEffectTracks.indexOf(s);Array.isArray(u.initialSePredictors)&&u.initialSePredictors[V]!==void 0&&(F=u.initialSePredictors[V]),Array.isArray(u.initialSeStepIndices)&&u.initialSeStepIndices[V]!==void 0&&(N=u.initialSeStepIndices[V])}const A=this.decodeAdpcm(h,_,F,N);return _.slice(0,A)}getAudioTrackPcm(s,u=this.sampleRate){const h=this.decodeAudioTrack(s);let v=this.rawSampleRate;if(s===r.FlipnoteAudioTrack.BGM){const _=1/this.bgmrate/(1/this.framerate);v=this.rawSampleRate*_}return v!==u?ft(h,v,u):h}pcmAudioMix(s,u,h=0){const v=s.length,_=u.length;for(let F=0;F<v&&!(h+F>_);F++){const N=u[h+F]+s[F];u[h+F]=S(N,-32768,32767)}}getAudioMasterPcm(s=this.sampleRate){const u=Math.ceil(this.duration*s),h=new Int16Array(u),v=this.hasAudioTrack(r.FlipnoteAudioTrack.BGM),_=this.hasAudioTrack(r.FlipnoteAudioTrack.SE1),F=this.hasAudioTrack(r.FlipnoteAudioTrack.SE2),N=this.hasAudioTrack(r.FlipnoteAudioTrack.SE3),A=this.hasAudioTrack(r.FlipnoteAudioTrack.SE4);if(v){const V=this.getAudioTrackPcm(r.FlipnoteAudioTrack.BGM,s);this.pcmAudioMix(V,h,0)}if(_||F||N||A){const V=s/this.framerate,J=_?this.getAudioTrackPcm(r.FlipnoteAudioTrack.SE1,s):null,re=F?this.getAudioTrackPcm(r.FlipnoteAudioTrack.SE2,s):null,ie=N?this.getAudioTrackPcm(r.FlipnoteAudioTrack.SE3,s):null,oe=A?this.getAudioTrackPcm(r.FlipnoteAudioTrack.SE4,s):null,ge=this.decodeSoundFlags();for(let _e=0;_e<this.frameCount;_e++){const Y=ge[_e],De=Math.ceil(_e*V);_&&Y[0]&&this.pcmAudioMix(J,h,De),F&&Y[1]&&this.pcmAudioMix(re,h,De),N&&Y[2]&&this.pcmAudioMix(ie,h,De),A&&Y[3]&&this.pcmAudioMix(oe,h,De)}}return this.audioClipRatio=at(h),h}getBody(){const s=i(this,Lr,"f");return this.bytes.subarray(0,s)}getSignature(){const s=i(this,Lr,"f");return this.bytes.subarray(s,s+256)}async verify(){const s=await P(ir,"SHA-256");return await $(s,this.getSignature(),this.getBody())}}En=new WeakMap,it=new WeakMap,Lr=new WeakMap,In=new WeakMap,rr=new WeakMap,Nr=new WeakMap,Jt=new WeakMap,yi=new WeakMap,Mr=new WeakMap,So=new WeakMap,en=new WeakMap,Ut=new WeakMap,ze=new WeakSet,Ss=Symbol.toStringTag,Co=function(){const s=this.numBytes-256,u=new Map;let h=0,v=0;for(;v<s&&h<6;){this.seek(v);const _=this.readChars(4).substring(0,3),F=this.readUint32();u.set(_,{ptr:v,length:F}),v+=F+8,h+=1}a(this,Lr,v),a(this,it,u),E(u.has("KMC")&&u.has("KMI"))},gt=function(s){if(i(this,en,"f")+s>16){const h=this.readUint16();a(this,Ut,i(this,Ut,"f")|h<<16-i(this,en,"f")),a(this,en,i(this,en,"f")-16)}const u=i(this,Ut,"f")&Fo[s];return a(this,Ut,i(this,Ut,"f")>>s),a(this,en,i(this,en,"f")+s),u},Rr=function(){return i(this,En,"f").dsiLibraryNote?this.readHex(10,!0).slice(2,18):vi(this.readHex(10))},wi=function(){const s=this.pointer,u=this.readChars(28);if(u.length===28)return u;this.seek(s);const h=this.readHex(3),v=this.readChars(13),_=this.readUint16().toString().padStart(3,"0");return this.seek(s+28),`${h}_${v}_${_}`},To=function(){if(i(this,En,"f").quickMeta)return i(this,ze,"m",_s).call(this);E(i(this,it,"f").has("KFH")),this.seek(i(this,it,"f").get("KFH").ptr+12);const s=Ue(this.readUint32()),u=Ue(this.readUint32());this.readUint32();const h=i(this,ze,"m",Rr).call(this),v=i(this,ze,"m",Rr).call(this),_=i(this,ze,"m",Rr).call(this),F=this.readWideChars(11),N=this.readWideChars(11),A=this.readWideChars(11),V=i(this,ze,"m",wi).call(this),J=i(this,ze,"m",wi).call(this),re=i(this,ze,"m",wi).call(this),ie=this.readUint16(),oe=this.readUint16(),ge=this.readUint16(),_e=this.readUint8(),Y=this.readUint8();this.isSpinoff=_!==v||_!==h,this.frameCount=ie,this.frameSpeed=_e,this.framerate=Un[_e],this.duration=Be(this.frameCount,this.framerate),this.thumbFrameIndex=oe,this.layerVisibility={1:(Y&1)===0,2:(Y&2)===0,3:(Y&3)===0},this.meta={lock:(ge&1)!==0,loop:(ge&2)!==0,advancedTools:(ge&4)!==0,isSpinoff:this.isSpinoff,frameCount:ie,frameSpeed:_e,duration:this.duration,thumbIndex:oe,timestamp:u,creationTimestamp:s,root:{username:F,fsid:h,region:It(h),filename:V,isDsiFilename:V.length!==28},parent:{username:N,fsid:v,region:It(v),filename:J,isDsiFilename:J.length!==28},current:{username:A,fsid:_,region:It(_),filename:re,isDsiFilename:re.length!==28}}},_s=function(){E(i(this,it,"f").has("KFH")),this.seek(i(this,it,"f").get("KFH").ptr+8+196);const s=this.readUint16(),u=this.readUint16();this.readUint16();const h=this.readUint8(),v=this.readUint8();this.frameCount=s,this.thumbFrameIndex=u,this.frameSpeed=h,this.framerate=Un[h],this.duration=Be(this.frameCount,this.framerate),this.layerVisibility={1:(v&1)===0,2:(v&2)===0,3:(v&3)===0}},Dr=function(){E(i(this,it,"f").has("KMI")&&i(this,it,"f").has("KMC"));const s=this.frameCount,u=i(this,it,"f").get("KMI"),h=i(this,it,"f").get("KMC");E(u.length/28>=s);const v=new Uint32Array(s),_=new Uint32Array(s),F=[];let N=u.ptr+8,A=h.ptr+12,V=0;for(let J=0;J<s;J++){this.seek(N+4);const re=this.readUint16(),ie=this.readUint16(),oe=this.readUint16();v[J]=N,_[J]=A,N+=28,A+=re+ie+oe,E(N<this.numBytes,`frame${J} meta pointer out of bounds`),E(A<this.numBytes,`frame${J} data pointer out of bounds`),F.push([re,ie,oe]),V+=re+ie+oe}a(this,Jt,v),a(this,yi,_),a(this,Mr,F),a(this,So,V)},xi=function(){E(i(this,it,"f").has("KSN"));let s=i(this,it,"f").get("KSN").ptr+8;this.seek(s),this.bgmSpeed=this.readUint32(),E(this.bgmSpeed<=10),this.bgmrate=Un[this.bgmSpeed];const u=new Uint32Array(this.buffer,s+4,20),h=new Map;h.set(r.FlipnoteAudioTrack.BGM,{ptr:s+=28,length:u[0]}),h.set(r.FlipnoteAudioTrack.SE1,{ptr:s+=u[0],length:u[1]}),h.set(r.FlipnoteAudioTrack.SE2,{ptr:s+=u[1],length:u[2]}),h.set(r.FlipnoteAudioTrack.SE3,{ptr:s+=u[2],length:u[3]}),h.set(r.FlipnoteAudioTrack.SE4,{ptr:s+=u[3],length:u[4]}),this.soundMeta=h},Re.defaultSettings={quickMeta:!1,dsiLibraryNote:!1,borderCrop:!1,guessInitialBgmState:!0,initialBgmPredictor:null,initialBgmStepIndex:null,initialSePredictors:null,initialSeStepIndices:null},Re.format=r.FlipnoteFormat.KWZ,Re.width=320,Re.height=240,Re.aspect=3/4,Re.numLayers=3,Re.numLayerColors=2,Re.rawSampleRate=16364,Re.sampleRate=32768,Re.audioTracks=[r.FlipnoteAudioTrack.BGM,r.FlipnoteAudioTrack.SE1,r.FlipnoteAudioTrack.SE2,r.FlipnoteAudioTrack.SE3,r.FlipnoteAudioTrack.SE4],Re.soundEffectTracks=[r.FlipnoteSoundEffectTrack.SE1,r.FlipnoteSoundEffectTrack.SE2,r.FlipnoteSoundEffectTrack.SE3,r.FlipnoteSoundEffectTrack.SE4],Re.globalPalette=[pn.WHITE,pn.BLACK,pn.RED,pn.YELLOW,pn.GREEN,pn.BLUE,pn.NONE],Re.publicKey=ir;const Ei=d=>ye(d)||nr(d),Na=d=>ye(d)?we(d):nr(d)?It(d):r.FlipnoteRegion.UNKNOWN,ko=d=>{if(ye(d)){const s=d.slice(14,16),u=d.slice(12,14),h=d.slice(10,12),v=d.slice(8,10),_=d.slice(6,8),F=d.slice(4,6),N=d.slice(2,4),A=d.slice(0,2);return`${s}-${u}${h}-${v}${_}-${F}${N}${A}`.toLocaleLowerCase()}return null};var Ma=Object.freeze({__proto__:null,getFsidRegion:Na,getKwzFsidRegion:It,getPpmFsidRegion:we,isFsid:Ei,isKwzDsiLibraryFsid:Es,isKwzFsid:nr,isPpmFsid:ye,kwzFsidFormat:vi,kwzFsidToPpmFsid:d=>{if(Es(d)){const s=d.slice(19,21),u=d.slice(17,19),h=d.slice(15,17),v=d.slice(12,14),_=d.slice(10,12),F=d.slice(7,9),N=d.slice(5,7),A=d.slice(2,4);return`${s}${u}${h}${v}${_}${F}${N}${A}`.toUpperCase()}return null},kwzFsidUnformat:xn,ppmFsidToKwzFsidSuffix:ko,ppmFsidToPossibleKwzFsids:d=>{const s=ko(d);return s?["00"+s,"10"+s,"12"+s,"14"+s]:null}});const tu=/^[0-9A-Z]{1}[0-9A-F]{5}_[0-9A-F]{13}_[0-9]{3}$/,Ra=/^[0-9A-F]{6}_[0-9A-F]{13}_[0-9]{3}$/,Ir=d=>tu.test(d),Ts=d=>Ra.test(d),_i=/^[0-5a-z]{28}$/,Fs="cwmfjordvegbalksnthpyxquiz012345",Ao=d=>{const s=d.length;let u=0;const h=new Uint8Array(s*5/8);let v=0,_=0;for(let F=0;F<s;F++)_=_<<5|Fs.indexOf(d[F]),u+=5,u>=8&&(h[v++]=_>>>u-8&255,u-=8);return h},Ps=d=>{const s=d.byteLength;let u=0,h="",v=0;for(let _=0;_<s;_++)for(v=v<<8|d[_],u+=8;u>=5;)h+=Fs[v>>>u-5&31],u-=5;return u>0&&(h+=Fs[v<<5-u&31]),h};var Da=Object.freeze({__proto__:null,isKwzFilename:d=>_i.test(d),isPpmBasicFilename:Ts,isPpmFilename:Ir,kwzFilenameDecode:d=>{const s=Ao(d),u=new DataView(s.buffer),h=vi(p(s.slice(0,9))),v=Ue(u.getUint32(9,!0)),_=Ue(u.getUint32(13,!0));return{fsid:h,created:v,edited:_}},kwzFilenameEncode:d=>{const s=new Uint8Array(17),u=new DataView(s.buffer),h=xn(d.fsid);return s.set(g(h)),u.setUint32(9,Ke(d.created),!0),u.setUint32(13,Ke(d.edited),!0),Ps(s)}});const As=[247,76,106,58,251,130,166,55,110,17,56,207,160,221,133,192,199,155,196,216,221,40,138,135,83,32,238,224,11,235,67,160,219,85,15,117,54,55,235,53,106,52,127,181,15,153,247,239,67,37,206,160,41,70,217,212,77,187,4,102,104,8,241,248];class Lo extends y{constructor(s){super(s),this.entries=[]}addEntry(s){const u=s.split("/"),h=u.at(-1),v=s.lastIndexOf(".");this.entries.push({full:s,name:h,base:s.slice(0,v),ext:s.slice(v+1),folder:u.at(-2),parentFolder:u.at(-3)})}}class Ls extends Lo{constructor(s){super(s),this.format=r.FlipnoteFormat.PPM;const u=this.bytes,h=this.numBytes;for(let _=0;_<h;_++)u[_]=u[_]^As[_%64];let v="";for(;!this.end();){const _=this.readChar();if(_===`
`){this.addEntry(v),v="";continue}v+=_}}}class No extends Lo{constructor(s){super(s),this.format=r.FlipnoteFormat.KWZ;const u=this.bytes,h=this.numBytes;for(let F=0;F<h;F++)u[F]=u[F]^As[F%61];let v="";this.seek(4);const _=this.readWideChar();for(;!this.end();){const F=this.readWideChar();if(F===_){this.addEntry(v),v="";continue}v+=F}}}const Oa={name:"url",matches(d){return typeof d=="string"},async load(d){const s=await fetch(d);return E(s.status>=200&&s.status<300,`Failed to load Flipnote from URL, response failed with status ${s.status}`),await s.arrayBuffer()}},Ns={name:"file",matches(d){return z&&typeof File<"u"&&typeof FileReader<"u"&&d instanceof File},async load(d){return d.arrayBuffer()}},mn={name:"blob",matches(d){return z&&typeof Blob<"u"&&typeof Response<"u"&&d instanceof Blob},async load(d){return d.arrayBuffer()}},Bn={name:"node-buffer",matches(d){return k&&d instanceof Buffer},async load(d){return d.buffer}},zn={name:"array-buffer",matches(d){return d instanceof ArrayBuffer},async load(d){return d}},tn=new Map,sr=d=>{for(let[s,u]of tn)if(u.matches(d))try{return u.load(d)}catch{U(`Failed to load Flipnote from source, loader "${s}" failed with error ${U}`)}U("No loader available for source type")},Si=()=>Object.fromEntries(tn.entries()),Ci=()=>tn.clear(),Wn=d=>{tn.set(d.name,d)};Wn(zn),Wn(Bn),Wn(mn),Wn(Ns),Wn(Oa);var iu=Object.freeze({__proto__:null,clear:Ci,list:Si,load:sr,register:Wn}),Ms=Object.freeze({__proto__:null,KwzPlaylist:No,PpmPlaylist:Ls,parse:async(d,s)=>{const u=await sr(s);if(d===r.FlipnoteFormat.PPM||d==="ppm")return new Ls(u);if(d===r.FlipnoteFormat.KWZ||d==="kwz")return new No(u)}});const Mo=async(d,s)=>{const u=await sr(d);if(Ee.matchBuffer(u))return new Ee(u,s);if(Re.matchBuffer(u))return new Re(u,s);U("Could not identify source as a valid Flipnote file")},Ti=(...d)=>(console.warn("parseSource() is deprecated, please use parse() instead"),Mo(...d));r.PlayerEvent=void 0,function(d){d.__Any="any",d.Play="play",d.Pause="pause",d.CanPlay="canplay",d.CanPlayThrough="canplaythrough",d.SeekStart="seeking",d.SeekEnd="seeked",d.Duration="durationchange",d.Loop="loop",d.Ended="ended",d.VolumeChange="volumechange",d.Progress="progress",d.TimeUpdate="timeupdate",d.FrameUpdate="frameupdate",d.FrameNext="framenext",d.FramePrev="frameprev",d.FrameFirst="framefirst",d.FrameLast="framelast",d.Ready="ready",d.Load="load",d.LoadStart="loadstart",d.LoadedData="loadeddata",d.LoadedMeta="loadedmetadata",d.Emptied="emptied",d.Close="close",d.Error="error",d.Destroy="destroy"}(r.PlayerEvent||(r.PlayerEvent={}));const ba=[r.PlayerEvent.Play,r.PlayerEvent.Pause,r.PlayerEvent.CanPlay,r.PlayerEvent.CanPlayThrough,r.PlayerEvent.SeekStart,r.PlayerEvent.SeekEnd,r.PlayerEvent.Duration,r.PlayerEvent.Loop,r.PlayerEvent.Ended,r.PlayerEvent.VolumeChange,r.PlayerEvent.Progress,r.PlayerEvent.TimeUpdate,r.PlayerEvent.FrameUpdate,r.PlayerEvent.FrameNext,r.PlayerEvent.FramePrev,r.PlayerEvent.FrameFirst,r.PlayerEvent.FrameLast,r.PlayerEvent.Ready,r.PlayerEvent.Load,r.PlayerEvent.LoadStart,r.PlayerEvent.LoadedData,r.PlayerEvent.LoadedMeta,r.PlayerEvent.Emptied,r.PlayerEvent.Close,r.PlayerEvent.Error],Ia=d=>({length:d.length,start:s=>d[s][0],end:s=>d[s][1]}),Ur=(d,s)=>d.toString().padStart(s,"0"),Rs=d=>{const s=Math.floor(d%3600/60),u=Math.floor(d%60);return`${s}:${Ur(u,2)}`};r.CanvasStereoscopicMode=void 0,function(d){d[d.None=0]="None",d[d.Dual=1]="Dual",d[d.Anaglyph=2]="Anaglyph"}(r.CanvasStereoscopicMode||(r.CanvasStereoscopicMode={}));class ou{constructor(s,u,h,v){}}/* @license twgl.js 5.5.4 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */const ar=5120,jr=5121,Ro=5122,Do=5123,Fi=5124,Ds=5125,Pi=5126,Ua=32819,Os=32820,su=33635,au=5131,Oo=33640,nt=35899,ki=35902,lu=36269,uu=34042,Ai={};{const d=Ai;d[ar]=Int8Array,d[jr]=Uint8Array,d[Ro]=Int16Array,d[Do]=Uint16Array,d[Fi]=Int32Array,d[Ds]=Uint32Array,d[Pi]=Float32Array,d[Ua]=Uint16Array,d[Os]=Uint16Array,d[su]=Uint16Array,d[au]=Uint16Array,d[Oo]=Uint32Array,d[nt]=Uint32Array,d[ki]=Uint32Array,d[lu]=Uint32Array,d[uu]=Uint32Array}function bo(d){if(d instanceof Int8Array)return ar;if(d instanceof Uint8Array||d instanceof Uint8ClampedArray)return jr;if(d instanceof Int16Array)return Ro;if(d instanceof Uint16Array)return Do;if(d instanceof Int32Array)return Fi;if(d instanceof Uint32Array)return Ds;if(d instanceof Float32Array)return Pi;throw new Error("unsupported typed array type")}function Br(d){if(d===Int8Array)return ar;if(d===Uint8Array||d===Uint8ClampedArray)return jr;if(d===Int16Array)return Ro;if(d===Uint16Array)return Do;if(d===Int32Array)return Fi;if(d===Uint32Array)return Ds;if(d===Float32Array)return Pi;throw new Error("unsupported typed array type")}function cu(d){const s=Ai[d];if(!s)throw new Error("unknown gl type");return s}const Io=typeof SharedArrayBuffer<"u"?function(s){return s&&s.buffer&&(s.buffer instanceof ArrayBuffer||s.buffer instanceof SharedArrayBuffer)}:function(s){return s&&s.buffer&&s.buffer instanceof ArrayBuffer},bs=new Map;function ja(d,s){if(!d||typeof d!="object")return!1;let u=bs.get(s);u||(u=new WeakMap,bs.set(s,u));let h=u.get(d);if(h===void 0){const v=Object.prototype.toString.call(d);h=v.substring(8,v.length-1)===s,u.set(d,h)}return h}function Is(d,s){return typeof WebGLBuffer<"u"&&ja(s,"WebGLBuffer")}function Uo(d,s){return typeof WebGLTexture<"u"&&ja(s,"WebGLTexture")}const Us=35044,Tt=34962,jo=34963,js=34660,Ba=5120,za=5121,Wa=5122,$a=5123,Bs=5124,Ha=5125,zs=5126,Bo={attribPrefix:""};function Ws(d,s,u,h,v){d.bindBuffer(s,u),d.bufferData(s,h,v||Us)}function zo(d,s,u,h){if(Is(d,s))return s;u=u||Tt;const v=d.createBuffer();return Ws(d,u,v,s,h),v}function Wo(d){return d==="indices"}function Ka(d){return d===Int8Array||d===Uint8Array}function $s(d){return d.length?d:d.data}const Hs=/coord|texture/i,fu=/color|colour/i;function zr(d,s){let u;if(Hs.test(d)?u=2:fu.test(d)?u=4:u=3,s%u>0)throw new Error(`Can not guess numComponents for attribute '${d}'. Tried ${u} but ${s} values is not evenly divisible by ${u}. You should specify it.`);return u}function Ga(d,s,u){return d.numComponents||d.size||zr(s,u||$s(d).length)}function $o(d,s){if(Io(d))return d;if(Io(d.data))return d.data;Array.isArray(d)&&(d={data:d});let u=d.type?Wr(d.type):void 0;return u||(Wo(s)?u=Uint16Array:u=Float32Array),new u(d.data)}function $n(d){return typeof d=="number"?d:d?Br(d):zs}function Wr(d){return typeof d=="number"?cu(d):d||Float32Array}function Li(d,s){return{buffer:s.buffer,numValues:2*3*4,type:$n(s.type),arrayType:Wr(s.type)}}function Ni(d,s){const u=s.data||s,h=Wr(s.type),v=u*h.BYTES_PER_ELEMENT,_=d.createBuffer();return d.bindBuffer(Tt,_),d.bufferData(Tt,v,s.drawType||Us),{buffer:_,numValues:u,type:Br(h),arrayType:h}}function Mi(d,s,u){const h=$o(s,u);return{arrayType:h.constructor,buffer:zo(d,h,void 0,s.drawType),type:bo(h),numValues:0}}function lr(d,s){const u={};return Object.keys(s).forEach(function(h){if(!Wo(h)){const v=s[h],_=v.attrib||v.name||v.attribName||Bo.attribPrefix+h;if(v.value){if(!Array.isArray(v.value)&&!Io(v.value))throw new Error("array.value is not array or typedarray");u[_]={value:v.value}}else{let F;v.buffer&&v.buffer instanceof WebGLBuffer?F=Li:typeof v=="number"||typeof v.data=="number"?F=Ni:F=Mi;const{buffer:N,type:A,numValues:V,arrayType:J}=F(d,v,h),re=v.normalize!==void 0?v.normalize:Ka(J),ie=Ga(v,h,V);u[_]={buffer:N,numComponents:ie,type:A,normalize:re,stride:v.stride||0,offset:v.offset||0,divisor:v.divisor===void 0?void 0:v.divisor,drawType:v.drawType}}}}),d.bindBuffer(Tt,null),u}function Ks(d,s){return s===Ba||s===za?1:s===Wa||s===$a?2:s===Bs||s===Ha||s===zs?4:0}const nn=["position","positions","a_position"];function Va(d,s){let u,h;for(h=0;h<nn.length&&(u=nn[h],!(u in s||(u=Bo.attribPrefix+u,u in s)));++h);h===nn.length&&(u=Object.keys(s)[0]);const v=s[u];if(!v.buffer)return 1;d.bindBuffer(Tt,v.buffer);const _=d.getBufferParameter(Tt,js);d.bindBuffer(Tt,null);const F=Ks(d,v.type),N=_/F,A=v.numComponents||v.size,V=N/A;if(V%1!==0)throw new Error(`numComponents ${A} not correct for length ${length}`);return V}function qa(d,s,u){const h=lr(d,s),v=Object.assign({},{});v.attribs=Object.assign({},{},h);const _=s.indices;if(_){const F=$o(_,"indices");v.indices=zo(d,F,jo),v.numElements=F.length,v.elementType=bo(F)}else v.numElements||(v.numElements=Va(d,v.attribs));return v}function Gs(d){return!!d.texStorage2D}const $r=33984,Ho=34962,Hr=34963,_n=35718,Vs=35721,Ko=35971,Ya=35382,Go=35396,Vo=35398,jt=35392,du=35395,qo=5126,qs=35664,Xa=35665,Za=35666,Ys=5124,Yo=35667,Kr=35668,Qa=35669,Xs=35670,Zs=35671,gn=35672,Qs=35673,Js=35674,ea=35675,ur=35676,hu=35678,pu=35680,mu=35679,gu=35682,Ja=35685,el=35686,tl=35687,Ri=35688,Di=35689,vu=35690,Xo=36289,yu=36292,ta=36293,Zo=5125,na=36294,nl=36295,rl=36296,wu=36298,xu=36299,Eu=36300,Oi=36303,_u=36306,Su=36307,ra=36308,il=36311,bi=3553,Ii=34067,Qo=32879,Hn=35866,Fe={};function Gr(d,s){return Fe[s].bindPoint}function Cu(d,s){return function(u){d.uniform1f(s,u)}}function Tu(d,s){return function(u){d.uniform1fv(s,u)}}function cr(d,s){return function(u){d.uniform2fv(s,u)}}function Fu(d,s){return function(u){d.uniform3fv(s,u)}}function Ui(d,s){return function(u){d.uniform4fv(s,u)}}function ol(d,s){return function(u){d.uniform1i(s,u)}}function ia(d,s){return function(u){d.uniform1iv(s,u)}}function fr(d,s){return function(u){d.uniform2iv(s,u)}}function Jo(d,s){return function(u){d.uniform3iv(s,u)}}function Vr(d,s){return function(u){d.uniform4iv(s,u)}}function oa(d,s){return function(u){d.uniform1ui(s,u)}}function sl(d,s){return function(u){d.uniform1uiv(s,u)}}function Pu(d,s){return function(u){d.uniform2uiv(s,u)}}function ku(d,s){return function(u){d.uniform3uiv(s,u)}}function Au(d,s){return function(u){d.uniform4uiv(s,u)}}function Lu(d,s){return function(u){d.uniformMatrix2fv(s,!1,u)}}function es(d,s){return function(u){d.uniformMatrix3fv(s,!1,u)}}function Nu(d,s){return function(u){d.uniformMatrix4fv(s,!1,u)}}function Mu(d,s){return function(u){d.uniformMatrix2x3fv(s,!1,u)}}function Ru(d,s){return function(u){d.uniformMatrix3x2fv(s,!1,u)}}function Du(d,s){return function(u){d.uniformMatrix2x4fv(s,!1,u)}}function Ou(d,s){return function(u){d.uniformMatrix4x2fv(s,!1,u)}}function bu(d,s){return function(u){d.uniformMatrix3x4fv(s,!1,u)}}function Iu(d,s){return function(u){d.uniformMatrix4x3fv(s,!1,u)}}function Ft(d,s,u,h){const v=Gr(d,s);return Gs(d)?function(_){let F,N;!_||Uo(d,_)?(F=_,N=null):(F=_.texture,N=_.sampler),d.uniform1i(h,u),d.activeTexture($r+u),d.bindTexture(v,F),d.bindSampler(u,N)}:function(_){d.uniform1i(h,u),d.activeTexture($r+u),d.bindTexture(v,_)}}function Pt(d,s,u,h,v){const _=Gr(d,s),F=new Int32Array(v);for(let N=0;N<v;++N)F[N]=u+N;return Gs(d)?function(N){d.uniform1iv(h,F),N.forEach(function(A,V){d.activeTexture($r+F[V]);let J,re;!A||Uo(d,A)?(J=A,re=null):(J=A.texture,re=A.sampler),d.bindSampler(u,re),d.bindTexture(_,J)})}:function(N){d.uniform1iv(h,F),N.forEach(function(A,V){d.activeTexture($r+F[V]),d.bindTexture(_,A)})}}Fe[qo]={Type:Float32Array,size:4,setter:Cu,arraySetter:Tu},Fe[qs]={Type:Float32Array,size:8,setter:cr,cols:2},Fe[Xa]={Type:Float32Array,size:12,setter:Fu,cols:3},Fe[Za]={Type:Float32Array,size:16,setter:Ui,cols:4},Fe[Ys]={Type:Int32Array,size:4,setter:ol,arraySetter:ia},Fe[Yo]={Type:Int32Array,size:8,setter:fr,cols:2},Fe[Kr]={Type:Int32Array,size:12,setter:Jo,cols:3},Fe[Qa]={Type:Int32Array,size:16,setter:Vr,cols:4},Fe[Zo]={Type:Uint32Array,size:4,setter:oa,arraySetter:sl},Fe[na]={Type:Uint32Array,size:8,setter:Pu,cols:2},Fe[nl]={Type:Uint32Array,size:12,setter:ku,cols:3},Fe[rl]={Type:Uint32Array,size:16,setter:Au,cols:4},Fe[Xs]={Type:Uint32Array,size:4,setter:ol,arraySetter:ia},Fe[Zs]={Type:Uint32Array,size:8,setter:fr,cols:2},Fe[gn]={Type:Uint32Array,size:12,setter:Jo,cols:3},Fe[Qs]={Type:Uint32Array,size:16,setter:Vr,cols:4},Fe[Js]={Type:Float32Array,size:32,setter:Lu,rows:2,cols:2},Fe[ea]={Type:Float32Array,size:48,setter:es,rows:3,cols:3},Fe[ur]={Type:Float32Array,size:64,setter:Nu,rows:4,cols:4},Fe[Ja]={Type:Float32Array,size:32,setter:Mu,rows:2,cols:3},Fe[el]={Type:Float32Array,size:32,setter:Du,rows:2,cols:4},Fe[tl]={Type:Float32Array,size:48,setter:Ru,rows:3,cols:2},Fe[Ri]={Type:Float32Array,size:48,setter:bu,rows:3,cols:4},Fe[Di]={Type:Float32Array,size:64,setter:Ou,rows:4,cols:2},Fe[vu]={Type:Float32Array,size:64,setter:Iu,rows:4,cols:3},Fe[hu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:bi},Fe[pu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Ii},Fe[mu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Qo},Fe[gu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:bi},Fe[Xo]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Hn},Fe[yu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Hn},Fe[ta]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Ii},Fe[wu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:bi},Fe[xu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Qo},Fe[Eu]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Ii},Fe[Oi]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Hn},Fe[_u]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:bi},Fe[Su]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Qo},Fe[ra]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Ii},Fe[il]={Type:null,size:0,setter:Ft,arraySetter:Pt,bindPoint:Hn};function qr(d,s){return function(u){if(u.value)switch(d.disableVertexAttribArray(s),u.value.length){case 4:d.vertexAttrib4fv(s,u.value);break;case 3:d.vertexAttrib3fv(s,u.value);break;case 2:d.vertexAttrib2fv(s,u.value);break;case 1:d.vertexAttrib1fv(s,u.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else d.bindBuffer(Ho,u.buffer),d.enableVertexAttribArray(s),d.vertexAttribPointer(s,u.numComponents||u.size,u.type||qo,u.normalize||!1,u.stride||0,u.offset||0),d.vertexAttribDivisor&&d.vertexAttribDivisor(s,u.divisor||0)}}function Bt(d,s){return function(u){if(u.value)if(d.disableVertexAttribArray(s),u.value.length===4)d.vertexAttrib4iv(s,u.value);else throw new Error("The length of an integer constant value must be 4!");else d.bindBuffer(Ho,u.buffer),d.enableVertexAttribArray(s),d.vertexAttribIPointer(s,u.numComponents||u.size,u.type||Ys,u.stride||0,u.offset||0),d.vertexAttribDivisor&&d.vertexAttribDivisor(s,u.divisor||0)}}function Ye(d,s){return function(u){if(u.value)if(d.disableVertexAttribArray(s),u.value.length===4)d.vertexAttrib4uiv(s,u.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else d.bindBuffer(Ho,u.buffer),d.enableVertexAttribArray(s),d.vertexAttribIPointer(s,u.numComponents||u.size,u.type||Zo,u.stride||0,u.offset||0),d.vertexAttribDivisor&&d.vertexAttribDivisor(s,u.divisor||0)}}function rt(d,s,u){const h=u.size,v=u.count;return function(_){d.bindBuffer(Ho,_.buffer);const F=_.size||_.numComponents||h,N=F/v,A=_.type||qo,J=Fe[A].size*F,re=_.normalize||!1,ie=_.offset||0,oe=J/v;for(let ge=0;ge<v;++ge)d.enableVertexAttribArray(s+ge),d.vertexAttribPointer(s+ge,N,A,re,J,ie+oe*ge),d.vertexAttribDivisor&&d.vertexAttribDivisor(s+ge,_.divisor||0)}}const Xe={};Xe[qo]={size:4,setter:qr},Xe[qs]={size:8,setter:qr},Xe[Xa]={size:12,setter:qr},Xe[Za]={size:16,setter:qr},Xe[Ys]={size:4,setter:Bt},Xe[Yo]={size:8,setter:Bt},Xe[Kr]={size:12,setter:Bt},Xe[Qa]={size:16,setter:Bt},Xe[Zo]={size:4,setter:Ye},Xe[na]={size:8,setter:Ye},Xe[nl]={size:12,setter:Ye},Xe[rl]={size:16,setter:Ye},Xe[Xs]={size:4,setter:Bt},Xe[Zs]={size:8,setter:Bt},Xe[gn]={size:12,setter:Bt},Xe[Qs]={size:16,setter:Bt},Xe[Js]={size:4,setter:rt,count:2},Xe[ea]={size:9,setter:rt,count:3},Xe[ur]={size:16,setter:rt,count:4};function vt(d){const s=d.name;return s.startsWith("gl_")||s.startsWith("webgl_")}const Nt=/(\.|\[|]|\w+)/g,dr=d=>d>="0"&&d<="9";function Yr(d,s,u,h){const v=d.split(Nt).filter(N=>N!=="");let _=0,F="";for(;;){const N=v[_++];F+=N;const A=dr(N[0]),V=A?parseInt(N):N;if(A&&(F+=v[_++]),_===v.length){u[V]=s;break}else{const re=v[_++],ie=re==="[",oe=u[V]||(ie?[]:{});u[V]=oe,u=oe,h[F]=h[F]||function(ge){return function(_e){sa(ge,_e)}}(oe),F+=re}}}function Mt(d,s){let u=0;function h(N,A,V){const J=A.name.endsWith("[0]"),re=A.type,ie=Fe[re];if(!ie)throw new Error(`unknown type: 0x${re.toString(16)}`);let oe;if(ie.bindPoint){const ge=u;u+=A.size,J?oe=ie.arraySetter(d,re,ge,V,A.size):oe=ie.setter(d,re,ge,V,A.size)}else ie.arraySetter&&J?oe=ie.arraySetter(d,V):oe=ie.setter(d,V);return oe.location=V,oe}const v={},_={},F=d.getProgramParameter(s,_n);for(let N=0;N<F;++N){const A=d.getActiveUniform(s,N);if(vt(A))continue;let V=A.name;V.endsWith("[0]")&&(V=V.substr(0,V.length-3));const J=d.getUniformLocation(s,A.name);if(J){const re=h(s,A,J);v[V]=re,Yr(V,re,_,v)}}return v}function ts(d,s){const u={},h=d.getProgramParameter(s,Ko);for(let v=0;v<h;++v){const _=d.getTransformFeedbackVarying(s,v);u[_.name]={index:v,type:_.type,size:_.size}}return u}function al(d,s){const u=d.getProgramParameter(s,_n),h=[],v=[];for(let N=0;N<u;++N){v.push(N),h.push({});const A=d.getActiveUniform(s,N);h[N].name=A.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(N){const A=N[0],V=N[1];d.getActiveUniforms(s,v,d[A]).forEach(function(J,re){h[re][V]=J})});const _={},F=d.getProgramParameter(s,Ya);for(let N=0;N<F;++N){const A=d.getActiveUniformBlockName(s,N),V={index:d.getUniformBlockIndex(s,A),usedByVertexShader:d.getActiveUniformBlockParameter(s,N,Go),usedByFragmentShader:d.getActiveUniformBlockParameter(s,N,Vo),size:d.getActiveUniformBlockParameter(s,N,jt),uniformIndices:d.getActiveUniformBlockParameter(s,N,du)};V.used=V.usedByVertexShader||V.usedByFragmentShader,_[A]=V}return{blockSpecs:_,uniformData:h}}function sa(d,s){for(const u in s){const h=d[u];typeof h=="function"?h(s[u]):sa(d[u],s[u])}}function Xr(d,...s){const u=d.uniformSetters||d,h=s.length;for(let v=0;v<h;++v){const _=s[v];if(Array.isArray(_)){const F=_.length;for(let N=0;N<F;++N)Xr(u,_[N])}else for(const F in _){const N=u[F];N&&N(_[F])}}}function ll(d,s){const u={},h=d.getProgramParameter(s,Vs);for(let v=0;v<h;++v){const _=d.getActiveAttrib(s,v);if(vt(_))continue;const F=d.getAttribLocation(s,_.name),N=Xe[_.type],A=N.setter(d,F,N);A.location=F,u[_.name]=A}return u}function Uu(d,s){for(const u in s){const h=d[u];h&&h(s[u])}}function aa(d,s,u){u.vertexArrayObject?d.bindVertexArray(u.vertexArrayObject):(Uu(s.attribSetters||s,u.attribs),u.indices&&d.bindBuffer(Hr,u.indices))}function ul(d,s){const u=Mt(d,s),h=ll(d,s),v={program:s,uniformSetters:u,attribSetters:h};return Gs(d)&&(v.uniformBlockSpec=al(d,s),v.transformFeedbackInfo=ts(d,s)),v}var cl=`#define GLSLIFY 1
attribute vec4 position;attribute vec2 texcoord;varying vec2 v_uv;uniform bool u_flipY;uniform vec2 u_textureSize;uniform int u_3d_eye;uniform float u_3d_depth;uniform float u_3d_strength;void main(){vec4 pos=position;float depthDirection=u_3d_eye==0 ?-1.0 : 1.0;float depthShift=floor(u_3d_depth*u_3d_strength)/(u_textureSize.x/2.0)*depthDirection;pos.x+=depthShift;pos.y*=u_flipY ?-1.0 : 1.0;v_uv=texcoord;gl_Position=pos;}`,la=`precision highp float;
#define GLSLIFY 1
varying vec2 v_uv;uniform sampler2D u_tex;uniform int u_3d_mode;void main(){vec4 col=texture2D(u_tex,v_uv);if(col.a==0.0){discard;}gl_FragColor=col;}`,ju=`#define GLSLIFY 1
attribute vec4 position;attribute vec2 texcoord;varying vec2 v_texel;varying vec2 v_uv;varying float v_scale;uniform bool u_flipY;uniform vec2 u_textureSize;uniform vec2 u_screenSize;void main(){v_uv=texcoord;v_scale=floor(u_screenSize.y/u_textureSize.y+0.01);gl_Position=position;if(u_flipY){gl_Position.y*=-1.;}}`,ns=`precision highp float;
#define GLSLIFY 1
varying vec2 v_uv;uniform sampler2D u_tex;varying float v_scale;uniform vec2 u_textureSize;uniform vec2 u_screenSize;void main(){vec2 v_texel=v_uv*u_textureSize;vec2 texel_floored=floor(v_texel);vec2 s=fract(v_texel);float region_range=0.5-0.5/v_scale;vec2 center_dist=s-0.5;vec2 f=(center_dist-clamp(center_dist,-region_range,region_range))*v_scale+0.5;vec2 mod_texel=texel_floored+f;vec2 coord=mod_texel.xy/u_textureSize.xy;gl_FragColor=texture2D(u_tex,coord);}`,Ae,hr,pr,Zr,Sn,rs,ji,Rt,Kn,mr,Qr,Et,Cn,gr,rn,Tn,vr,Vt,Bi,yr,zt,Jr,zi,wr,ei,Wi,is,ti,xr,Ze,on,$i;class Er{static isSupported(){if(!z)return!1;let s=document.createElement("canvas"),u=s.getContext("2d");const h=u!==null;return s=null,u=null,h}constructor(s,u=640,h=480,v={}){Ae.add(this),this.supportedStereoscopeModes=[r.CanvasStereoscopicMode.None,r.CanvasStereoscopicMode.Dual],this.stereoscopeMode=r.CanvasStereoscopicMode.None,this.stereoscopeStrength=0,hr.set(this,void 0),pr.set(this,void 0),Zr.set(this,void 0),Sn.set(this,void 0),rs.set(this,new Uint32Array(16)),ji.set(this,void 0),Rt.set(this,void 0),Kn.set(this,void 0),mr.set(this,void 0),Qr.set(this,void 0),Et.set(this,new Map),Cn.set(this,new Map),gr.set(this,new Map),rn.set(this,!1),Tn.set(this,{programs:[],shaders:[],textures:[],buffers:[],frameBuffers:[]}),vr.set(this,!1),on.set(this,_=>{this.destroy(),_&&_.preventDefault(),i(this,vr,"f")||i(this,hr,"f").onlost(),a(this,vr,!0)}),$i.set(this,_=>{a(this,vr,!1),i(this,Ae,"m",Vt).call(this),i(this,hr,"f").onrestored()}),M(),a(this,hr,{...Er.defaultOptions,...v}),this.width=u,this.height=h,this.canvas=document.createElement("canvas"),this.canvas.addEventListener("webglcontextlost",i(this,on,"f"),!1),this.canvas.addEventListener("webglcontextrestored",i(this,$i,"f"),!1),this.canvas.className="FlipnoteCanvas FlipnoteCanvas--webgl",this.gl=this.canvas.getContext("webgl",{antialias:!1,alpha:!0}),s&&s.appendChild(this.canvas),i(this,Ae,"m",Vt).call(this)}setCanvasSize(s,u){const h=i(this,hr,"f").useDpi&&window.devicePixelRatio||1,v=s*h,_=u*h;this.width=s,this.height=u,this.canvas.width=v,this.canvas.height=_,this.dstWidth=v,this.dstHeight=_,this.canvas.style.width=`${s}px`,this.canvas.style.height=`${u}px`,i(this,Ae,"m",Ze).call(this)}setNote(s){if(i(this,Ae,"m",Ze).call(this))return;const u=s.imageWidth,h=s.imageHeight;this.note=s,this.srcWidth=u,this.srcHeight=h,i(this,Ae,"m",xr).call(this,i(this,Qr,"f"),u,h),i(this,Ae,"m",Wi).call(this,i(this,ji,"f"),u,h),a(this,Rt,new Uint32Array(u*h)),a(this,Kn,new Uint8Array(i(this,Rt,"f").buffer)),this.frameIndex=void 0,this.canvas.title=s.getTitle()}clear(s){if(i(this,Ae,"m",Ze).call(this))return;const u=this.gl,h=s??this.note.getFramePalette(this.frameIndex)[0],[v,_,F,N]=h;u.clearColor(v/255,_/255,F/255,N/255),u.clear(u.COLOR_BUFFER_BIT)}drawFrame(s){if(i(this,Ae,"m",Ze).call(this))return;const u=this.gl,h=this.stereoscopeMode,v=this.stereoscopeStrength;this.frameIndex=s,h===r.CanvasStereoscopicMode.None?(i(this,Ae,"m",Bi).call(this,s),i(this,Ae,"m",ti).call(this,null),i(this,Ae,"m",yr).call(this,u.drawingBufferWidth,u.drawingBufferHeight)):h===r.CanvasStereoscopicMode.Dual&&(i(this,Ae,"m",Bi).call(this,s,v,r.FlipnoteStereoscopicEye.Left),i(this,Ae,"m",ti).call(this,null,0,0,u.drawingBufferWidth/2,u.drawingBufferHeight),i(this,Ae,"m",yr).call(this,u.drawingBufferWidth/2,u.drawingBufferHeight),i(this,Ae,"m",Bi).call(this,s,v,r.FlipnoteStereoscopicEye.Right),i(this,Ae,"m",ti).call(this,null,u.drawingBufferWidth/2,0,u.drawingBufferWidth/2,u.drawingBufferHeight),i(this,Ae,"m",yr).call(this,u.drawingBufferWidth/2,u.drawingBufferHeight))}requestStereoScopeMode(s){this.supportedStereoscopeModes.includes(s)?this.stereoscopeMode=s:this.stereoscopeMode=r.CanvasStereoscopicMode.None,this.forceUpdate()}forceUpdate(){this.frameIndex!==void 0&&this.drawFrame(this.frameIndex)}isErrorState(){const s=this.gl;return s===null||s.getError()!==s.NO_ERROR}getDataUrl(s,u){return this.canvas.toDataURL(s,u)}async getBlob(s,u){return new Promise((h,v)=>this.canvas.toBlob(h,s,u))}destroy(){const s=i(this,Tn,"f"),u=this.gl,h=this.canvas;s.shaders.forEach(v=>{u.deleteShader(v)}),s.shaders=[],s.textures.forEach(v=>{u.deleteTexture(v)}),s.textures=[],s.buffers.forEach(v=>{u.deleteBuffer(v)}),s.buffers=[],s.frameBuffers.forEach(v=>{u.deleteFramebuffer(v)}),s.frameBuffers=[],s.programs.forEach(v=>{u.deleteProgram(v)}),s.programs=[],a(this,rs,null),a(this,Rt,null),a(this,Kn,null),i(this,Et,"f").clear(),i(this,Cn,"f").clear(),i(this,gr,"f").clear(),h&&h.parentElement&&(h.width=1,h.height=1,h.parentNode.removeChild(h))}}hr=new WeakMap,pr=new WeakMap,Zr=new WeakMap,Sn=new WeakMap,rs=new WeakMap,ji=new WeakMap,Rt=new WeakMap,Kn=new WeakMap,mr=new WeakMap,Qr=new WeakMap,Et=new WeakMap,Cn=new WeakMap,gr=new WeakMap,rn=new WeakMap,Tn=new WeakMap,vr=new WeakMap,on=new WeakMap,$i=new WeakMap,Ae=new WeakSet,Vt=function(){this.setCanvasSize(this.width,this.height);const s=this.gl;if(i(this,Ae,"m",Ze).call(this))return;a(this,pr,i(this,Ae,"m",zt).call(this,cl,la)),a(this,Zr,i(this,Ae,"m",zt).call(this,ju,ns)),a(this,Sn,i(this,Ae,"m",zi).call(this,-1,-1,2,2,1,1)),i(this,Ae,"m",wr).call(this,i(this,pr,"f"),i(this,Sn,"f")),a(this,ji,i(this,Ae,"m",ei).call(this,s.RGBA,s.LINEAR,s.CLAMP_TO_EDGE)),a(this,mr,i(this,Ae,"m",ei).call(this,s.RGBA,s.LINEAR,s.CLAMP_TO_EDGE)),a(this,Qr,i(this,Ae,"m",is).call(this,i(this,mr,"f")));const u=s.getExtension("WEBGL_debug_renderer_info"),h=s.getParameter(u.UNMASKED_RENDERER_WEBGL),v=navigator.userAgent,_=v.includes("Firefox")&&v.includes("Mac");a(this,rn,_&&h.includes("Apple M"))},Bi=function(s,u=0,h=r.FlipnoteStereoscopicEye.Left,v=!0){const _=this.gl,F=this.note,N=this.srcWidth,A=this.srcHeight,V=F.numLayers,J=F.getFrameLayerOrder(s),re=F.getFrameLayerDepths(s);i(this,Ae,"m",ti).call(this,i(this,Qr,"f")),v&&this.clear(),_.useProgram(i(this,pr,"f").program);for(let ie=0;ie<V;ie++){const oe=J[ie];F.getLayerPixelsRgba(s,oe,i(this,Rt,"f"),i(this,rs,"f")),Xr(i(this,pr,"f"),{u_flipY:!0,u_tex:i(this,ji,"f"),u_textureSize:[N,A],u_3d_mode:this.stereoscopeMode,u_3d_eye:h,u_3d_depth:re[oe],u_3d_strength:u}),_.texImage2D(_.TEXTURE_2D,0,_.RGBA,N,A,0,_.RGBA,_.UNSIGNED_BYTE,i(this,Kn,"f")),_.drawElements(_.TRIANGLES,i(this,Sn,"f").numElements,i(this,Sn,"f").elementType,0)}},yr=function(s,u){if(i(this,Ae,"m",Ze).call(this))return;const h=this.gl;h.useProgram(i(this,Zr,"f").program),Xr(i(this,Zr,"f"),{u_tex:i(this,mr,"f"),u_textureSize:[this.srcWidth,this.srcHeight],u_screenSize:[s,u]}),h.drawElements(h.TRIANGLES,i(this,Sn,"f").numElements,i(this,Sn,"f").elementType,0)},zt=function(s,u){if(i(this,Ae,"m",Ze).call(this))return;const h=this.gl,v=i(this,Ae,"m",Jr).call(this,h.VERTEX_SHADER,s),_=i(this,Ae,"m",Jr).call(this,h.FRAGMENT_SHADER,u),F=h.createProgram();if(h.attachShader(F,v),h.attachShader(F,_),h.linkProgram(F),!h.getProgramParameter(F,h.LINK_STATUS)){const A=h.getProgramInfoLog(F);throw h.deleteProgram(F),new Error(A)}const N=ul(h,F);return i(this,Tn,"f").programs.push(F),N},Jr=function(s,u){if(i(this,Ae,"m",Ze).call(this))return;const h=this.gl,v=h.createShader(s);if(h.shaderSource(v,u),h.compileShader(v),!h.getShaderParameter(v,h.COMPILE_STATUS)){const _=h.getShaderInfoLog(v);throw h.deleteShader(v),new Error(_)}return i(this,Tn,"f").shaders.push(v),v},zi=function(s,u,h,v,_,F){if(i(this,Ae,"m",Ze).call(this))return;const N=(_+1)*(F+1),A=_+1,V=new Float32Array(N*2),J=new Float32Array(N*2);let re=0,ie=0;for(let Y=0;Y<=F;Y++)for(let De=0;De<=_;De++){const Ce=De/_,se=Y/F;V[re++]=s+h*Ce,V[re++]=u+v*se,J[ie++]=Ce,J[ie++]=se}const oe=new Uint16Array(_*F*2*3);let ge=0;for(let Y=0;Y<F;Y++)for(let De=0;De<_;De++)oe[ge++]=(Y+0)*A+De,oe[ge++]=(Y+1)*A+De,oe[ge++]=(Y+0)*A+De+1,oe[ge++]=(Y+0)*A+De+1,oe[ge++]=(Y+1)*A+De,oe[ge++]=(Y+1)*A+De+1;const _e=qa(this.gl,{position:{numComponents:2,data:V},texcoord:{numComponents:2,data:J},indices:oe});for(let Y in _e.attribs)i(this,Tn,"f").buffers.push(_e.attribs[Y].buffer);return _e},wr=function(s,u){i(this,Ae,"m",Ze).call(this)||aa(this.gl,s.attribSetters,u)},ei=function(s,u,h,v=1,_=1){if(i(this,Ae,"m",Ze).call(this))return;const F=this.gl,N=F.createTexture();return F.bindTexture(F.TEXTURE_2D,N),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,h),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,h),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,u),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,u),F.texImage2D(F.TEXTURE_2D,0,s,v,_,0,s,F.UNSIGNED_BYTE,null),i(this,Tn,"f").textures.push(N),i(this,Et,"f").set(N,s),i(this,Cn,"f").set(N,{width:v,height:_}),N},Wi=function(s,u,h){if(i(this,Ae,"m",Ze).call(this))return;const v=this.gl,_=i(this,Et,"f").get(s);v.bindTexture(v.TEXTURE_2D,s),v.texImage2D(v.TEXTURE_2D,0,_,u,h,0,_,v.UNSIGNED_BYTE,null),i(this,Cn,"f").set(s,{width:u,height:h})},is=function(s){if(i(this,Ae,"m",Ze).call(this))return;const u=this.gl,h=u.createFramebuffer();return u.bindFramebuffer(u.FRAMEBUFFER,h),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,s,0),i(this,Tn,"f").frameBuffers.push(h),i(this,gr,"f").set(h,s),h},ti=function(s,u,h,v,_){if(i(this,Ae,"m",Ze).call(this))return;const F=this.gl;if(s===null){if(F.bindFramebuffer(F.FRAMEBUFFER,null),i(this,rn,"f")){const N=this.srcWidth,A=this.srcHeight,V=F.drawingBufferWidth/N,J=F.drawingBufferHeight/A,re=N===256?1:0;v=F.drawingBufferWidth*(V-re),_=F.drawingBufferHeight*(J-re),u=-(v-N*V),h=-(_-A*J)}F.viewport(u??0,h??0,v??F.drawingBufferWidth,_??F.drawingBufferHeight)}else{const N=i(this,gr,"f").get(s),{width:A,height:V}=i(this,Cn,"f").get(N);F.bindFramebuffer(F.FRAMEBUFFER,s),F.viewport(u??0,h??0,v??A,_??V)}},xr=function(s,u,h){if(i(this,Ae,"m",Ze).call(this))return;const v=i(this,gr,"f").get(s);i(this,Ae,"m",Wi).call(this,v,u,h)},Ze=function(){const s=i(this,vr,"f")||this.isErrorState();return s&&i(this,on,"f").call(this),s},Er.defaultOptions={onlost:()=>{},onrestored:()=>{},useDpi:!0};var qt,yt,_r,vn,Hi,yn;class Gn{static isSupported(){if(!z)return!1;let s=document.createElement("canvas"),u=s.getContext("2d");const h=u!==null;return s=null,u=null,h}constructor(s,u,h,v={}){this.supportedStereoscopeModes=[r.CanvasStereoscopicMode.None],this.stereoscopeMode=r.CanvasStereoscopicMode.None,this.stereoscopeStrength=0,qt.set(this,void 0),yt.set(this,void 0),_r.set(this,void 0),vn.set(this,void 0),Hi.set(this,new Uint32Array(16)),yn.set(this,void 0),M(),a(this,qt,{...Gn.defaultOptions,...v}),this.width=u,this.height=h,this.canvas=document.createElement("canvas"),this.canvas.className="FlipnoteCanvas FlipnoteCanvas--html5",this.ctx=this.canvas.getContext("2d"),a(this,yt,document.createElement("canvas")),a(this,_r,i(this,yt,"f").getContext("2d")),E(this.ctx!==null&&i(this,_r,"f")!==null,"Could not create HTML5 canvas"),s&&s.appendChild(this.canvas),this.setCanvasSize(u,h)}setCanvasSize(s,u){const h=this.canvas,_=i(this,qt,"f").useDpi&&window.devicePixelRatio||1,F=s*_,N=u*_;this.width=s,this.height=u,this.dstWidth=F,this.dstHeight=N,h.style.width=`${s}px`,h.style.height=`${u}px`,h.width=F,h.height=N}setNote(s){const u=s.imageWidth,h=s.imageHeight;this.note=s,this.srcWidth=u,this.srcHeight=h,i(this,yt,"f").width=u,i(this,yt,"f").height=h,a(this,vn,i(this,_r,"f").createImageData(u,h)),a(this,yn,new Uint32Array(i(this,vn,"f").data.buffer)),this.frameIndex=void 0,this.canvas.title=s.getTitle()}clear(s){if(i(this,yn,"f").fill(0),this.ctx.clearRect(0,0,this.dstWidth,this.dstHeight),s){const[u,h,v,_]=s;this.ctx.fillStyle=`rgba(${u}, ${h}, ${v}, ${_})`,this.ctx.fillRect(0,0,this.dstWidth,this.dstHeight)}}drawFrame(s){this.clear(),i(this,qt,"f").useSmoothing||(this.ctx.imageSmoothingEnabled=!1),this.note.getFramePixelsRgba(s,i(this,yn,"f"),i(this,Hi,"f")),i(this,_r,"f").putImageData(i(this,vn,"f"),0,0),this.ctx.drawImage(i(this,yt,"f"),0,0,this.srcWidth,this.srcHeight,0,0,this.dstWidth,this.dstHeight),this.frameIndex=s}requestStereoScopeMode(s){this.supportedStereoscopeModes.includes(s)?this.stereoscopeMode=s:this.stereoscopeMode=r.CanvasStereoscopicMode.None,this.forceUpdate()}forceUpdate(){this.frameIndex!==void 0&&this.drawFrame(this.frameIndex)}getDataUrl(s,u){return this.canvas.toDataURL(s,u)}async getBlob(s,u){return new Promise((h,v)=>this.canvas.toBlob(h,s,u))}destroy(){a(this,vn,null),a(this,Hi,null),a(this,yn,null),this.canvas.parentNode.removeChild(this.canvas),this.canvas.width=1,this.canvas.height=1,this.canvas=null,i(this,yt,"f").width=1,i(this,yt,"f").height=1,a(this,yt,null)}}qt=new WeakMap,yt=new WeakMap,_r=new WeakMap,vn=new WeakMap,Hi=new WeakMap,yn=new WeakMap,Gn.defaultOptions={useDpi:!0,useSmoothing:!0};var Vn,Fn,qn,Ki,Gi,ni;class Vi{constructor(s,u=640,h=480,v={}){Vn.add(this),this.isReady=!1,this.isHtml5=!1,this.supportedStereoscopeModes=[],this.stereoscopeMode=r.CanvasStereoscopicMode.None,this.stereoscopeStrength=1,Fn.set(this,[Er,Gn]),qn.set(this,0),Ki.set(this,void 0),Gi.set(this,{}),this.width=u,this.height=h,a(this,Ki,s),a(this,Gi,v),i(this,Vn,"m",ni).call(this,i(this,Fn,"f")[0])}fallbackIfPossible(){if(i(this,qn,"f")>=i(this,Fn,"f").length)throw new Error("No renderer to fall back to");a(this,qn,i(this,qn,"f")+1),i(this,Vn,"m",ni).call(this,i(this,Fn,"f")[i(this,qn,"f")])}switchToHtml5(){i(this,Vn,"m",ni).call(this,Gn)}setCanvasSize(s,u){const h=this.renderer;h.setCanvasSize(s,u),this.width=s,this.width=u,this.dstWidth=h.dstWidth,this.dstHeight=h.dstHeight}setNote(s){this.note=s,this.renderer.setNote(s),this.frameIndex=void 0,this.srcWidth=this.renderer.srcWidth,this.srcHeight=this.renderer.srcHeight}clear(s){this.renderer.clear(s)}drawFrame(s){this.renderer.drawFrame(s),this.frameIndex=s}forceUpdate(){this.renderer.forceUpdate()}requestStereoScopeMode(s){this.renderer.requestStereoScopeMode(s),this.stereoscopeMode=this.renderer.stereoscopeMode}getDataUrl(s,u){return this.renderer.getDataUrl()}async getBlob(s,u){return this.renderer.getBlob()}destroy(){this.renderer.destroy(),this.note=null}}Fn=new WeakMap,qn=new WeakMap,Ki=new WeakMap,Gi=new WeakMap,Vn=new WeakSet,ni=function(s){var v;let u=!1;const h=new s(i(this,Ki,"f"),this.width,this.height,{...i(this,Gi,"f"),onlost:()=>{u=!0,this.fallbackIfPossible()}});u||(this.note&&(h.setNote(this.note),h.frameIndex=(v=this.renderer)==null?void 0:v.frameIndex,h.forceUpdate()),this.renderer&&this.renderer.destroy(),this.isHtml5=h instanceof Gn,this.isReady=!0,this.renderer=h,a(this,qn,i(this,Fn,"f").indexOf(s)),this.supportedStereoscopeModes=h.supportedStereoscopeModes,h.stereoscopeStrength=this.stereoscopeStrength,this.requestStereoScopeMode(this.stereoscopeMode))};var Wt,Yn,ri,Pn,ii,$t,Dt,kn,Ht,sn,os,Xn;const fl=z?window.AudioContext||window.webkitAudioContext:null;class ss{constructor(){Wt.add(this),this.useEq=!1,this.useAnalyser=!1,this.eqSettings=[[31.25,4.1],[62.5,1.2],[125,0],[250,-4.1],[500,-2.3],[1e3,.5],[2e3,6.5],[8e3,5.1],[16e3,5.1]],Yn.set(this,1),ri.set(this,!1),Pn.set(this,0),ii.set(this,0),$t.set(this,[]),Dt.set(this,void 0),kn.set(this,void 0),Ht.set(this,void 0),M()}set volume(s){this.setVolume(s)}get volume(){return i(this,Yn,"f")}set loop(s){a(this,ri,s),i(this,Ht,"f")&&(i(this,Ht,"f").loop=s)}get loop(){return i(this,ri,"f")}setBuffer(s,u){const h=i(this,Wt,"m",sn).call(this),v=s.length,_=h.createBuffer(1,v,u),F=_.getChannelData(0);if(s instanceof Float32Array)F.set(s,0);else if(s instanceof Int16Array)for(let N=0;N<v;N++)F[N]=s[N]/32768;a(this,Dt,_),this.sampleRate=u}setAnalyserEnabled(s){this.useAnalyser=s,i(this,Wt,"m",Xn).call(this)}setVolume(s){a(this,Yn,s),i(this,kn,"f")&&(i(this,kn,"f").gain.value=Math.pow(s,2))}playFrom(s){i(this,Wt,"m",Xn).call(this),a(this,Pn,s),a(this,ii,this.ctx.currentTime),i(this,Ht,"f").loop=i(this,ri,"f"),i(this,Ht,"f").start(0,s)}stop(){i(this,Ht,"f")&&i(this,Ht,"f").stop(0)}getCurrentTime(){return i(this,Pn,"f")+(this.ctx.currentTime-i(this,ii,"f"))}async destroy(){this.stop();const s=i(this,Wt,"m",sn).call(this);i(this,$t,"f").forEach(u=>u.disconnect()),a(this,$t,[]),this.analyser=void 0,s.state!=="closed"&&typeof s.close=="function"&&await s.close(),a(this,Dt,null)}}Yn=new WeakMap,ri=new WeakMap,Pn=new WeakMap,ii=new WeakMap,$t=new WeakMap,Dt=new WeakMap,kn=new WeakMap,Ht=new WeakMap,Wt=new WeakSet,sn=function(){return this.ctx||(this.ctx=new fl),this.ctx},os=function(s){const u=i(this,Wt,"m",sn).call(this),h=this.eqSettings;let v=s;return h.forEach(([_,F],N)=>{const A=u.createBiquadFilter();i(this,$t,"f").push(A),A.frequency.value=_,A.gain.value=F,N===0?A.type="lowshelf":N===h.length-1?A.type="highshelf":A.type="peaking",v.connect(A),v=A}),v},Xn=function(){const s=i(this,Wt,"m",sn).call(this);a(this,$t,[]);const u=s.createBufferSource();i(this,$t,"f").push(u),u.buffer=i(this,Dt,"f");const h=s.createGain();if(i(this,$t,"f").push(h),this.useEq?i(this,Wt,"m",os).call(this,u).connect(h):u.connect(h),this.useAnalyser){const v=s.createAnalyser();i(this,$t,"f").push(v),this.analyser=v,h.connect(v),v.connect(s.destination)}else this.analyser=void 0,h.connect(s.destination);a(this,Ht,u),a(this,kn,h),this.setVolume(i(this,Yn,"f"))};var Qe,oi,qi;class si{constructor(s,u,h,v={}){Qe.add(this),this.duration=0,this.autoplay=!1,this.supportedEvents=ba,this._src=null,this._loop=!1,this._volume=1,this._muted=!1,this._frame=null,this._hasEnded=!1,this.isNoteLoaded=!1,this.events=new Map,this.playbackStartTime=0,this.playbackTime=0,this.playbackLoopId=null,this.showThumbnail=!0,this.hasPlaybackStarted=!1,this.isPlaying=!1,this.wasPlaying=!1,this.isSeeking=!1,this.playbackLoop=F=>{if(!this.isPlaying)return;const N=F/1e3,A=this.duration,V=this.audio.getCurrentTime();let J=N-this.playbackStartTime;if(Math.abs(J%A-V%A)>.01&&(J=V),J>=A)if(this.loop)this.playbackStartTime=N,this.emit(r.PlayerEvent.Loop);else{this.pause(),this._hasEnded=!0,this.emit(r.PlayerEvent.Ended);return}this.setCurrentTime(J%A),this.playbackLoopId=requestAnimationFrame(this.playbackLoop)},M();const _=typeof s=="string"?document.querySelector(s):s;this.parserSettings=v,this.renderer=new Vi(_,u,h,{onlost:()=>this.emit(r.PlayerEvent.Error),onrestored:()=>this.reload()}),this.audio=new ss,this.el=_}get src(){return this._src}set src(s){throw new Error("Setting a Player source has been deprecated, please use the load() method instead")}get paused(){return!this.isPlaying}set paused(s){s?this.pause():this.play()}get currentFrame(){return this._frame}set currentFrame(s){this.setCurrentFrame(s)}get currentTime(){return this.isNoteLoaded?this.playbackTime:null}set currentTime(s){this.setCurrentTime(s)}get progress(){return this.isNoteLoaded?this.playbackTime/this.duration*100:null}set progress(s){this.setProgress(s)}get volume(){return this.getVolume()}set volume(s){this.setVolume(s)}get muted(){return this.getMuted()}set muted(s){this.setMuted(s)}get loop(){return this.getLoop()}set loop(s){this.setLoop(s)}get framerate(){return this.note.framerate}get frameCount(){return this.note.frameCount}get frameSpeed(){return this.note.frameSpeed}get buffered(){return Ia([[0,this.duration]])}get seekable(){return Ia([[0,this.duration]])}get currentSrc(){return this._src}get videoWidth(){return this.isNoteLoaded?this.note.imageWidth:0}get videoHeight(){return this.isNoteLoaded?this.note.imageHeight:0}async load(s){if(this.isNoteLoaded&&this.closeNote(),this._src=s,!s)return this.openNote(this.note);this.emit(r.PlayerEvent.LoadStart);const[u,h]=await G(()=>Mo(s,this.parserSettings));if(u)throw this.emit(r.PlayerEvent.Error,u),new Error(`Error loading Flipnote: ${u.message}`);this.openNote(h)}async reload(){if(this.note)return await this.load(this.note.buffer)}async updateSettings(s){return this.parserSettings=s,await this.reload()}closeNote(){this.pause(),this.note=null,this.isNoteLoaded=!1,this.meta=null,this._src=null,this._frame=0,this.playbackTime=0,this.duration=0,this.loop=!1,this.isPlaying=!1,this.wasPlaying=!1,this.hasPlaybackStarted=!1,this.showThumbnail=!0,this.renderer.clear()}openNote(s){this.isNoteLoaded&&this.closeNote(),this.note=s,this.meta=s.meta,this.emit(r.PlayerEvent.LoadedMeta),this.noteFormat=s.format,this.duration=s.duration,this.playbackTime=0,this._frame=0,this.isNoteLoaded=!0,this.isPlaying=!1,this.wasPlaying=!1,this.hasPlaybackStarted=!1,this.layerVisibility=s.layerVisibility,this.showThumbnail=!0,this.audio.setBuffer(s.getAudioMasterPcm(),s.sampleRate),this.emit(r.PlayerEvent.CanPlay),this.emit(r.PlayerEvent.CanPlayThrough),this.setLoop(s.meta.loop),this.renderer.setNote(s),this.drawFrame(s.thumbFrameIndex),this.emit(r.PlayerEvent.LoadedData),this.emit(r.PlayerEvent.Load),this.emit(r.PlayerEvent.Ready),this.autoplay&&this.play()}setCurrentTime(s){this.assertNoteLoaded();const u=Math.floor(s/(1/this.framerate));this.setCurrentFrame(u),this.playbackTime=s,this.emit(r.PlayerEvent.Progress,this.progress)}getCurrentTime(){return this.currentTime}getTimeCounter(){const s=Rs(Math.max(this.currentTime,0)),u=Rs(this.duration);return`${s} / ${u}`}getFrameCounter(){const s=Ur(this.currentFrame+1,3),u=Ur(this.frameCount,3);return`${s} / ${u}`}setProgress(s){this.assertNoteLoaded(),L(s,0,100,"progress"),this.currentTime=this.duration*(s/100)}getProgress(){return this.progress}async play(){if(this.assertNoteLoaded(),this.isPlaying)return;this._hasEnded&&(this.playbackTime=0,this._hasEnded=!1);const s=performance.now();this.playbackStartTime=s/1e3-this.playbackTime,this.isPlaying=!0,this.hasPlaybackStarted=!0,i(this,Qe,"m",oi).call(this),this.playbackLoop(s),this.emit(r.PlayerEvent.Play)}pause(){this.isPlaying&&(this.isPlaying=!1,this.playbackLoopId!==null&&cancelAnimationFrame(this.playbackLoopId),i(this,Qe,"m",qi).call(this),this.emit(r.PlayerEvent.Pause))}togglePlay(){this.isPlaying?this.pause():this.play()}getPaused(){return!this.isPlaying}getDuration(){return this.duration}getLoop(){return this._loop}setLoop(s){this._loop=s,this.audio.loop=s}toggleLoop(){this.setLoop(!this._loop)}setCurrentFrame(s){this.assertNoteLoaded();const u=Math.max(0,Math.min(Math.floor(s),this.frameCount-1));u===this.currentFrame&&!this.showThumbnail||(this._frame=u,this.drawFrame(u),this.showThumbnail=!1,this.isPlaying||(this.playbackTime=u*(1/this.framerate),this.emit(r.PlayerEvent.SeekEnd)),this.emit(r.PlayerEvent.FrameUpdate,this.currentFrame),this.emit(r.PlayerEvent.Progress,this.progress),this.emit(r.PlayerEvent.TimeUpdate,this.currentFrame))}nextFrame(){this.loop&&this.currentFrame===this.frameCount-1?this.currentFrame=0:this.currentFrame+=1,this.emit(r.PlayerEvent.FrameNext)}prevFrame(){this.loop&&this.currentFrame===0?this.currentFrame=this.frameCount-1:this.currentFrame-=1,this.emit(r.PlayerEvent.FramePrev)}lastFrame(){this.currentFrame=this.frameCount-1,this.emit(r.PlayerEvent.FrameLast)}firstFrame(){this.currentFrame=0,this.emit(r.PlayerEvent.FrameFirst)}thumbnailFrame(){this.currentFrame=this.note.thumbFrameIndex}startSeek(){this.isSeeking||(this.emit(r.PlayerEvent.SeekStart),this.wasPlaying=this.isPlaying,this.pause(),this.isSeeking=!0)}seek(s){this.isSeeking&&(this.progress=s*100)}endSeek(){this.isSeeking&&this.wasPlaying===!0&&this.play(),this.wasPlaying=!1,this.isSeeking=!1}drawFrame(s){this.renderer.drawFrame(s)}forceUpdate(){this.renderer.forceUpdate()}resize(s,u){u!==s*.75&&console.warn(`Canvas width to height ratio should be 3:4 for best results (got ${s}x${u})`),this.renderer.setCanvasSize(s,u),this.forceUpdate()}setLayerVisibility(s,u){this.note.layerVisibility[s]=u,this.layerVisibility[s]=u,this.forceUpdate()}getLayerVisibility(s){return this.layerVisibility[s]}toggleLayerVisibility(s){this.setLayerVisibility(s,!this.layerVisibility[s])}toggleAudioEq(){this.setAudioEq(!this.audio.useEq)}setAudioEq(s){this.isPlaying&&(this.wasPlaying=!0,i(this,Qe,"m",qi).call(this)),this.audio.useEq=s,this.wasPlaying&&(this.wasPlaying=!1,i(this,Qe,"m",oi).call(this))}mute(){this.setMuted(!0)}unmute(){this.setMuted(!1)}setMuted(s){s?this.audio.volume=0:this.audio.volume=this._volume,this._muted=s,this.emit(r.PlayerEvent.VolumeChange,this.audio.volume)}getMuted(){return this.volume===0?!0:this._muted}toggleMuted(){this.setMuted(!this._muted)}setVolume(s){L(s,0,1,"volume"),this._volume=s,this.audio.volume=s,this.emit(r.PlayerEvent.VolumeChange,this.audio.volume)}getVolume(){return this._muted?0:this._volume}seekToNextFrame(){this.nextFrame()}fastSeek(s){this.currentTime=s}canPlayType(s){switch(s){case"application/x-ppm":case"application/x-kwz":case"video/x-ppm":case"video/x-kwz":case"video/vnd.nintendo.ugomemo.ppm":case"video/vnd.nintendo.ugomemo.kwz":return"probably";case"application/octet-stream":return"maybe";default:return""}}getVideoPlaybackQuality(){return{creationTime:0,droppedVideoFrames:0,corruptedVideoFrames:0,totalVideoFrames:this.frameCount}}requestPictureInPicture(){throw new Error("Not implemented")}captureStream(){throw new Error("Not implemented")}on(s,u){const h=this.events;(Array.isArray(s)?s:[s]).forEach(_=>{h.has(_)?h.get(_).push(u):h.set(_,[u])})}off(s,u){const h=this.events;(Array.isArray(s)?s:[s]).forEach(_=>{if(!h.has(_))return;const F=h.get(_);h.set(_,F.splice(F.indexOf(u),1))})}emit(s,...u){const h=this.events;if(s!==r.PlayerEvent.__Any&&h.has(s)){h.get(s).forEach(N=>N.apply(null,u));const _=`on${s}`,F=this;typeof F[_]=="function"&&F[_].apply(null,u)}h.has(r.PlayerEvent.__Any)&&h.get(r.PlayerEvent.__Any).forEach(_=>_.apply(null,[s,...u]))}clearEvents(){this.events.clear()}async destroy(){this.clearEvents(),this.emit(r.PlayerEvent.Destroy),this.closeNote(),await this.renderer.destroy(),await this.audio.destroy()}assertNoteLoaded(){E(this.isNoteLoaded,"No Flipnote is currently loaded in this player")}}Qe=new WeakSet,oi=function(){this.audio.playFrom(this.currentTime)},qi=function(){this.audio.stop()};function Yt(d){class s extends d{get renderer(){return this.player.renderer}get note(){return this.player.note}get noteFormat(){return this.player.noteFormat}get meta(){return this.player.meta}get duration(){return this.player.duration}get layerVisibility(){return this.player.layerVisibility}get autoplay(){return this.player.autoplay}set autoplay(h){this.player.autoplay=h}}for(let u of Reflect.ownKeys(si.prototype)){let h=Object.getOwnPropertyDescriptor(si.prototype,u);u in d.prototype||u==="constructor"||u==="name"||u==="prototype"||typeof u=="string"&&u.startsWith("#")||(h.value&&typeof h.value=="function"?Object.defineProperty(s.prototype,u,{...h,value(...v){return this.player[u](...v)}}):(h.get||h.set)&&Object.defineProperty(s.prototype,u,{...h,set(v){this.player[u]=v},get(){return this.player[u]}}))}return s}class An{constructor(){this.dataUrl=null}getBuffer(){return D(),Buffer.from(this.getArrayBuffer())}getBlob(){return M(),new Blob([this.getArrayBuffer()],{type:this.mimeType})}getUrl(){return M(),this.dataUrl?this.dataUrl:window.URL.createObjectURL(this.getBlob())}revokeUrl(){M(),this.dataUrl&&window.URL.revokeObjectURL(this.dataUrl)}}const lt=-1,dt=12,ut=5003,as=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];class Kt{constructor(s,u,h){this.accum=new Uint8Array(256),this.htab=new Int32Array(ut),this.codetab=new Int32Array(ut),this.cur_accum=0,this.cur_bits=0,this.curPixel=0,this.free_ent=0,this.clear_flg=!1,this.g_init_bits=void 0,this.ClearCode=void 0,this.EOFCode=void 0,this.width=s,this.height=u,this.colorDepth=h,this.reset()}reset(){this.initCodeSize=Math.max(2,this.colorDepth),this.accum.fill(0),this.htab.fill(0),this.codetab.fill(0),this.cur_accum=0,this.cur_bits=0,this.curPixel=0,this.free_ent=0,this.maxcode,this.clear_flg=!1,this.g_init_bits=void 0,this.ClearCode=void 0,this.EOFCode=void 0}char_out(s,u){this.accum[this.a_count++]=s,this.a_count>=254&&this.flush_char(u)}cl_block(s){this.cl_hash(ut),this.free_ent=this.ClearCode+2,this.clear_flg=!0,this.output(this.ClearCode,s)}cl_hash(s){for(var u=0;u<s;++u)this.htab[u]=-1}compress(s,u){var h,v,_,F,N,A,V;for(this.g_init_bits=s,this.clear_flg=!1,this.n_bits=this.g_init_bits,this.maxcode=this.get_maxcode(this.n_bits),this.ClearCode=1<<s-1,this.EOFCode=this.ClearCode+1,this.free_ent=this.ClearCode+2,this.a_count=0,F=this.nextPixel(),V=0,h=ut;h<65536;h*=2)++V;V=8-V,A=ut,this.cl_hash(A),this.output(this.ClearCode,u);e:for(;(v=this.nextPixel())!=lt;){if(h=(v<<dt)+F,_=v<<V^F,this.htab[_]===h){F=this.codetab[_];continue}else if(this.htab[_]>=0){N=A-_,_===0&&(N=1);do if((_-=N)<0&&(_+=A),this.htab[_]===h){F=this.codetab[_];continue e}while(this.htab[_]>=0)}this.output(F,u),F=v,this.free_ent<1<<dt?(this.codetab[_]=this.free_ent++,this.htab[_]=h):this.cl_block(u)}this.output(F,u),this.output(this.EOFCode,u)}encode(s,u){this.pixels=s,u.writeByte(this.initCodeSize),this.remaining=this.width*this.height,this.curPixel=0,this.compress(this.initCodeSize+1,u),u.writeByte(0)}flush_char(s){this.a_count>0&&(s.writeByte(this.a_count),s.writeBytes(this.accum,0,this.a_count),this.a_count=0)}get_maxcode(s){return(1<<s)-1}nextPixel(){if(this.remaining===0)return lt;--this.remaining;var s=this.pixels[this.curPixel++];return s&255}output(s,u){for(this.cur_accum&=as[this.cur_bits],this.cur_bits>0?this.cur_accum|=s<<this.cur_bits:this.cur_accum=s,this.cur_bits+=this.n_bits;this.cur_bits>=8;)this.char_out(this.cur_accum&255,u),this.cur_accum>>=8,this.cur_bits-=8;if((this.free_ent>this.maxcode||this.clear_flg)&&(this.clear_flg?(this.maxcode=this.get_maxcode(this.n_bits=this.g_init_bits),this.clear_flg=!1):(++this.n_bits,this.n_bits==dt?this.maxcode=1<<dt:this.maxcode=this.get_maxcode(this.n_bits))),s==this.EOFCode){for(;this.cur_bits>0;)this.char_out(this.cur_accum&255,u),this.cur_accum>>=8,this.cur_bits-=8;this.flush_char(u)}}}var ht,be,an,Sr,Zn,Yi,ai,ls,us,ua,Xi,Zi,cs;class Ln extends An{constructor(s,u,h={}){super(),ht.add(this),this.mimeType="gif/image",this.frameCount=0,be.set(this,void 0),an.set(this,void 0),this.width=s,this.height=u,a(this,be,new c),this.settings={...Ln.defaultSettings,...h},a(this,an,new Kt(s,u,h.colorDepth))}static fromFlipnote(s,u={}){var v;const h=new Ln(s.imageWidth,s.imageHeight,{delay:100/s.framerate,repeat:(v=s.meta)!=null&&v.loop?-1:0,...u});h.palette=s.globalPalette;for(let _=0;_<s.frameCount;_++)h.writeFrame(s.getFramePixels(_));return h.finish(),h}static fromFlipnoteFrame(s,u,h={}){const v=new Ln(s.imageWidth,s.imageHeight,{delay:0,repeat:0,...h});return v.palette=s.globalPalette,v.writeFrame(s.getFramePixels(u)),v.finish(),v}writeFrame(s){this.frameCount===0?i(this,ht,"m",Sr).call(this,s):i(this,ht,"m",Zn).call(this,s),this.frameCount+=1}finish(){i(this,be,"f").writeByte(59)}getArrayBuffer(){return i(this,be,"f").getBuffer()}getImage(){M();const s=new Image(this.width,this.height);return s.src=this.getUrl(),s}}be=new WeakMap,an=new WeakMap,ht=new WeakSet,Sr=function(s){i(this,ht,"m",Yi).call(this),i(this,ht,"m",ls).call(this),i(this,ht,"m",ua).call(this),i(this,ht,"m",us).call(this),i(this,ht,"m",ai).call(this),i(this,ht,"m",Xi).call(this),i(this,ht,"m",cs).call(this,s)},Zn=function(s){i(this,ht,"m",ai).call(this),i(this,ht,"m",Xi).call(this),i(this,ht,"m",cs).call(this,s)},Yi=function(){i(this,be,"f").writeChars("GIF89a")},ai=function(){i(this,be,"f").writeByte(33),i(this,be,"f").writeByte(249),i(this,be,"f").writeByte(4),i(this,be,"f").writeByte(0),i(this,be,"f").writeU16(this.settings.delay),i(this,be,"f").writeByte(0),i(this,be,"f").writeByte(0)},ls=function(){const s=this.palette,u=this.settings.colorDepth,h=1,v=0,_=i(this,ht,"m",Zi).call(this,s.length)-1,F=h<<7|u-1<<4|v<<3|_,N=0,A=0;i(this,be,"f").writeU16(this.width),i(this,be,"f").writeU16(this.height),i(this,be,"f").writeBytes([F,N,A])},us=function(){i(this,be,"f").writeByte(33),i(this,be,"f").writeByte(255),i(this,be,"f").writeByte(11),i(this,be,"f").writeChars("NETSCAPE2.0"),i(this,be,"f").writeByte(3),i(this,be,"f").writeByte(1),i(this,be,"f").writeU16(this.settings.repeat),i(this,be,"f").writeByte(0)},ua=function(){const s=this.palette,u=1<<i(this,ht,"m",Zi).call(this,s.length);for(let h=0;h<u;h++){let v=[0,0,0];h<s.length&&(v=s[h]),i(this,be,"f").writeByte(v[0]),i(this,be,"f").writeByte(v[1]),i(this,be,"f").writeByte(v[2])}},Xi=function(){i(this,be,"f").writeByte(44),i(this,be,"f").writeU16(0),i(this,be,"f").writeU16(0),i(this,be,"f").writeU16(this.width),i(this,be,"f").writeU16(this.height),i(this,be,"f").writeByte(0)},Zi=function(s){return Math.max(Math.ceil(Math.log2(s)),1)},cs=function(s){i(this,an,"f").colorDepth=this.settings.colorDepth,i(this,an,"f").reset(),i(this,an,"f").encode(s,i(this,be,"f"))},Ln.defaultSettings={delay:100,repeat:-1,colorDepth:8};var Cr,Tr;class Qi extends An{constructor(s,u=1,h=16){super(),Cr.set(this,void 0),Tr.set(this,void 0),this.sampleRate=s,this.channels=u,this.bitsPerSample=h;const v=new ArrayBuffer(44),_=new y(v);_.writeChars("RIFF"),_.writeUint32(0),_.writeChars("WAVE"),_.writeChars("fmt "),_.writeUint32(16),_.writeUint16(1),_.writeUint16(this.channels),_.writeUint32(this.sampleRate),_.writeUint32(this.sampleRate*this.bitsPerSample*this.channels/8),_.writeUint16(this.bitsPerSample*this.channels/8),_.writeUint16(this.bitsPerSample),_.writeChars("data"),_.writeUint32(0),a(this,Cr,_),a(this,Tr,null)}static fromFlipnote(s){const u=s.sampleRate,h=new Qi(u,1,16),v=s.getAudioMasterPcm(u);return h.writeSamples(v),h}static fromFlipnoteTrack(s,u){const h=s.sampleRate,v=new Qi(h,1,16),_=s.getAudioTrackPcm(u,h);return v.writeSamples(_),v}writeSamples(s){let u=i(this,Cr,"f");u.seek(4),u.writeUint32(u.numBytes+s.byteLength),u.seek(40),u.writeUint32(s.byteLength),a(this,Tr,s)}getArrayBuffer(){const s=i(this,Cr,"f").bytes,u=new Uint8Array(i(this,Tr,"f").buffer),h=new Uint8Array(i(this,Cr,"f").numBytes+i(this,Tr,"f").byteLength);return h.set(s),h.set(u,s.byteLength),h.buffer}}Cr=new WeakMap,Tr=new WeakMap;const ca="6.1.1";r.CanvasInterface=ou,r.GifImage=Ln,r.Html5Canvas=Gn,r.KwzParser=Re,r.Player=si,r.PlayerMixin=Yt,r.PpmParser=Ee,r.UniversalCanvas=Vi,r.WavAudio=Qi,r.WebAudioPlayer=ss,r.WebglCanvas=Er,r.filename=Da,r.id=Ma,r.loaders=iu,r.parse=Mo,r.parseSource=Ti,r.playlist=Ms,r.supportedEvents=ba,r.version=ca}(ya,ya.exports)),ya.exports}var Xl=E1(),Ll={exports:{}},Nl={exports:{}},Ac={exports:{}},Rd;function _1(){return Rd||(Rd=1,function(o){function r(i){return i&&i.__esModule?i:{default:i}}o.exports=r,o.exports.default=o.exports,o.exports.__esModule=!0}(Ac)),Ac.exports}var Ml={exports:{}},Dd;function S1(){return Dd||(Dd=1,function(o,r){r.__esModule=!0,r.default=i;function i(a,c){return a.classList?!!c&&a.classList.contains(c):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+c+" ")!==-1}o.exports=r.default}(Ml,Ml.exports)),Ml.exports}var Od;function C1(){return Od||(Od=1,function(o,r){var i=_1();r.__esModule=!0,r.default=c;var a=i(S1());function c(p,g){p.classList?p.classList.add(g):(0,a.default)(p,g)||(typeof p.className=="string"?p.className=p.className+" "+g:p.setAttribute("class",(p.className&&p.className.baseVal||"")+" "+g))}o.exports=r.default}(Nl,Nl.exports)),Nl.exports}var Lc,bd;function T1(){if(bd)return Lc;bd=1;function o(r,i){return r.replace(new RegExp("(^|\\s)"+i+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}return Lc=function(i,a){i.classList?i.classList.remove(a):typeof i.className=="string"?i.className=o(i.className,a):i.setAttribute("class",o(i.className&&i.className.baseVal||"",a))},Lc}var Gt={};function ch(){var o=this.constructor.getDerivedStateFromProps(this.props,this.state);o!=null&&this.setState(o)}function fh(o){function r(i){var a=this.constructor.getDerivedStateFromProps(o,i);return a??null}this.setState(r.bind(this))}function dh(o,r){try{var i=this.props,a=this.state;this.props=o,this.state=r,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,a)}finally{this.props=i,this.state=a}}ch.__suppressDeprecationWarning=!0;fh.__suppressDeprecationWarning=!0;dh.__suppressDeprecationWarning=!0;function F1(o){var r=o.prototype;if(!r||!r.isReactComponent)throw new Error("Can only polyfill class components");if(typeof o.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function")return o;var i=null,a=null,c=null;if(typeof r.componentWillMount=="function"?i="componentWillMount":typeof r.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof r.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof r.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof r.componentWillUpdate=="function"?c="componentWillUpdate":typeof r.UNSAFE_componentWillUpdate=="function"&&(c="UNSAFE_componentWillUpdate"),i!==null||a!==null||c!==null){var p=o.displayName||o.name,g=typeof o.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+p+" uses "+g+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(a!==null?`
  `+a:"")+(c!==null?`
  `+c:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof o.getDerivedStateFromProps=="function"&&(r.componentWillMount=ch,r.componentWillReceiveProps=fh),typeof r.getSnapshotBeforeUpdate=="function"){if(typeof r.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");r.componentWillUpdate=dh;var y=r.componentDidUpdate;r.componentDidUpdate=function(x,E,L){var U=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:L;y.call(this,x,E,U)}}return o}const P1=Object.freeze(Object.defineProperty({__proto__:null,polyfill:F1},Symbol.toStringTag,{value:"Module"})),hh=ep(P1);var Id;function ph(){if(Id)return Gt;Id=1,Gt.__esModule=!0,Gt.default=Gt.EXITING=Gt.ENTERED=Gt.ENTERING=Gt.EXITED=Gt.UNMOUNTED=void 0;var o=p(Ca()),r=c(mi()),i=c(qc()),a=hh;function c(M){return M&&M.__esModule?M:{default:M}}function p(M){if(M&&M.__esModule)return M;var k={};if(M!=null){for(var D in M)if(Object.prototype.hasOwnProperty.call(M,D)){var I=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(M,D):{};I.get||I.set?Object.defineProperty(k,D,I):k[D]=M[D]}}return k.default=M,k}function g(M,k){if(M==null)return{};var D={},I=Object.keys(M),G,j;for(j=0;j<I.length;j++)G=I[j],!(k.indexOf(G)>=0)&&(D[G]=M[G]);return D}function y(M,k){M.prototype=Object.create(k.prototype),M.prototype.constructor=M,M.__proto__=k}var S="unmounted";Gt.UNMOUNTED=S;var x="exited";Gt.EXITED=x;var E="entering";Gt.ENTERING=E;var L="entered";Gt.ENTERED=L;var U="exiting";Gt.EXITING=U;var B=function(M){y(k,M);function k(I,G){var j;j=M.call(this,I,G)||this;var q=G.transitionGroup,Z=q&&!q.isMounting?I.enter:I.appear,me;return j.appearStatus=null,I.in?Z?(me=x,j.appearStatus=E):me=L:I.unmountOnExit||I.mountOnEnter?me=S:me=x,j.state={status:me},j.nextCallback=null,j}var D=k.prototype;return D.getChildContext=function(){return{transitionGroup:null}},k.getDerivedStateFromProps=function(G,j){var q=G.in;return q&&j.status===S?{status:x}:null},D.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},D.componentDidUpdate=function(G){var j=null;if(G!==this.props){var q=this.state.status;this.props.in?q!==E&&q!==L&&(j=E):(q===E||q===L)&&(j=U)}this.updateStatus(!1,j)},D.componentWillUnmount=function(){this.cancelNextCallback()},D.getTimeouts=function(){var G=this.props.timeout,j,q,Z;return j=q=Z=G,G!=null&&typeof G!="number"&&(j=G.exit,q=G.enter,Z=G.appear!==void 0?G.appear:q),{exit:j,enter:q,appear:Z}},D.updateStatus=function(G,j){if(G===void 0&&(G=!1),j!==null){this.cancelNextCallback();var q=i.default.findDOMNode(this);j===E?this.performEnter(q,G):this.performExit(q)}else this.props.unmountOnExit&&this.state.status===x&&this.setState({status:S})},D.performEnter=function(G,j){var q=this,Z=this.props.enter,me=this.context.transitionGroup?this.context.transitionGroup.isMounting:j,ye=this.getTimeouts(),we=me?ye.appear:ye.enter;if(!j&&!Z){this.safeSetState({status:L},function(){q.props.onEntered(G)});return}this.props.onEnter(G,me),this.safeSetState({status:E},function(){q.props.onEntering(G,me),q.onTransitionEnd(G,we,function(){q.safeSetState({status:L},function(){q.props.onEntered(G,me)})})})},D.performExit=function(G){var j=this,q=this.props.exit,Z=this.getTimeouts();if(!q){this.safeSetState({status:x},function(){j.props.onExited(G)});return}this.props.onExit(G),this.safeSetState({status:U},function(){j.props.onExiting(G),j.onTransitionEnd(G,Z.exit,function(){j.safeSetState({status:x},function(){j.props.onExited(G)})})})},D.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},D.safeSetState=function(G,j){j=this.setNextCallback(j),this.setState(G,j)},D.setNextCallback=function(G){var j=this,q=!0;return this.nextCallback=function(Z){q&&(q=!1,j.nextCallback=null,G(Z))},this.nextCallback.cancel=function(){q=!1},this.nextCallback},D.onTransitionEnd=function(G,j,q){this.setNextCallback(q);var Z=j==null&&!this.props.addEndListener;if(!G||Z){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(G,this.nextCallback),j!=null&&setTimeout(this.nextCallback,j)},D.render=function(){var G=this.state.status;if(G===S)return null;var j=this.props,q=j.children,Z=g(j,["children"]);if(delete Z.in,delete Z.mountOnEnter,delete Z.unmountOnExit,delete Z.appear,delete Z.enter,delete Z.exit,delete Z.timeout,delete Z.addEndListener,delete Z.onEnter,delete Z.onEntering,delete Z.onEntered,delete Z.onExit,delete Z.onExiting,delete Z.onExited,typeof q=="function")return q(G,Z);var me=r.default.Children.only(q);return r.default.cloneElement(me,Z)},k}(r.default.Component);B.contextTypes={transitionGroup:o.object},B.childContextTypes={transitionGroup:function(){}},B.propTypes={};function b(){}B.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},B.UNMOUNTED=0,B.EXITED=1,B.ENTERING=2,B.ENTERED=3,B.EXITING=4;var z=(0,a.polyfill)(B);return Gt.default=z,Gt}var Ud;function k1(){return Ud||(Ud=1,function(o,r){r.__esModule=!0,r.default=void 0,y(Ca());var i=g(C1()),a=g(T1()),c=g(mi()),p=g(ph());function g(b){return b&&b.__esModule?b:{default:b}}function y(b){if(b&&b.__esModule)return b;var z={};if(b!=null){for(var M in b)if(Object.prototype.hasOwnProperty.call(b,M)){var k=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(b,M):{};k.get||k.set?Object.defineProperty(z,M,k):z[M]=b[M]}}return z.default=b,z}function S(){return S=Object.assign||function(b){for(var z=1;z<arguments.length;z++){var M=arguments[z];for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&(b[k]=M[k])}return b},S.apply(this,arguments)}function x(b,z){b.prototype=Object.create(z.prototype),b.prototype.constructor=b,b.__proto__=z}var E=function(z,M){return z&&M&&M.split(" ").forEach(function(k){return(0,i.default)(z,k)})},L=function(z,M){return z&&M&&M.split(" ").forEach(function(k){return(0,a.default)(z,k)})},U=function(b){x(z,b);function z(){for(var k,D=arguments.length,I=new Array(D),G=0;G<D;G++)I[G]=arguments[G];return k=b.call.apply(b,[this].concat(I))||this,k.onEnter=function(j,q){var Z=k.getClassNames(q?"appear":"enter"),me=Z.className;k.removeClasses(j,"exit"),E(j,me),k.props.onEnter&&k.props.onEnter(j,q)},k.onEntering=function(j,q){var Z=k.getClassNames(q?"appear":"enter"),me=Z.activeClassName;k.reflowAndAddClass(j,me),k.props.onEntering&&k.props.onEntering(j,q)},k.onEntered=function(j,q){var Z=k.getClassNames("appear").doneClassName,me=k.getClassNames("enter").doneClassName,ye=q?Z+" "+me:me;k.removeClasses(j,q?"appear":"enter"),E(j,ye),k.props.onEntered&&k.props.onEntered(j,q)},k.onExit=function(j){var q=k.getClassNames("exit"),Z=q.className;k.removeClasses(j,"appear"),k.removeClasses(j,"enter"),E(j,Z),k.props.onExit&&k.props.onExit(j)},k.onExiting=function(j){var q=k.getClassNames("exit"),Z=q.activeClassName;k.reflowAndAddClass(j,Z),k.props.onExiting&&k.props.onExiting(j)},k.onExited=function(j){var q=k.getClassNames("exit"),Z=q.doneClassName;k.removeClasses(j,"exit"),E(j,Z),k.props.onExited&&k.props.onExited(j)},k.getClassNames=function(j){var q=k.props.classNames,Z=typeof q=="string",me=Z&&q?q+"-":"",ye=Z?me+j:q[j],we=Z?ye+"-active":q[j+"Active"],ne=Z?ye+"-done":q[j+"Done"];return{className:ye,activeClassName:we,doneClassName:ne}},k}var M=z.prototype;return M.removeClasses=function(D,I){var G=this.getClassNames(I),j=G.className,q=G.activeClassName,Z=G.doneClassName;j&&L(D,j),q&&L(D,q),Z&&L(D,Z)},M.reflowAndAddClass=function(D,I){I&&(D&&D.scrollTop,E(D,I))},M.render=function(){var D=S({},this.props);return delete D.classNames,c.default.createElement(p.default,S({},D,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},z}(c.default.Component);U.defaultProps={classNames:""},U.propTypes={};var B=U;r.default=B,o.exports=r.default}(Ll,Ll.exports)),Ll.exports}var Rl={exports:{}},Dl={exports:{}},co={},jd;function A1(){if(jd)return co;jd=1,co.__esModule=!0,co.getChildMapping=r,co.mergeChildMappings=i,co.getInitialChildMapping=c,co.getNextChildMapping=p;var o=mi();function r(g,y){var S=function(L){return y&&(0,o.isValidElement)(L)?y(L):L},x=Object.create(null);return g&&o.Children.map(g,function(E){return E}).forEach(function(E){x[E.key]=S(E)}),x}function i(g,y){g=g||{},y=y||{};function S(M){return M in y?y[M]:g[M]}var x=Object.create(null),E=[];for(var L in g)L in y?E.length&&(x[L]=E,E=[]):E.push(L);var U,B={};for(var b in y){if(x[b])for(U=0;U<x[b].length;U++){var z=x[b][U];B[x[b][U]]=S(z)}B[b]=S(b)}for(U=0;U<E.length;U++)B[E[U]]=S(E[U]);return B}function a(g,y,S){return S[y]!=null?S[y]:g.props[y]}function c(g,y){return r(g.children,function(S){return(0,o.cloneElement)(S,{onExited:y.bind(null,S),in:!0,appear:a(S,"appear",g),enter:a(S,"enter",g),exit:a(S,"exit",g)})})}function p(g,y,S){var x=r(g.children),E=i(y,x);return Object.keys(E).forEach(function(L){var U=E[L];if((0,o.isValidElement)(U)){var B=L in y,b=L in x,z=y[L],M=(0,o.isValidElement)(z)&&!z.props.in;b&&(!B||M)?E[L]=(0,o.cloneElement)(U,{onExited:S.bind(null,U),in:!0,exit:a(U,"exit",g),enter:a(U,"enter",g)}):!b&&B&&!M?E[L]=(0,o.cloneElement)(U,{in:!1}):b&&B&&(0,o.isValidElement)(z)&&(E[L]=(0,o.cloneElement)(U,{onExited:S.bind(null,U),in:z.props.in,exit:a(U,"exit",g),enter:a(U,"enter",g)}))}}),E}return co}var Bd;function mh(){return Bd||(Bd=1,function(o,r){r.__esModule=!0,r.default=void 0;var i=g(Ca()),a=g(mi()),c=hh,p=A1();function g(z){return z&&z.__esModule?z:{default:z}}function y(z,M){if(z==null)return{};var k={},D=Object.keys(z),I,G;for(G=0;G<D.length;G++)I=D[G],!(M.indexOf(I)>=0)&&(k[I]=z[I]);return k}function S(){return S=Object.assign||function(z){for(var M=1;M<arguments.length;M++){var k=arguments[M];for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&(z[D]=k[D])}return z},S.apply(this,arguments)}function x(z,M){z.prototype=Object.create(M.prototype),z.prototype.constructor=z,z.__proto__=M}function E(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}var L=Object.values||function(z){return Object.keys(z).map(function(M){return z[M]})},U={component:"div",childFactory:function(M){return M}},B=function(z){x(M,z);function M(D,I){var G;G=z.call(this,D,I)||this;var j=G.handleExited.bind(E(E(G)));return G.state={handleExited:j,firstRender:!0},G}var k=M.prototype;return k.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},k.componentDidMount=function(){this.appeared=!0,this.mounted=!0},k.componentWillUnmount=function(){this.mounted=!1},M.getDerivedStateFromProps=function(I,G){var j=G.children,q=G.handleExited,Z=G.firstRender;return{children:Z?(0,p.getInitialChildMapping)(I,q):(0,p.getNextChildMapping)(I,j,q),firstRender:!1}},k.handleExited=function(I,G){var j=(0,p.getChildMapping)(this.props.children);I.key in j||(I.props.onExited&&I.props.onExited(G),this.mounted&&this.setState(function(q){var Z=S({},q.children);return delete Z[I.key],{children:Z}}))},k.render=function(){var I=this.props,G=I.component,j=I.childFactory,q=y(I,["component","childFactory"]),Z=L(this.state.children).map(j);return delete q.appear,delete q.enter,delete q.exit,G===null?Z:a.default.createElement(G,q,Z)},M}(a.default.Component);B.childContextTypes={transitionGroup:i.default.object.isRequired},B.propTypes={},B.defaultProps=U;var b=(0,c.polyfill)(B);r.default=b,o.exports=r.default}(Dl,Dl.exports)),Dl.exports}var zd;function L1(){return zd||(zd=1,function(o,r){r.__esModule=!0,r.default=void 0,p(Ca());var i=p(mi()),a=qc(),c=p(mh());function p(E){return E&&E.__esModule?E:{default:E}}function g(E,L){if(E==null)return{};var U={},B=Object.keys(E),b,z;for(z=0;z<B.length;z++)b=B[z],!(L.indexOf(b)>=0)&&(U[b]=E[b]);return U}function y(E,L){E.prototype=Object.create(L.prototype),E.prototype.constructor=E,E.__proto__=L}var S=function(E){y(L,E);function L(){for(var B,b=arguments.length,z=new Array(b),M=0;M<b;M++)z[M]=arguments[M];return B=E.call.apply(E,[this].concat(z))||this,B.handleEnter=function(){for(var k=arguments.length,D=new Array(k),I=0;I<k;I++)D[I]=arguments[I];return B.handleLifecycle("onEnter",0,D)},B.handleEntering=function(){for(var k=arguments.length,D=new Array(k),I=0;I<k;I++)D[I]=arguments[I];return B.handleLifecycle("onEntering",0,D)},B.handleEntered=function(){for(var k=arguments.length,D=new Array(k),I=0;I<k;I++)D[I]=arguments[I];return B.handleLifecycle("onEntered",0,D)},B.handleExit=function(){for(var k=arguments.length,D=new Array(k),I=0;I<k;I++)D[I]=arguments[I];return B.handleLifecycle("onExit",1,D)},B.handleExiting=function(){for(var k=arguments.length,D=new Array(k),I=0;I<k;I++)D[I]=arguments[I];return B.handleLifecycle("onExiting",1,D)},B.handleExited=function(){for(var k=arguments.length,D=new Array(k),I=0;I<k;I++)D[I]=arguments[I];return B.handleLifecycle("onExited",1,D)},B}var U=L.prototype;return U.handleLifecycle=function(b,z,M){var k,D=this.props.children,I=i.default.Children.toArray(D)[z];I.props[b]&&(k=I.props)[b].apply(k,M),this.props[b]&&this.props[b]((0,a.findDOMNode)(this))},U.render=function(){var b=this.props,z=b.children,M=b.in,k=g(b,["children","in"]),D=i.default.Children.toArray(z),I=D[0],G=D[1];return delete k.onEnter,delete k.onEntering,delete k.onEntered,delete k.onExit,delete k.onExiting,delete k.onExited,i.default.createElement(c.default,k,M?i.default.cloneElement(I,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(G,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},L}(i.default.Component);S.propTypes={};var x=S;r.default=x,o.exports=r.default}(Rl,Rl.exports)),Rl.exports}var Nc,Wd;function N1(){if(Wd)return Nc;Wd=1;var o=c(k1()),r=c(L1()),i=c(mh()),a=c(ph());function c(p){return p&&p.__esModule?p:{default:p}}return Nc={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:r.default,CSSTransition:o.default},Nc}var ys=N1();const M1=o=>{const r=bt(Qt,a=>a.isDarkMode),i=()=>{nf.set("theme",r?"light":"dark"),Qt.update(a=>{a.isDarkMode=!r})};return C.jsxs("div",{className:`ThemeToggle ${r?"ThemeToggle--theme-is-dark":"ThemeToggle--theme-is-light"}`,onClick:i,children:[C.jsx("div",{className:"ThemeToggle__circle ThemeToggle__circle--light"}),C.jsx("div",{className:"ThemeToggle__circle ThemeToggle__circle--dark"})]})},R1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M74.1374132,48 L83.1218112,48 C83.8751514,48 84.6131784,48.2127391 85.2509322,48.6137272 L177.244774,106.454909 C184.725521,111.158433 186.976905,121.035737 182.273381,128.516484 C180.99563,130.548691 179.27698,132.26734 177.244774,133.545091 L85.2509322,191.386273 C84.6131784,191.787261 83.8751514,192 83.1218112,192 L74.1374132,192 C68.5386745,192 64,187.461326 64,181.862587 L64,58.1374132 C64,52.5386745 68.5386745,48 74.1374132,48 Z"})),D1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M64,48 L88,48 C96.836556,48 104,55.163444 104,64 L104,176 C104,184.836556 96.836556,192 88,192 L64,192 C55.163444,192 48,184.836556 48,176 L48,64 C48,55.163444 55.163444,48 64,48 Z M152,48 L176,48 C184.836556,48 192,55.163444 192,64 L192,176 C192,184.836556 184.836556,192 176,192 L152,192 C143.163444,192 136,184.836556 136,176 L136,64 C136,55.163444 143.163444,48 152,48 Z"})),O1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",d:"M144,64 L144,54.3382284 C144,50.8377215 146.837722,48 150.338228,48 L155.359365,48 C156.214835,48 157.047771,48.2742632 157.735885,48.7825235 L191.28797,73.5650471 C194.841896,76.1900781 195.594915,81.1991127 192.969884,84.7530391 C192.496189,85.3943557 191.929287,85.9612582 191.28797,86.4349529 L157.735885,111.217476 C157.047771,111.725737 156.214835,112 155.359365,112 L150.338228,112 C146.837722,112 144,109.162278 144,105.661772 L144,96 L72,96 C67.581722,96 64,99.581722 64,104 L64,144 C64,148.418278 67.581722,152 72,152 L168,152 C172.418278,152 176,148.418278 176,144 L176,132.154662 C176,129.652449 177.170757,127.294362 179.164044,125.781788 L195.164044,113.640437 C198.683685,110.969612 203.702049,111.657714 206.372874,115.177355 C207.428548,116.568533 208,118.266937 208,120.013312 L208,144 C208,166.09139 190.09139,184 168,184 L72,184 C49.90861,184 32,166.09139 32,144 L32,104 C32,81.90861 49.90861,64 72,64 L144,64 Z"})),b1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M152,140.5 L64,140.5 L64,100.5 L152,100.5 L152,88 C152,83.581722 155.581722,80 160,80 L166.635497,80 C167.520138,80 168.379823,80.2932608 169.08004,80.8338966 L211.605585,113.667793 C215.102766,116.36796 215.748874,121.391904 213.048706,124.889085 C212.631249,125.429764 212.146263,125.91475 211.605585,126.332207 L169.08004,159.166103 C168.379823,159.706739 167.520138,160 166.635497,160 L160,160 C155.581722,160 152,156.418278 152,152 L152,140.5 Z M48,140.5 L32,140.5 L32,100.5 L48,100.5 L48,140.5 Z"})),I1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M105.160975,64 L112.719743,64 C113.734792,64 114.697227,64.528977 115.345984,65.443444 L150.423017,114.886888 C152.525661,117.850707 152.525661,122.149293 150.423017,125.113112 L115.345984,174.556556 C114.697227,175.471023 113.734792,176 112.719743,176 L105.160975,176 C100.101508,176 96,171.195514 96,165.26888 L96,74.7311196 C96,68.8044859 100.101508,64 105.160975,64 Z M33.1609754,64 L40.7197433,64 C41.7347919,64 42.6972269,64.528977 43.345984,65.443444 L78.4230168,114.886888 C80.5256611,117.850707 80.5256611,122.149293 78.4230168,125.113112 L43.345984,174.556556 C42.6972269,175.471023 41.7347919,176 40.7197433,176 L33.1609754,176 C28.1015084,176 24,171.195514 24,165.26888 L24,74.7311196 C24,68.8044859 28.1015084,64 33.1609754,64 Z M184,64 L192,64 C200.836556,64 208,71.163444 208,80 L208,160 C208,168.836556 200.836556,176 192,176 L184,176 C175.163444,176 168,168.836556 168,160 L168,80 C168,71.163444 175.163444,64 184,64 Z",transform:"matrix(-1 0 0 1 232 0)"})),U1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M192,64 L200,64 C208.836556,64 216,71.163444 216,80 L216,160 C216,168.836556 208.836556,176 200,176 L192,176 C183.163444,176 176,168.836556 176,160 L176,80 C176,71.163444 183.163444,64 192,64 Z M113.160975,64 L120.719743,64 C121.734792,64 122.697227,64.528977 123.345984,65.443444 L158.423017,114.886888 C160.525661,117.850707 160.525661,122.149293 158.423017,125.113112 L123.345984,174.556556 C122.697227,175.471023 121.734792,176 120.719743,176 L113.160975,176 C108.101508,176 104,171.195514 104,165.26888 L104,74.7311196 C104,68.8044859 108.101508,64 113.160975,64 Z M41.1609754,64 L48.7197433,64 C49.7347919,64 50.6972269,64.528977 51.345984,65.443444 L86.4230168,114.886888 C88.5256611,117.850707 88.5256611,122.149293 86.4230168,125.113112 L51.345984,174.556556 C50.6972269,175.471023 49.7347919,176 48.7197433,176 L41.1609754,176 C36.1015084,176 32,171.195514 32,165.26888 L32,74.7311196 C32,68.8044859 36.1015084,64 41.1609754,64 Z"})),j1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M173.26888,64 C179.195514,64 184,68.8044859 184,74.7311196 L184,165.26888 C184,171.195514 179.195514,176 173.26888,176 L164.414578,176 C163.225556,176 162.098164,175.471023 161.338213,174.556556 L120.249157,125.113112 C117.78613,122.149293 117.78613,117.850707 120.249157,114.886888 L161.338213,65.443444 C162.098164,64.528977 163.225556,64 164.414578,64 L173.26888,64 Z M88,64 C96.836556,64 104,71.163444 104,80 L104,160 C104,168.836556 96.836556,176 88,176 L80,176 C71.163444,176 64,168.836556 64,160 L64,80 C64,71.163444 71.163444,64 80,64 L88,64 Z"})),B1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M66.7311196,64 L75.5854216,64 C76.7744444,64 77.9018358,64.528977 78.6617866,65.443444 L119.750843,114.886888 C122.21387,117.850707 122.21387,122.149293 119.750843,125.113112 L78.6617866,174.556556 C77.9018358,175.471023 76.7744444,176 75.5854216,176 L66.7311196,176 C60.8044859,176 56,171.195514 56,165.26888 L56,74.7311196 C56,68.8044859 60.8044859,64 66.7311196,64 Z M152,64 L160,64 C168.836556,64 176,71.163444 176,80 L176,160 C176,168.836556 168.836556,176 160,176 L152,176 C143.163444,176 136,168.836556 136,160 L136,80 C136,71.163444 143.163444,64 152,64 Z"})),z1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M143.557861,168 C147.483264,161.979581 154.276891,158 162,158 C169.723109,158 176.516736,161.979581 180.442139,168 L188,168 C194.627417,168 200,173.372583 200,180 C200,186.627417 194.627417,192 188,192 L180.442139,192 C176.516736,198.020419 169.723109,202 162,202 C154.276891,202 147.483264,198.020419 143.557861,192 L52,192 C45.372583,192 40,186.627417 40,180 C40,173.372583 45.372583,168 52,168 L143.557861,168 Z M59.5578614,112 C63.4832637,105.979581 70.2768913,102 78,102 C85.7231087,102 92.5167363,105.979581 96.4421386,112 L188,112 C194.627417,112 200,117.372583 200,124 C200,130.627417 194.627417,136 188,136 L96.4421386,136 C92.5167363,142.020419 85.7231087,146 78,146 C70.2768913,146 63.4832637,142.020419 59.5578614,136 L52,136 C45.372583,136 40,130.627417 40,124 C40,117.372583 45.372583,112 52,112 L59.5578614,112 Z M143.557861,56 C147.483264,49.9795815 154.276891,46 162,46 C169.723109,46 176.516736,49.9795815 180.442139,56 L188,56 C194.627417,56 200,61.372583 200,68 C200,74.627417 194.627417,80 188,80 L180.442139,80 C176.516736,86.0204185 169.723109,90 162,90 C154.276891,90 147.483264,86.0204185 143.557861,80 L52,80 C45.372583,80 40,74.627417 40,68 C40,61.372583 45.372583,56 52,56 L143.557861,56 Z"})),W1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",fillRule:"evenodd",d:"M120,64 C111.163444,64 104,56.836556 104,48 C104,39.163444 111.163444,32 120,32 C128.836556,32 136,39.163444 136,48 C136,56.836556 128.836556,64 120,64 Z M168.497423,92 C164.079145,84.347318 166.701147,74.5618715 174.353829,70.1435935 C182.006511,65.7253155 191.791958,68.347318 196.210236,76 C200.628514,83.652682 198.006511,93.4381285 190.353829,97.8564065 C182.701147,102.274684 172.915701,99.652682 168.497423,92 Z M168.497423,148 C172.915701,140.347318 182.701147,137.725316 190.353829,142.143594 C198.006511,146.561872 200.628514,156.347318 196.210236,164 C191.791958,171.652682 182.006511,174.274684 174.353829,169.856406 C166.701147,165.438128 164.079145,155.652682 168.497423,148 Z M120,176 C128.836556,176 136,183.163444 136,192 C136,200.836556 128.836556,208 120,208 C111.163444,208 104,200.836556 104,192 C104,183.163444 111.163444,176 120,176 Z M71.5025774,148 C75.9208554,155.652682 73.2988529,165.438128 65.6461709,169.856406 C57.993489,174.274684 48.2080425,171.652682 43.7897645,164 C39.3714865,156.347318 41.993489,146.561872 49.6461709,142.143594 C57.2988529,137.725316 67.0842994,140.347318 71.5025774,148 Z M71.5025774,92 C67.0842994,99.652682 57.2988529,102.274684 49.6461709,97.8564065 C41.993489,93.4381285 39.3714865,83.652682 43.7897645,76 C48.2080425,68.347318 57.993489,65.7253155 65.6461709,70.1435935 C73.2988529,74.5618715 75.9208554,84.347318 71.5025774,92 Z"})),$1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",d:"M76.0276339,68.9689118 C71.0742407,64.5658956 70.628072,56.9810272 75.0310882,52.0276339 C79.4341044,47.0742407 87.0189728,46.628072 91.9723661,51.0310882 L163.972366,115.031088 C169.342545,119.80458 169.342545,128.19542 163.972366,132.968912 L91.9723661,196.968912 C87.0189728,201.371928 79.4341044,200.925759 75.0310882,195.972366 C70.628072,191.018973 71.0742407,183.434104 76.0276339,179.031088 L137.937608,124 L76.0276339,68.9689118 Z",transform:"matrix(-1 0 0 1 240 0)"})),H1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:240,height:240,viewBox:"0 0 240 240",...o},X.createElement("path",{fill:"#FC8657",d:"M76.0276339,68.9689118 C71.0742407,64.5658956 70.628072,56.9810272 75.0310882,52.0276339 C79.4341044,47.0742407 87.0189728,46.628072 91.9723661,51.0310882 L163.972366,115.031088 C169.342545,119.80458 169.342545,128.19542 163.972366,132.968912 L91.9723661,196.968912 C87.0189728,201.371928 79.4341044,200.925759 75.0310882,195.972366 C70.628072,191.018973 71.0742407,183.434104 76.0276339,179.031088 L137.937608,124 L76.0276339,68.9689118 Z"})),K1=o=>X.createElement("svg",{width:"240px",height:"240px",viewBox:"0 0 240 240",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...o},X.createElement("title",null,"externalService"),X.createElement("desc",null,"Created with Sketch."),X.createElement("g",{id:"externalService",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},X.createElement("path",{d:"M142.058875,64 L126.058875,80 L80,80 L80,160 L160,160 L160,113.941125 L176,97.9411255 L176,160 C176,168.836556 168.836556,176 160,176 L80,176 C71.163444,176 64,168.836556 64,160 L64,80 C64,71.163444 71.163444,64 80,64 L142.058875,64 Z",id:"Path",fill:"#FC8657",fillRule:"nonzero"}),X.createElement("path",{d:"M152,56 C147.581722,56 144,52.418278 144,48 C144,43.581722 147.581722,40 152,40 L192,40 C193.084719,40 194.119016,40.215884 195.062268,40.60703 C196.005831,40.9974282 196.889842,41.5761334 197.656854,42.3431458 C198.423867,43.1101581 199.002572,43.9941694 199.39297,44.9377316 C199.784116,45.8809839 200,46.9152808 200,48 L200,88 C200,92.418278 196.418278,96 192,96 C187.581722,96 184,92.418278 184,88 L184,67.3137085 L133.656854,117.656854 C130.53266,120.781049 125.46734,120.781049 122.343146,117.656854 C119.218951,114.53266 119.218951,109.46734 122.343146,106.343146 L172.686292,56 L152,56 Z",id:"Path",fill:"#FC8657",fillRule:"nonzero"}))),G1={play:R1,pause:D1,loop:O1,noloop:b1,firstFrame:I1,lastFrame:U1,prevFrame:j1,nextFrame:B1,settings:z1,loader:W1,chevronLeft:$1,chevronRight:H1,externalService:K1};function Zt(o){const{className:r,icon:i,disabled:a,spin:c,...p}=o,g=G1[i];return C.jsx("div",{className:`${r} Icon Icon--${i} ${a?"Icon--disabled":""} ${c?"Icon--spin":""}`,...p,children:g&&C.jsx(g,{})})}Zt.defaultProps={icon:"",className:"",disabled:!1,spin:!1};const V1=o=>X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:380,height:380,viewBox:"0 0 380 380",...o},X.createElement("defs",null,X.createElement("linearGradient",{id:"a",x1:"98.704%",x2:"47.641%",y1:"50%",y2:"50%"},X.createElement("stop",{offset:"0%",stopColor:"#F1F2FA"}),X.createElement("stop",{offset:"82.432%",stopColor:"#EBECF8"}),X.createElement("stop",{offset:"100%",stopColor:"#FFFFFF"}))),X.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(5 32)"},X.createElement("path",{fill:"#FFFFFF",fillRule:"nonzero",d:"M370,143.357164 L370,178.433895 C370,191.11042 363.838898,202.996082 353.480186,210.303021 L207.480186,313.290067 C194.001371,322.797899 175.998629,322.797899 162.519814,313.290067 L16.5198137,210.303021 C6.16110152,202.996082 -9.23705556e-14,191.11042 0,178.433895 L2.27373675e-13,143.357164 C3.19744231e-13,130.680639 6.16110152,118.794977 16.5198137,111.488037 L27.3736147,103.831867 L20.0542449,98.6712889 C11.4781348,92.6246417 9.4276,80.7705547 15.4742473,72.1944446 C18.4633163,67.9549737 23.0557652,65.1219298 28.1856945,64.3528575 C34.667084,63.3811761 39.7251547,62.5416834 43.3119751,61.8460499 C81.378512,54.4633666 114.498491,41.3108313 142.788052,22.4195931 L162.519814,8.5009913 C163.725691,7.65037688 164.975327,6.87086323 166.263147,6.16504232 C179.381219,-1.36984463 195.729956,-0.644493304 208.152991,8.11445574 L355.248723,111.825345 C358.512745,114.126667 361.074296,117.194955 362.75182,120.711211 C367.441705,127.287068 370,135.194726 370,143.357164 Z"}),X.createElement("path",{fill:"url(#a)",fillRule:"nonzero",d:"M360,142.4733 L360,178.433895 C360,187.860029 355.418668,196.698085 347.716036,202.13145 L201.716036,305.118496 C191.693327,312.188422 178.306673,312.188422 168.283964,305.118496 L22.283964,202.13145 C14.5813319,196.698085 10,187.860029 10,178.433895 L10,142.4733 C10,138.055022 13.581722,134.4733 18,134.4733 C19.6570207,134.4733 21.2731559,134.987836 22.6251736,135.945837 L172.280773,241.987519 C179.900757,247.386822 190.099243,247.386822 197.719227,241.987519 L347.374826,135.945837 C350.979845,133.391424 355.97305,134.243108 358.527463,137.848126 C359.485464,139.200144 360,140.816279 360,142.4733 Z"}),X.createElement("path",{fill:"#FC8657",fillRule:"nonzero",d:"M341.951886,127.831179 L195.951886,24.8441331 C189.385283,20.2121127 180.614717,20.2121127 174.048114,24.8441331 L28.0481144,127.831179 C23.0015623,131.39097 20,137.181421 20,143.357164 L20,178.433895 C20,184.609638 23.0015623,190.400088 28.0481144,193.959879 L174.048114,296.946925 C180.614717,301.578946 189.385283,301.578946 195.951886,296.946925 L341.951886,193.959879 C346.998438,190.400088 350,184.609638 350,178.433895 L350,143.357164 C350,137.181421 346.998438,131.39097 341.951886,127.831179 Z M347.716036,119.659608 C355.418668,125.092973 360,133.93103 360,143.357164 L360,178.433895 C360,187.860029 355.418668,196.698085 347.716036,202.13145 L201.716036,305.118496 C191.693327,312.188422 178.306673,312.188422 168.283964,305.118496 L22.283964,202.13145 C14.5813319,196.698085 10,187.860029 10,178.433895 L10,143.357164 C10,133.93103 14.5813319,125.092973 22.283964,119.659608 L168.283964,16.6725622 C178.306673,9.60263634 191.693327,9.60263634 201.716036,16.6725622 L347.716036,119.659608 Z"}),X.createElement("path",{fill:"#FC8657",fillRule:"nonzero",d:"M195.956981,24.8545311 C189.388161,20.217717 180.611839,20.217717 174.043019,24.8545311 L27.1423851,128.549096 C26.8627351,128.746496 26.6189311,128.9903 26.4215311,129.26995 C25.4660511,130.623547 25.7887884,132.495424 27.1423851,133.450904 L174.043019,237.145469 C180.611839,241.782283 189.388161,241.782283 195.956981,237.145469 L342.857615,133.450904 C343.137265,133.253504 343.381069,133.0097 343.578469,132.73005 C344.533949,131.376453 344.211212,129.504576 342.857615,128.549096 L195.956981,24.8545311 Z M201.723813,16.6848525 L348.624447,120.379418 C354.490032,124.519831 355.888561,132.631296 351.748148,138.496882 C350.892747,139.708698 349.836264,140.765182 348.624447,141.620582 L201.723813,245.315147 C191.697719,252.39239 178.302281,252.39239 168.276187,245.315147 L21.3755531,141.620582 C15.5099675,137.480169 14.1114391,129.368704 18.2518525,123.503118 C19.1072525,122.291302 20.1637364,121.234818 21.3755531,120.379418 L168.276187,16.6848525 C178.302281,9.60760988 191.697719,9.60760988 201.723813,16.6848525 Z"}),X.createElement("path",{fill:"#FFFFFF",fillRule:"nonzero",d:"M33.6117968,83.7588857 L41.0311647,88.9899678 L187.766239,192.446573 C190.826432,194.604184 194.455916,195.809499 198.198874,195.911146 C205.523234,196.110053 211.306577,195.973602 215.504045,195.514612 C246.706475,192.102648 281.977116,176.609892 321.241822,148.926032 L343.724064,133.074768 C344.00473,132.876882 344.249336,132.632276 344.447222,132.35161 C345.401956,130.997487 345.078187,129.125789 343.724064,128.171055 L196.628332,24.4601658 C190.063237,19.8313986 181.296576,19.8313986 174.73148,24.4601658 L159.161865,35.4376337 C127.436743,57.8056556 90.0737596,73.1496581 47.1198537,81.4802054 C43.6969502,82.1440486 39.1978322,82.9027401 33.6117968,83.7588857 Z"}),X.createElement("path",{fill:"#FC8657",fillRule:"nonzero",d:"M33.6117968,83.7588857 L41.0311647,88.9899678 L187.766239,192.446573 C190.826432,194.604184 194.455916,195.809499 198.198874,195.911146 C205.523234,196.110053 211.306577,195.973602 215.504045,195.514612 C246.706475,192.102648 281.977116,176.609892 321.241822,148.926032 L343.724064,133.074768 C344.00473,132.876882 344.249336,132.632276 344.447222,132.35161 C345.401956,130.997487 345.078187,129.125789 343.724064,128.171055 L196.628332,24.4601658 C190.063237,19.8313986 181.296576,19.8313986 174.73148,24.4601658 L159.161865,35.4376337 C127.436743,57.8056556 90.0737596,73.1496581 47.1198537,81.4802054 C43.6969502,82.1440486 39.1978322,82.9027401 33.6117968,83.7588857 Z M202.390662,16.2873108 L349.486393,119.9982 C355.354259,124.135381 356.757257,132.246074 352.620077,138.11394 C351.762572,139.330159 350.702613,140.390119 349.486393,141.247623 L327.004151,157.098887 C286.465635,185.680855 249.685986,201.836449 216.591058,205.455357 C211.873478,205.971221 205.667213,206.11765 197.927405,205.907461 C192.214469,205.752315 186.674731,203.912624 182.00391,200.619428 L35.2688337,97.1628218 L25.8165743,90.4984339 C21.7542074,87.6342333 20.7829017,82.0191409 23.6471023,77.956774 C25.0629767,75.9486041 27.2383467,74.6066363 29.6683126,74.242339 C36.2786732,73.2513223 41.4665329,72.3902885 45.2159144,71.6631277 C86.8230889,63.5937676 122.868649,48.7907965 153.399535,27.2647787 L168.969151,16.2873108 C178.98956,9.2223503 192.370252,9.2223503 202.390662,16.2873108 Z M210.642113,78.7576961 L234.06011,136.137807 C235.938302,140.73986 233.730176,145.993136 229.128123,147.871328 C227.127251,148.687925 224.89935,148.757291 222.851552,148.066749 L130.556549,116.943753 L122.259449,114.145885 C118.072793,112.734094 115.82332,108.195655 117.235112,104.008999 C118.020754,101.679183 119.834089,99.8400361 122.152569,99.0215455 C125.632987,97.7928564 128.368056,96.8167041 130.354321,96.094385 C143.261661,91.4005392 153.342112,87.3899802 160.569919,84.0775693 C166.770932,81.2357248 173.930479,77.5057365 182.038482,72.8895637 C183.501858,72.0564118 185.376662,70.9083893 187.650969,69.451043 C194.62608,64.9814865 203.903816,67.0126353 208.373376,73.9877435 C208.815316,74.677426 209.200019,75.4021503 209.523628,76.1546465 L210.642113,78.7576961 Z M222.343457,133.893614 L201.419536,82.6223293 L200.33709,80.1052825 C200.229221,79.8544506 200.100986,79.6128759 199.953673,79.3829818 C198.46382,77.0579462 195.37124,76.3808964 193.046205,77.8707477 C190.636667,79.4147487 188.620625,80.6492569 186.986152,81.5798203 C178.639487,86.3318718 171.226168,90.1940708 164.736119,93.1683767 C157.224203,96.610991 146.911388,100.713997 133.771923,105.492257 C132.948018,105.791876 132.00079,106.13324 130.930004,106.516436 L133.751879,107.468002 L223.975483,137.892496 L222.343457,133.893614 Z"}))),q1=()=>{const o=bt(Qt,r=>r.isLoading);return C.jsxs("header",{className:"Header",children:[C.jsxs("div",{className:"Header__group Header__group--left",children:[C.jsx(gs,{to:"/",children:C.jsx(V1,{className:"Header__logo"})}),C.jsxs(gs,{to:"/",className:"Header__title",children:[C.jsx("h1",{children:"Flipnote Player"}),C.jsxs("h2",{className:"Header__subtitle",children:["Version ","3.3.0"]})]}),C.jsx(ys.CSSTransition,{in:o,timeout:200,unmountOnExit:!0,children:C.jsx(Zt,{className:"Header__loadIndicator",icon:"loader",spin:!0})})]}),C.jsx("div",{className:"Header__group Header__group--right",children:C.jsx(M1,{})})]})},Y1=o=>C.jsxs("footer",{className:"Footer",children:[C.jsxs("div",{className:"Footer__left",children:[C.jsxs("p",{children:["Created by ",C.jsx("a",{href:"https://jamesdaniel.dev",children:"James Daniel"})," (Source code on ",C.jsx("a",{href:"https://github.com/jaames/flipnote-player",children:"GitHub"}),")"]}),C.jsxs("p",{children:["Updates coming soon - stay tuned!",C.jsxs("span",{className:"Footer__socials",children:[C.jsx("a",{href:"https://bsky.app/profile/jaames.co.uk",children:"Bluesky"}),C.jsx("a",{href:"https://x.com/jaamesd_",children:"Twitter"}),C.jsx("a",{href:"https://github.com/jaames",children:"GitHub"})]})]})]}),C.jsx("div",{className:"Footer__right",children:C.jsx("p",{children:"FlipnoteStudio and FlipnoteStudio3D are trademarks of Nintendo. This project is not affiliated with them."})})]});function gh(o,r){X.useEffect(()=>{const i=a=>{!o.current||o.current.contains(a.target)||(a.stopPropagation(),r(a))};return document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}},[o,r])}function Zl({isVisible:o,isBackdropVisible:r,onHide:i,className:a,title:c,children:p}){const g=bt(Qt,x=>x.isDarkMode),y=X.useRef(document.body),S=X.useRef();return gh(S,x=>{i()}),X.useEffect(()=>{const x=y.current.classList;o&&r?x.add("is-modal-open"):x.remove("is-modal-open")},[o,r]),nh.createPortal(C.jsx(ys.CSSTransition,{in:o,timeout:300,unmountOnExit:!0,children:C.jsx("div",{className:`ModalBackdrop ${r?"ModalBackdrop--visible":""} ${g?"theme--dark":"theme--light"}`,children:C.jsxs("div",{ref:S,className:`Modal ${a}`,children:[C.jsxs("div",{className:"Modal__head",children:[C.jsx("h4",{className:"Modal__title",children:c}),C.jsx("span",{className:"Modal__closeIcon",onClick:()=>{i()},children:"Close"})]}),C.jsx("div",{className:"Modal__body",children:p})]})})}),y.current)}Zl.defaultProps={title:"",isVisible:!1,isBackdropVisible:!1,onHide:function(){},className:""};function X1(){const o=bt(Qt,c=>c.hasError),r=bt(Qt,c=>c.errorType);bt(Qt,c=>c.errorData);const i=()=>{Qt.update(c=>{c.hasError=!1})};if(r==="FLIPNOTE_COULD_NOT_BE_LOADED")var a=C.jsxs("div",{children:[C.jsx("p",{children:"This Flipnote could not be loaded."}),C.jsxs("p",{children:["If this seems to be a bug, please open an issue thread on this ",C.jsx("a",{href:"https://github.com/jaames/flipnote-player/issues",target:"blank",children:"project's GitHub page"}),", or contact me on ",C.jsx("a",{href:"https://twitter.com/rakujira",target:"blank",children:"Twitter"}),"."]})]});else var a="";return C.jsx(Zl,{title:"Error",className:"ErrorModal",isVisible:o,isBackdropVisible:!0,onHide:i,children:a})}const of=({page:o,children:r})=>C.jsxs("div",{className:"View",children:[C.jsx(q1,{}),C.jsx("main",{className:`Page Page--${o}`,children:r}),C.jsx(Y1,{}),C.jsx(X1,{})]}),Gc=({placeholder:o,ext:r,src:i,thumb:a,author:c,onSelect:p,lock:g,timestamp:y})=>C.jsxs("div",{className:"FlipnoteThumb",onClick:S=>{p(i)},children:[C.jsxs("div",{className:"FlipnoteThumb__image",style:{backgroundImage:`url(${a})`},children:[r&&C.jsx("span",{className:"FlipnoteThumb__type",children:r==="ppm"?"DSi":"3DS"}),o&&C.jsx("div",{className:"FlipnoteThumb__placeholder",children:C.jsx(Zt,{icon:"loader",spin:!0})})]}),C.jsxs("div",{className:"FlipnoteThumb__info",children:[C.jsx("span",{className:"FlipnoteThumb__author",children:c}),C.jsx("span",{className:"FlipnoteThumb__date",children:y===void 0?"":y.toLocaleDateString()})]})]});Gc.defaultProps={onSelect:function(){},placeholder:!1,ext:"",lock:!1,src:"",thumb:"",author:""};const vh=({page:o,items:r,itemsPerPage:i,onSelect:a})=>{const c=o*i,p=c+i,g=r.length?r.slice(c,p):new Array(i).fill({}),y=!!r.length;return C.jsxs("div",{className:"FlipnoteGrid",children:[y&&g.map((S,x)=>C.jsx(Gc,{...S,onSelect:a},x)),!y&&g.map((S,x)=>C.jsx(Gc,{placeholder:!0},x))]})};vh.defaultProps={onSelect:function(){},items:null,page:0,itemsPerPage:12};const Z1=({current:o,itemCount:r,itemsPerPage:i,onChange:a})=>{const c=Math.ceil(r/i)-1,p=o<=0,g=o>=c;return C.jsxs("div",{className:"Pagination",children:[C.jsx(Zt,{className:"Pagination__prev",icon:"chevronLeft",disabled:p,onClick:y=>{p||a(o-1)}}),C.jsxs("span",{className:"Pagination__current",children:[o+1," / ",c+1]}),C.jsx(Zt,{className:"Pagination__next",icon:"chevronRight",disabled:g,onClick:y=>{g||a(o+1)}})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ta(o,r,i,a){function c(p){return p instanceof i?p:new i(function(g){g(p)})}return new(i||(i=Promise))(function(p,g){function y(E){try{x(a.next(E))}catch(L){g(L)}}function S(E){try{x(a.throw(E))}catch(L){g(L)}}function x(E){E.done?p(E.value):c(E.value).then(y,S)}x((a=a.apply(o,[])).next())})}function Fa(o,r){var i={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},a,c,p,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return S([x,E])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,c&&(p=x[0]&2?c.return:x[0]?c.throw||((p=c.return)&&p.call(c),0):c.next)&&!(p=p.call(c,x[1])).done)return p;switch(c=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(p=i.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){i.label=x[1];break}if(x[0]===6&&i.label<p[1]){i.label=p[1],p=x;break}if(p&&i.label<p[2]){i.label=p[2],i.ops.push(x);break}p[2]&&i.ops.pop(),i.trys.pop();continue}x=r.call(o,i)}catch(E){x=[6,E],c=0}finally{a=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}}function Q1(o,r){var i=typeof Symbol=="function"&&o[Symbol.iterator];if(!i)return o;var a=i.call(o),c,p=[],g;try{for(;(r===void 0||r-- >0)&&!(c=a.next()).done;)p.push(c.value)}catch(y){g={error:y}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(g)throw g.error}}return p}function J1(){for(var o=[],r=0;r<arguments.length;r++)o=o.concat(Q1(arguments[r]));return o}var em=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Ql(o,r){var i=tm(o);if(typeof i.path!="string"){var a=o.webkitRelativePath;Object.defineProperty(i,"path",{value:typeof r=="string"?r:typeof a=="string"&&a.length>0?a:o.name,writable:!1,configurable:!1,enumerable:!0})}return i}function tm(o){var r=o.name,i=r&&r.lastIndexOf(".")!==-1;if(i&&!o.type){var a=r.split(".").pop().toLowerCase(),c=em.get(a);c&&Object.defineProperty(o,"type",{value:c,writable:!1,configurable:!1,enumerable:!0})}return o}var nm=[".DS_Store","Thumbs.db"];function rm(o){return Ta(this,void 0,void 0,function(){return Fa(this,function(r){return[2,im(o)&&o.dataTransfer?am(o.dataTransfer,o.type):om(o)]})})}function im(o){return!!o.dataTransfer}function om(o){var r=sm(o.target)?o.target.files?Vc(o.target.files):[]:[];return r.map(function(i){return Ql(i)})}function sm(o){return o!==null}function am(o,r){return Ta(this,void 0,void 0,function(){var i,a;return Fa(this,function(c){switch(c.label){case 0:return o.items?(i=Vc(o.items).filter(function(p){return p.kind==="file"}),r!=="drop"?[2,i]:[4,Promise.all(i.map(lm))]):[3,2];case 1:return a=c.sent(),[2,$d(yh(a))];case 2:return[2,$d(Vc(o.files).map(function(p){return Ql(p)}))]}})})}function $d(o){return o.filter(function(r){return nm.indexOf(r.name)===-1})}function Vc(o){for(var r=[],i=0;i<o.length;i++){var a=o[i];r.push(a)}return r}function lm(o){if(typeof o.webkitGetAsEntry!="function")return Hd(o);var r=o.webkitGetAsEntry();return r&&r.isDirectory?wh(r):Hd(o)}function yh(o){return o.reduce(function(r,i){return J1(r,Array.isArray(i)?yh(i):[i])},[])}function Hd(o){var r=o.getAsFile();if(!r)return Promise.reject(o+" is not a File");var i=Ql(r);return Promise.resolve(i)}function um(o){return Ta(this,void 0,void 0,function(){return Fa(this,function(r){return[2,o.isDirectory?wh(o):cm(o)]})})}function wh(o){var r=o.createReader();return new Promise(function(i,a){var c=[];function p(){var g=this;r.readEntries(function(y){return Ta(g,void 0,void 0,function(){var S,x,E;return Fa(this,function(L){switch(L.label){case 0:if(y.length)return[3,5];L.label=1;case 1:return L.trys.push([1,3,,4]),[4,Promise.all(c)];case 2:return S=L.sent(),i(S),[3,4];case 3:return x=L.sent(),a(x),[3,4];case 4:return[3,6];case 5:E=Promise.all(y.map(um)),c.push(E),p(),L.label=6;case 6:return[2]}})})},function(y){a(y)})}p()})}function cm(o){return Ta(this,void 0,void 0,function(){return Fa(this,function(r){return[2,new Promise(function(i,a){o.file(function(c){var p=Ql(c,o.fullPath);i(p)},function(c){a(c)})})]})})}var Mc,Kd;function fm(){return Kd||(Kd=1,Mc=function(o){function r(a){if(i[a])return i[a].exports;var c=i[a]={i:a,l:!1,exports:{}};return o[a].call(c.exports,c,c.exports,r),c.l=!0,c.exports}var i={};return r.m=o,r.c=i,r.d=function(a,c,p){r.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:p})},r.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(c,"a",c),c},r.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},r.p="",r(r.s=13)}([function(o,r){var i=o.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},function(o,r){o.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(o,r){var i=o.exports={version:"2.5.0"};typeof __e=="number"&&(__e=i)},function(o,r,i){o.exports=!i(4)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(o,r){o.exports=function(i){try{return!!i()}catch{return!0}}},function(o,r){var i={}.toString;o.exports=function(a){return i.call(a).slice(8,-1)}},function(o,r,i){var a=i(32)("wks"),c=i(9),p=i(0).Symbol,g=typeof p=="function";(o.exports=function(y){return a[y]||(a[y]=g&&p[y]||(g?p:c)("Symbol."+y))}).store=a},function(o,r,i){var a=i(0),c=i(2),p=i(8),g=i(22),y=i(10),S=function(x,E,L){var U,B,b,z,M=x&S.F,k=x&S.G,D=x&S.S,I=x&S.P,G=x&S.B,j=k?a:D?a[E]||(a[E]={}):(a[E]||{}).prototype,q=k?c:c[E]||(c[E]={}),Z=q.prototype||(q.prototype={});k&&(L=E);for(U in L)B=!M&&j&&j[U]!==void 0,b=(B?j:L)[U],z=G&&B?y(b,a):I&&typeof b=="function"?y(Function.call,b):b,j&&g(j,U,b,x&S.U),q[U]!=b&&p(q,U,z),I&&Z[U]!=b&&(Z[U]=b)};a.core=c,S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,o.exports=S},function(o,r,i){var a=i(16),c=i(21);o.exports=i(3)?function(p,g,y){return a.f(p,g,c(1,y))}:function(p,g,y){return p[g]=y,p}},function(o,r){var i=0,a=Math.random();o.exports=function(c){return"Symbol(".concat(c===void 0?"":c,")_",(++i+a).toString(36))}},function(o,r,i){var a=i(24);o.exports=function(c,p,g){if(a(c),p===void 0)return c;switch(g){case 1:return function(y){return c.call(p,y)};case 2:return function(y,S){return c.call(p,y,S)};case 3:return function(y,S,x){return c.call(p,y,S,x)}}return function(){return c.apply(p,arguments)}}},function(o,r){o.exports=function(i){if(i==null)throw TypeError("Can't call method on  "+i);return i}},function(o,r,i){var a=i(28),c=Math.min;o.exports=function(p){return p>0?c(a(p),9007199254740991):0}},function(o,r,i){r.__esModule=!0,r.default=function(a,c){if(a&&c){var p=Array.isArray(c)?c:c.split(","),g=a.name||"",y=a.type||"",S=y.replace(/\/.*$/,"");return p.some(function(x){var E=x.trim();return E.charAt(0)==="."?g.toLowerCase().endsWith(E.toLowerCase()):E.endsWith("/*")?S===E.replace(/\/.*$/,""):y===E})}return!0},i(14),i(34)},function(o,r,i){i(15),o.exports=i(2).Array.some},function(o,r,i){var a=i(7),c=i(25)(3);a(a.P+a.F*!i(33)([].some,!0),"Array",{some:function(p){return c(this,p,arguments[1])}})},function(o,r,i){var a=i(17),c=i(18),p=i(20),g=Object.defineProperty;r.f=i(3)?Object.defineProperty:function(y,S,x){if(a(y),S=p(S,!0),a(x),c)try{return g(y,S,x)}catch{}if("get"in x||"set"in x)throw TypeError("Accessors not supported!");return"value"in x&&(y[S]=x.value),y}},function(o,r,i){var a=i(1);o.exports=function(c){if(!a(c))throw TypeError(c+" is not an object!");return c}},function(o,r,i){o.exports=!i(3)&&!i(4)(function(){return Object.defineProperty(i(19)("div"),"a",{get:function(){return 7}}).a!=7})},function(o,r,i){var a=i(1),c=i(0).document,p=a(c)&&a(c.createElement);o.exports=function(g){return p?c.createElement(g):{}}},function(o,r,i){var a=i(1);o.exports=function(c,p){if(!a(c))return c;var g,y;if(p&&typeof(g=c.toString)=="function"&&!a(y=g.call(c))||typeof(g=c.valueOf)=="function"&&!a(y=g.call(c))||!p&&typeof(g=c.toString)=="function"&&!a(y=g.call(c)))return y;throw TypeError("Can't convert object to primitive value")}},function(o,r){o.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},function(o,r,i){var a=i(0),c=i(8),p=i(23),g=i(9)("src"),y=Function.toString,S=(""+y).split("toString");i(2).inspectSource=function(x){return y.call(x)},(o.exports=function(x,E,L,U){var B=typeof L=="function";B&&(p(L,"name")||c(L,"name",E)),x[E]!==L&&(B&&(p(L,g)||c(L,g,x[E]?""+x[E]:S.join(String(E)))),x===a?x[E]=L:U?x[E]?x[E]=L:c(x,E,L):(delete x[E],c(x,E,L)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[g]||y.call(this)})},function(o,r){var i={}.hasOwnProperty;o.exports=function(a,c){return i.call(a,c)}},function(o,r){o.exports=function(i){if(typeof i!="function")throw TypeError(i+" is not a function!");return i}},function(o,r,i){var a=i(10),c=i(26),p=i(27),g=i(12),y=i(29);o.exports=function(S,x){var E=S==1,L=S==2,U=S==3,B=S==4,b=S==6,z=S==5||b,M=x||y;return function(k,D,I){for(var G,j,q=p(k),Z=c(q),me=a(D,I,3),ye=g(Z.length),we=0,ne=E?M(k,ye):L?M(k,0):void 0;ye>we;we++)if((z||we in Z)&&(G=Z[we],j=me(G,we,q),S)){if(E)ne[we]=j;else if(j)switch(S){case 3:return!0;case 5:return G;case 6:return we;case 2:ne.push(G)}else if(B)return!1}return b?-1:U||B?B:ne}}},function(o,r,i){var a=i(5);o.exports=Object("z").propertyIsEnumerable(0)?Object:function(c){return a(c)=="String"?c.split(""):Object(c)}},function(o,r,i){var a=i(11);o.exports=function(c){return Object(a(c))}},function(o,r){var i=Math.ceil,a=Math.floor;o.exports=function(c){return isNaN(c=+c)?0:(c>0?a:i)(c)}},function(o,r,i){var a=i(30);o.exports=function(c,p){return new(a(c))(p)}},function(o,r,i){var a=i(1),c=i(31),p=i(6)("species");o.exports=function(g){var y;return c(g)&&(y=g.constructor,typeof y!="function"||y!==Array&&!c(y.prototype)||(y=void 0),a(y)&&(y=y[p])===null&&(y=void 0)),y===void 0?Array:y}},function(o,r,i){var a=i(5);o.exports=Array.isArray||function(c){return a(c)=="Array"}},function(o,r,i){var a=i(0),c=a["__core-js_shared__"]||(a["__core-js_shared__"]={});o.exports=function(p){return c[p]||(c[p]={})}},function(o,r,i){var a=i(4);o.exports=function(c,p){return!!c&&a(function(){p?c.call(null,function(){},1):c.call(null)})}},function(o,r,i){i(35),o.exports=i(2).String.endsWith},function(o,r,i){var a=i(7),c=i(12),p=i(36),g="".endsWith;a(a.P+a.F*i(38)("endsWith"),"String",{endsWith:function(y){var S=p(this,y,"endsWith"),x=arguments.length>1?arguments[1]:void 0,E=c(S.length),L=x===void 0?E:Math.min(c(x),E),U=String(y);return g?g.call(S,U,L):S.slice(L-U.length,L)===U}})},function(o,r,i){var a=i(37),c=i(11);o.exports=function(p,g,y){if(a(g))throw TypeError("String#"+y+" doesn't accept regex!");return String(c(p))}},function(o,r,i){var a=i(1),c=i(5),p=i(6)("match");o.exports=function(g){var y;return a(g)&&((y=g[p])!==void 0?!!y:c(g)=="RegExp")}},function(o,r,i){var a=i(6)("match");o.exports=function(c){var p=/./;try{"/./"[c](p)}catch{try{return p[a]=!1,!"/./"[c](p)}catch{}}return!0}}])),Mc}var dm=fm();const hm=vo(dm);var pm=typeof document<"u"&&document&&document.createElement?"multiple"in document.createElement("input"):!0;function xh(o,r){return o.type==="application/x-moz-file"||hm(o,r)}function mm(o,r,i){return o.size<=r&&o.size>=i}function gm(o,r){return o.every(function(i){return xh(i,r)})}function Gd(o){return typeof o.isPropagationStopped=="function"?o.isPropagationStopped():typeof o.cancelBubble<"u"?o.cancelBubble:!1}function Ol(o){return typeof o.defaultPrevented<"u"?o.defaultPrevented:typeof o.isDefaultPrevented=="function"?o.isDefaultPrevented():!1}function va(o){return o.dataTransfer?Array.prototype.some.call(o.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!0}function Vd(o){o.preventDefault()}function vm(o){return o.indexOf("MSIE")!==-1||o.indexOf("Trident/")!==-1}function ym(o){return o.indexOf("Edge/")!==-1}function wm(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vm(o)||ym(o)}function Mn(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return function(a){for(var c=arguments.length,p=Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];return r.some(function(y){return y&&y.apply(void 0,[a].concat(p)),a.defaultPrevented})}}var qd=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o},xm=function(){function o(r,i){for(var a=0;a<i.length;a++){var c=i[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}return function(r,i,a){return i&&o(r.prototype,i),a&&o(r,a),r}}();function Rc(o,r,i){return r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,o}function Yd(o,r){var i={};for(var a in o)r.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a]);return i}function Em(o){if(Array.isArray(o)){for(var r=0,i=Array(o.length);r<o.length;r++)i[r]=o[r];return i}else return Array.from(o)}function _m(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function Xd(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:o}function Sm(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}var sf=function(o){Sm(r,o);function r(){var i,a,c,p;_m(this,r);for(var g=arguments.length,y=Array(g),S=0;S<g;S++)y[S]=arguments[S];return p=(a=(c=Xd(this,(i=r.__proto__||Object.getPrototypeOf(r)).call.apply(i,[this].concat(y))),c),c.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},c.isFileDialogActive=!1,c.onDocumentDrop=function(x){c.node&&c.node.contains(x.target)||(x.preventDefault(),c.dragTargets=[])},c.onDragStart=function(x){x.persist(),c.props.onDragStart&&va(x)&&c.props.onDragStart.call(c,x)},c.onDragEnter=function(x){x.preventDefault(),c.dragTargets.indexOf(x.target)===-1&&c.dragTargets.push(x.target),x.persist(),va(x)&&(Promise.resolve(c.props.getDataTransferItems(x)).then(function(E){Gd(x)||c.setState({draggedFiles:E,isDragActive:!0})}),c.props.onDragEnter&&c.props.onDragEnter.call(c,x))},c.onDragOver=function(x){return x.preventDefault(),x.persist(),x.dataTransfer&&(x.dataTransfer.dropEffect="copy"),c.props.onDragOver&&va(x)&&c.props.onDragOver.call(c,x),!1},c.onDragLeave=function(x){x.preventDefault(),x.persist(),c.dragTargets=c.dragTargets.filter(function(E){return E!==x.target&&c.node.contains(E)}),!(c.dragTargets.length>0)&&(c.setState({isDragActive:!1,draggedFiles:[]}),c.props.onDragLeave&&va(x)&&c.props.onDragLeave.call(c,x))},c.onDrop=function(x){var E=c.props,L=E.onDrop,U=E.onDropAccepted,B=E.onDropRejected,b=E.multiple,z=E.accept,M=E.getDataTransferItems;x.preventDefault(),x.persist(),c.dragTargets=[],c.isFileDialogActive=!1,c.draggedFiles=null,c.setState({isDragActive:!1,draggedFiles:[]}),va(x)&&Promise.resolve(M(x)).then(function(k){var D=[],I=[];Gd(x)||(k.forEach(function(G){xh(G,z)&&mm(G,c.props.maxSize,c.props.minSize)?D.push(G):I.push(G)}),!b&&D.length>1&&I.push.apply(I,Em(D.splice(0))),c.setState({acceptedFiles:D,rejectedFiles:I},function(){L&&L.call(c,D,I,x),I.length>0&&B&&B.call(c,I,x),D.length>0&&U&&U.call(c,D,x)}))})},c.onClick=function(x){var E=c.props.onClick;E&&E.call(c,x),Ol(x)||(x.stopPropagation(),wm()?setTimeout(c.open,0):c.open())},c.onInputElementClick=function(x){x.stopPropagation()},c.onFileDialogCancel=function(){var x=c.props.onFileDialogCancel;c.isFileDialogActive&&setTimeout(function(){if(c.input!=null){var E=c.input.files;E.length||(c.isFileDialogActive=!1,typeof x=="function"&&x())}},300)},c.onFocus=function(x){var E=c.props.onFocus;E&&E.call(c,x),Ol(x)||c.setState({isFocused:!0})},c.onBlur=function(x){var E=c.props.onBlur;E&&E.call(c,x),Ol(x)||c.setState({isFocused:!1})},c.onKeyDown=function(x){var E=c.props.onKeyDown;c.node.isEqualNode(x.target)&&(E&&E.call(c,x),!Ol(x)&&(x.keyCode===32||x.keyCode===13)&&(x.preventDefault(),c.open()))},c.composeHandler=function(x){return c.props.disabled?null:x},c.getRootProps=function(){var x,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=E.refKey,U=L===void 0?"ref":L,B=E.onKeyDown,b=E.onFocus,z=E.onBlur,M=E.onClick,k=E.onDragStart,D=E.onDragEnter,I=E.onDragOver,G=E.onDragLeave,j=E.onDrop,q=Yd(E,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragStart","onDragEnter","onDragOver","onDragLeave","onDrop"]);return qd((x={onKeyDown:c.composeHandler(B?Mn(B,c.onKeyDown):c.onKeyDown),onFocus:c.composeHandler(b?Mn(b,c.onFocus):c.onFocus),onBlur:c.composeHandler(z?Mn(z,c.onBlur):c.onBlur),onClick:c.composeHandler(M?Mn(M,c.onClick):c.onClick),onDragStart:c.composeHandler(k?Mn(k,c.onDragStart):c.onDragStart),onDragEnter:c.composeHandler(D?Mn(D,c.onDragEnter):c.onDragEnter),onDragOver:c.composeHandler(I?Mn(I,c.onDragOver):c.onDragOver),onDragLeave:c.composeHandler(G?Mn(G,c.onDragLeave):c.onDragLeave),onDrop:c.composeHandler(j?Mn(j,c.onDrop):c.onDrop)},Rc(x,U,c.setNodeRef),Rc(x,"tabIndex",c.props.disabled?-1:0),x),q)},c.getInputProps=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=x.refKey,L=E===void 0?"ref":E,U=x.onChange,B=x.onClick,b=Yd(x,["refKey","onChange","onClick"]),z=c.props,M=z.accept,k=z.multiple,D=z.name,I=Rc({accept:M,type:"file",style:{display:"none"},multiple:pm&&k,onChange:Mn(U,c.onDrop),onClick:Mn(B,c.onInputElementClick),autoComplete:"off",tabIndex:-1},L,c.setInputRef);return D&&D.length&&(I.name=D),qd({},I,b)},c.setNodeRef=function(x){c.node=x},c.setInputRef=function(x){c.input=x},c.open=function(){c.isFileDialogActive=!0,c.input&&(c.input.value=null,c.input.click())},a),Xd(c,p)}return xm(r,[{key:"componentDidMount",value:function(){var a=this.props.preventDropOnDocument;this.dragTargets=[],a&&(document.addEventListener("dragover",Vd,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){var a=this.props.preventDropOnDocument;a&&(document.removeEventListener("dragover",Vd),document.removeEventListener("drop",this.onDocumentDrop)),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"render",value:function(){var a=this.props,c=a.children,p=a.multiple,g=a.disabled,y=this.state,S=y.isDragActive,x=y.isFocused,E=y.draggedFiles,L=y.acceptedFiles,U=y.rejectedFiles,B=E.length,b=p||B<=1,z=B>0&&gm(E,this.props.accept),M=B>0&&(!z||!b);return c({isDragActive:S,isDragAccept:z,isDragReject:M,draggedFiles:E,acceptedFiles:L,rejectedFiles:U,isFocused:x&&!g,getRootProps:this.getRootProps,getInputProps:this.getInputProps,open:this.open})}}]),r}(Lt.Component);sf.propTypes={accept:ce.oneOfType([ce.string,ce.arrayOf(ce.string)]),children:ce.func,disabled:ce.bool,preventDropOnDocument:ce.bool,multiple:ce.bool,name:ce.string,maxSize:ce.number,minSize:ce.number,getDataTransferItems:ce.func,onClick:ce.func,onFocus:ce.func,onBlur:ce.func,onKeyDown:ce.func,onDrop:ce.func,onDropAccepted:ce.func,onDropRejected:ce.func,onDragStart:ce.func,onDragEnter:ce.func,onDragOver:ce.func,onDragLeave:ce.func,onFileDialogCancel:ce.func};sf.defaultProps={preventDropOnDocument:!0,disabled:!1,multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:rm};const Cm=[{title:"Flipnote Studio",value:"dsi"},{title:"Flipnote Studio 3D",value:"3ds"}],Tm=[{title:"Europe",value:"eu"},{title:"America",value:"us"},{title:"Japan",value:"jp"}];function Eh({isVisible:o,onHide:r}){const[i,a]=X.useState("3ds"),[c,p]=X.useState("eu");return C.jsxs(Zl,{isVisible:o,isBackdropVisible:!0,onHide:r,title:"Flipnote File Location",className:"SdCardHelper",children:[C.jsxs("div",{className:"FormGroup",children:[C.jsxs("div",{className:"FormItem",children:[C.jsx("label",{htmlFor:"appVersion",children:"App version"}),C.jsx("select",{className:"Select",id:"appVersion",value:i,onChange:g=>a(event.target.value),children:Cm.map(g=>C.jsx("option",{value:g.value,children:g.title},g.value))})]}),C.jsxs("div",{className:"FormItem",children:[C.jsx("label",{htmlFor:"region",children:"Region"}),C.jsx("select",{className:"Select",id:"region",value:c,onChange:g=>p(event.target.value),children:Tm.map(g=>C.jsx("option",{value:g.value,children:g.title},g.value))})]})]}),C.jsxs("div",{children:[C.jsxs("p",{children:["Any Flipnotes that are saved to your ",i==="dsi"?"Nintendo DSi's":"Nintendo 3DS'"," SD card can be found at the following folder location:"]}),C.jsx("code",{children:lh.getSdCardRoute(i,c)})]})]})}Eh.defaultProps={onHide:function(){},isVisible:!1};const Fm=({onLoadFiles:o,onLoadSrc:r})=>{const[i,a]=X.useState(!1),[c,p]=X.useState("");return C.jsxs("div",{className:"UploadPanel",children:[C.jsxs("div",{className:"Dropzone",children:[C.jsx(sf,{accept:[".ppm",".kwz"],onDrop:o,children:({getRootProps:g,getInputProps:y,isDragActive:S})=>C.jsx("div",{className:"Dropzone__inner",...g(),children:C.jsxs("div",{className:"Dropzone__content",children:[C.jsx("input",{...y()}),C.jsx("p",{children:"Drag & drop Flipnote Studio .PPM or .KWZ files here"}),C.jsx("div",{className:"Button Button--inline Button--lg",children:"Browse Files"}),C.jsx("div",{className:"UploadPanel__sdCardLink",onClick:x=>{x.stopPropagation(),a(!i)},children:"? How to find Flipnote files"})]})})}),C.jsx(Eh,{isVisible:i,onHide:()=>{a(!1)}})]}),C.jsx("div",{className:"UrlForm",children:C.jsxs("div",{className:"FormGroup",children:[C.jsxs("div",{className:"FormItem FormItem--flex3",children:[C.jsx("label",{htmlFor:"url",children:"Or load from a URL"}),C.jsx("input",{className:"Input",id:"url",type:"text",placeholder:"Flipnote URL",value:c,onChange:g=>{p(g.target.value)}})]}),C.jsx("div",{className:"FormItem",children:C.jsx("div",{className:"Button",onClick:()=>{c&&r(Kc.getFileFromFlipnoteUrl(c))},children:"Load"})})]})})]})};function Pm(o){return new Promise((r,i)=>{const a=new FileReader;a.onload=c=>{r(c.target.result)},a.onerror=c=>{i({type:"fileReadError"})},a.readAsArrayBuffer(o)})}function km(o){return new Promise((r,i)=>{Xl.parseSource(o).then(a=>{r(a)}).catch(()=>{r(void 0)})})}function Am(o){return new Promise((r,i)=>{if(!o)i();else{const a=o.meta,c=Xl.GifImage.fromFlipnoteFrame(o,o.thumbFrameIndex),p={author:a.current.username,lock:!!a.lock,src:o.buffer,placeholder:!1,ext:o.format.toLowerCase(),filename:a.current.filename,thumb:c.getUrl(),note:o,timestamp:a.timestamp};r(p)}})}function Lm(o){return Promise.all(o.map(r=>Pm(r))).then(r=>Promise.all(r.map(i=>km(i)))).then(r=>Promise.all(r.filter(i=>i!==void 0).map(i=>Am(i))))}const Nm=o=>{const r=bt(ho,S=>S.mode),i=bt(ho,S=>S.items),a=bt(ho,S=>S.page),c=()=>Qt.update(S=>{S.isLoading=!0}),p=()=>Qt.update(S=>{S.isLoading=!1}),g=S=>{c(),Xl.parseSource(S).then(x=>{mo.update(E=>{E.src=S,E.note=x}),o.history.push("/view"),p()}).catch(x=>{p(),Qt.update(E=>{E.hasError=!0,E.errorType="FLIPNOTE_COULD_NOT_BE_LOADED",E.errorData={flipnoteSrc:S}})})},y=S=>{S.length==1?g(S[0]):(c(),ho.update(x=>{x.items=[]}),Lm(S).then(x=>{x.sort((E,L)=>L.timestamp-E.timestamp),ho.update(E=>{E.items=x,E.mode="UPLOADS",E.page=0}),p()}))};return C.jsxs(of,{page:"index",children:[C.jsxs("div",{className:"Section Section--side",children:[C.jsx("div",{className:"Section__title",children:C.jsx("h4",{className:"title",children:"Upload"})}),C.jsx("div",{className:"Section__body",children:C.jsx(Fm,{onLoadFiles:y,onLoadSrc:g})})]}),C.jsxs("div",{className:"Section Section--main",children:[C.jsxs("div",{className:"Section__title",children:[C.jsx("h4",{className:"title",children:r==="SAMPLE"?"Sample Flipnotes":"Browse Uploads"}),C.jsx("div",{className:"Section__actions",children:C.jsx(Z1,{current:a,itemCount:i.length,itemsPerPage:12,onChange:S=>{ho.update(x=>{x.page=S})}})})]}),C.jsx("div",{className:"Section__body",children:C.jsx(vh,{items:i,page:a,onSelect:g})})]})]})};/*!
 * hotkeys-js v3.8.3
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */var Dc=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Oc(o,r,i){o.addEventListener?o.addEventListener(r,i,!1):o.attachEvent&&o.attachEvent("on".concat(r),function(){i(window.event)})}function _h(o,r){for(var i=r.slice(0,r.length-1),a=0;a<i.length;a++)i[a]=o[i[a].toLowerCase()];return i}function Sh(o){typeof o!="string"&&(o=""),o=o.replace(/\s/g,"");for(var r=o.split(","),i=r.lastIndexOf("");i>=0;)r[i-1]+=",",r.splice(i,1),i=r.lastIndexOf("");return r}function Mm(o,r){for(var i=o.length>=r.length?o:r,a=o.length>=r.length?r:o,c=!0,p=0;p<i.length;p++)a.indexOf(i[p])===-1&&(c=!1);return c}var Ch={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":Dc?173:189,"=":Dc?61:187,";":Dc?59:186,"'":222,"[":219,"]":221,"\\":220},go={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},Zd={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},At={16:!1,18:!1,17:!1,91:!1},Ct={};for(var bl=1;bl<20;bl++)Ch["f".concat(bl)]=111+bl;var ot=[],Th="all",Fh=[],Jl=function(r){return Ch[r.toLowerCase()]||go[r.toLowerCase()]||r.toUpperCase().charCodeAt(0)};function Ph(o){Th=o||"all"}function Sa(){return Th||"all"}function Rm(){return ot.slice(0)}function Dm(o){var r=o.target||o.srcElement,i=r.tagName,a=!0;return(r.isContentEditable||(i==="INPUT"||i==="TEXTAREA"||i==="SELECT")&&!r.readOnly)&&(a=!1),a}function Om(o){return typeof o=="string"&&(o=Jl(o)),ot.indexOf(o)!==-1}function bm(o,r){var i,a;o||(o=Sa());for(var c in Ct)if(Object.prototype.hasOwnProperty.call(Ct,c))for(i=Ct[c],a=0;a<i.length;)i[a].scope===o?i.splice(a,1):a++;Sa()===o&&Ph(r||"all")}function Im(o){var r=o.keyCode||o.which||o.charCode,i=ot.indexOf(r);if(i>=0&&ot.splice(i,1),o.key&&o.key.toLowerCase()==="meta"&&ot.splice(0,ot.length),(r===93||r===224)&&(r=91),r in At){At[r]=!1;for(var a in go)go[a]===r&&(Rn[a]=!1)}}function Um(o){if(!o)Object.keys(Ct).forEach(function(g){return delete Ct[g]});else if(Array.isArray(o))o.forEach(function(g){g.key&&bc(g)});else if(typeof o=="object")o.key&&bc(o);else if(typeof o=="string"){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var c=i[0],p=i[1];typeof c=="function"&&(p=c,c=""),bc({key:o,scope:c,method:p,splitKey:"+"})}}var bc=function(r){var i=r.key,a=r.scope,c=r.method,p=r.splitKey,g=p===void 0?"+":p,y=Sh(i);y.forEach(function(S){var x=S.split(g),E=x.length,L=x[E-1],U=L==="*"?"*":Jl(L);if(Ct[U]){a||(a=Sa());var B=E>1?_h(go,x):[];Ct[U]=Ct[U].map(function(b){var z=c?b.method===c:!0;return z&&b.scope===a&&Mm(b.mods,B)?{}:b})}})};function Qd(o,r,i){var a;if(r.scope===i||r.scope==="all"){a=r.mods.length>0;for(var c in At)Object.prototype.hasOwnProperty.call(At,c)&&(!At[c]&&r.mods.indexOf(+c)>-1||At[c]&&r.mods.indexOf(+c)===-1)&&(a=!1);(r.mods.length===0&&!At[16]&&!At[18]&&!At[17]&&!At[91]||a||r.shortcut==="*")&&r.method(o,r)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}function Jd(o){var r=Ct["*"],i=o.keyCode||o.which||o.charCode;if(Rn.filter.call(this,o)){if((i===93||i===224)&&(i=91),ot.indexOf(i)===-1&&i!==229&&ot.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(B){var b=Zd[B];o[B]&&ot.indexOf(b)===-1?ot.push(b):!o[B]&&ot.indexOf(b)>-1?ot.splice(ot.indexOf(b),1):B==="metaKey"&&o[B]&&ot.length===3&&(o.ctrlKey||o.shiftKey||o.altKey||(ot=ot.slice(ot.indexOf(b))))}),i in At){At[i]=!0;for(var a in go)go[a]===i&&(Rn[a]=!0);if(!r)return}for(var c in At)Object.prototype.hasOwnProperty.call(At,c)&&(At[c]=o[Zd[c]]);o.getModifierState&&!(o.altKey&&!o.ctrlKey)&&o.getModifierState("AltGraph")&&(ot.indexOf(17)===-1&&ot.push(17),ot.indexOf(18)===-1&&ot.push(18),At[17]=!0,At[18]=!0);var p=Sa();if(r)for(var g=0;g<r.length;g++)r[g].scope===p&&(o.type==="keydown"&&r[g].keydown||o.type==="keyup"&&r[g].keyup)&&Qd(o,r[g],p);if(i in Ct){for(var y=0;y<Ct[i].length;y++)if((o.type==="keydown"&&Ct[i][y].keydown||o.type==="keyup"&&Ct[i][y].keyup)&&Ct[i][y].key){for(var S=Ct[i][y],x=S.splitKey,E=S.key.split(x),L=[],U=0;U<E.length;U++)L.push(Jl(E[U]));L.sort().join("")===ot.sort().join("")&&Qd(o,S,p)}}}}function jm(o){return Fh.indexOf(o)>-1}function Rn(o,r,i){ot=[];var a=Sh(o),c=[],p="all",g=document,y=0,S=!1,x=!0,E="+";for(i===void 0&&typeof r=="function"&&(i=r),Object.prototype.toString.call(r)==="[object Object]"&&(r.scope&&(p=r.scope),r.element&&(g=r.element),r.keyup&&(S=r.keyup),r.keydown!==void 0&&(x=r.keydown),typeof r.splitKey=="string"&&(E=r.splitKey)),typeof r=="string"&&(p=r);y<a.length;y++)o=a[y].split(E),c=[],o.length>1&&(c=_h(go,o)),o=o[o.length-1],o=o==="*"?"*":Jl(o),o in Ct||(Ct[o]=[]),Ct[o].push({keyup:S,keydown:x,scope:p,mods:c,shortcut:a[y],method:i,key:a[y],splitKey:E});typeof g<"u"&&!jm(g)&&window&&(Fh.push(g),Oc(g,"keydown",function(L){Jd(L)}),Oc(window,"focus",function(){ot=[]}),Oc(g,"keyup",function(L){Jd(L),Im(L)}))}var Ic={setScope:Ph,getScope:Sa,deleteScope:bm,getPressedKeyCodes:Rm,isPressed:Om,filter:Dm,unbind:Um};for(var Uc in Ic)Object.prototype.hasOwnProperty.call(Ic,Uc)&&(Rn[Uc]=Ic[Uc]);if(typeof window<"u"){var Bm=window.hotkeys;Rn.noConflict=function(o){return o&&window.hotkeys===Rn&&(window.hotkeys=Bm),Rn},window.hotkeys=Rn}const di={passive:!1};function af(o){const r=X.useRef(),i=y=>{y.preventDefault();const S=r.current.getBoundingClientRect(),x=y.touches?y.changedTouches[0]:y,E=Math.max(Math.min(x.clientX-S.left,S.width),0),L=1/S.width*E,U=(o.max-o.min)*L-o.min;o.onChange(U)},a=y=>{i(y),document.removeEventListener("mousemove",i,di),document.removeEventListener("mouseup",a,di),document.removeEventListener("touchmove",i,di),document.removeEventListener("touchend",a,di),o.onAfterChange(y)},c=y=>{o.onBeforeChange(y),i(y),document.addEventListener("mousemove",i,di),document.addEventListener("mouseup",a,di),document.addEventListener("touchmove",i,di),document.addEventListener("touchend",a,di)},g=(Math.max(o.min,Math.min(o.max,o.value))-o.min)/(o.max-o.min)*100;return C.jsx("div",{ref:r,className:`Slider ${o.className}`,onMouseDown:c,onTouchStart:c,children:C.jsxs("div",{className:"Slider__bar",children:[C.jsx("div",{className:"Slider__progress",style:{left:0,width:`${g}%`}}),C.jsx("div",{className:"Slider__handle",style:{left:`${g}%`}})]})})}af.defaultProps={min:0,max:100,value:0,onChange:function(){},onBeforeChange:function(){},onAfterChange:function(){}};const zm=({isVisible:o,current:r,total:i})=>C.jsx(ys.CSSTransition,{in:o,timeout:150,unmountOnExit:!0,children:C.jsxs("span",{className:"FrameCounter",children:[r.toString().padStart(3,"0")," / ",i.toString().padStart(3,"0")]})});function kh({isVisible:o,onHide:r,children:i}){const a=X.useRef();return gh(a,c=>{r()}),C.jsx(ys.CSSTransition,{in:o,timeout:150,unmountOnExit:!0,children:C.jsx("div",{ref:a,className:"SettingsMenu",children:i})})}kh.defaultProps={isVisible:!1,onHide:function(){}};function lf(o){const r=["Switch",o.on?"Switch--on":"",o.disabled?"Switch--disabled":"",o.className].filter(i=>i).join(" ");return C.jsx("div",{className:r,onClick:o.onClick,children:C.jsx("div",{className:"Switch__toggle"})})}lf.defaultProps={on:!1,disabled:!1,className:"",onClick:function(){}};const ps=o=>{let r="";switch(o.type){case"slider":r=C.jsx(af,{...o,className:"SettingsMenuItem__slider"});break;case"switch":default:r=C.jsx(lf,{on:o.value,onClick:o.onChange});break}return C.jsxs("div",{className:"SettingsMenuItem",children:[C.jsx("span",{className:"SettingsMenuItem__label",children:o.label}),C.jsx("div",{className:"SettingsMenuItem__input",children:r})]})};ps.defaultProps={label:"",type:"switch",value:!1};function Wm(o){const r=bt(mo,ne=>ne.note),i=bt(mo,ne=>ne.forcePause),a=X.useRef(null),c=X.useRef(null);window.mainElement=c;const[p,g]=X.useState("PPM"),[y,S]=X.useState(!0),[x,E]=X.useState(!1),[L,U]=X.useState(0),[B,b]=X.useState(0),[z,M]=X.useState(1),[k,D]=X.useState(!0),[I,G]=X.useState(!1),[j,q]=X.useState({1:!0,2:!0,3:!0}),[Z,me]=X.useState(100),ye=()=>{player.paused?player.play():player.pause(),S(player.paused)},we=ne=>{let Te=!j[ne];player.setLayerVisibility(ne,Te),q({...j,[ne]:Te})};return X.useLayoutEffect(()=>{window.player=new Xl.Player(a.current,640,480),player.on("progress",Te=>{b(Te)}),player.on("frameupdate",Te=>{U(Te)}),player.on("ended",()=>{S(!0)}),player.on("load",()=>{g(player.noteFormat),E(player.loop),M(player.frameCount)});const ne=()=>{const Te=a.current.getBoundingClientRect();player.resize(Te.width,Te.width*.75)};return ne(),window.addEventListener("resize",ne),player.openNote(r),Rn("space, left, a, right, d, shift+left, shift+a, shift+right, shift+d","player",(Te,Ve)=>{switch(Ve.key){case"space":ye();break;case"right":case"d":player.paused&&player.nextFrame();break;case"left":case"a":player.paused&&player.prevFrame();break;case"shift+right":case"shift+d":player.paused&&player.lastFrame();break;case"shift+left":case"shift+a":player.paused&&player.firstFrame();break}return!1}),Rn.setScope("player"),()=>{Rn.deleteScope("player"),window.removeEventListener("resize",ne),player.clearEvents(),player.closeNote(),player.destroy()}},[]),X.useEffect(()=>{i&&(player.pause(),S(!0))},[i]),X.useEffect(()=>{D(y)},[y]),C.jsxs("div",{className:"Player",ref:c,children:[C.jsxs("div",{className:"Player__canvasFrame",children:[C.jsx("div",{className:"Player__overlay",onClick:ne=>ye()}),C.jsx("div",{className:"Player__canvas",ref:a}),C.jsx(zm,{isVisible:k,current:L+1,total:z}),C.jsxs(kh,{isVisible:I,onHide:ne=>G(!1),children:[C.jsx(ps,{label:"Loop",value:x,onChange:()=>{player.loop=!x,E(!x)}}),C.jsx(ps,{label:"Volume",type:"slider",value:Z,onChange:ne=>{player.volume=ne/100,me(ne)}}),C.jsx(ps,{label:"Show Layer 1",value:j[1],onChange:()=>we(1)}),C.jsx(ps,{label:"Show Layer 2",value:j[2],onChange:()=>we(2)}),p==="KWZ"&&C.jsx(ps,{label:"Show Layer 3",value:j[3],onChange:()=>we(3)})]})]}),C.jsx("div",{className:"Player__progress",children:C.jsx(af,{className:"Player__progressSlider",min:0,max:100,step:.1,value:B,onChange:ne=>{player.progress=ne,b(ne)},onBeforeChange:()=>{y||(player.wasPlaying=!0,player.pause())},onAfterChange:()=>{player.wasPlaying&&(player.wasPlaying=!1,player.play())}})}),C.jsxs("div",{className:"Player__controls",children:[C.jsxs("div",{className:"ControlsGroup ControlsGroup--left",children:[C.jsx(Zt,{icon:y?"play":"pause",onClick:ne=>{ye()}}),C.jsx(Zt,{icon:"settings",onClick:ne=>G(!I)})]}),C.jsxs("div",{className:"ControlsGroup ControlsGroup--right",children:[C.jsx(Zt,{icon:"firstFrame",disabled:!y,onClick:ne=>{y&&player.firstFrame()}}),C.jsx(Zt,{icon:"prevFrame",disabled:!y,onClick:ne=>{y&&player.prevFrame()}}),C.jsx(Zt,{icon:"nextFrame",disabled:!y,onClick:ne=>{y&&player.nextFrame()}}),C.jsx(Zt,{icon:"lastFrame",disabled:!y,onClick:ne=>{y&&player.lastFrame()}})]})]})]})}const $m=o=>X.createElement("svg",{width:"300px",height:"300px",viewBox:"0 0 300 300",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...o},X.createElement("title",null,"kaeru_gallery"),X.createElement("desc",null,"Created with Sketch."),X.createElement("defs",null,X.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-1"},X.createElement("stop",{stopColor:"#718FAF",offset:"0%"}),X.createElement("stop",{stopColor:"#476E94",offset:"100%"})),X.createElement("linearGradient",{x1:"50%",y1:"50%",x2:"50%",y2:"100%",id:"linearGradient-2"},X.createElement("stop",{stopColor:"#00EBA6",offset:"0%"}),X.createElement("stop",{stopColor:"#35E576",offset:"100%"}))),X.createElement("g",{id:"kaeru_gallery",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},X.createElement("path",{d:"M77.6379109,211.502116 C73.9107723,195.398438 71.6262553,177.81325 71.0455874,159.375 L18.4194715,159.375 C19.735744,178.332321 25.0131103,196.188875 33.4228116,212.109375 L77.5275557,212.109375 L74.2905522,229.921833 C74.2335619,230.235437 74.1850844,230.548022 74.144945,230.859375 L45.4436102,230.859375 C60.7119782,250.772799 81.4869697,266.179055 105.468873,274.760323 C99.9406889,267.718154 94.9453845,259.38453 90.5808267,249.99488 C90.7253534,249.998287 90.8704364,250 91.0160592,250 L110.253467,250 C119.305333,266.680948 130.477243,277.875367 142.382812,281.268666 L142.382813,244.519825 C145.456988,247.881487 149.922828,250 155.049223,250 L159.960938,250 L159.960938,280.496847 C170.985991,276.376133 181.291177,265.581687 189.746532,250.000003 L190.780806,250 C195.254942,250 199.603858,248.351691 203.049507,245.480266 C210.590639,239.195876 212.638151,227.998341 206.116377,220.181007 L199.382458,212.109384 L204.088437,212.109386 C207.03501,200.553713 209.20531,187.959901 210.417016,174.632336 C218.87517,166.789486 224.348213,156.970763 226.422985,145.273956 C229.23925,129.396893 221.532336,114.6868 208.360761,108.758651 C207.21542,101.49896 205.779819,94.5237613 204.088439,87.890625 L168.472444,87.890625 L171.709448,70.0781667 C171.766438,69.7645627 171.814916,69.4519777 171.855055,69.140625 L198.305604,69.140625 C188.809381,43.3078353 175.060272,25.1466672 159.960938,19.5031533 L159.960938,50.704191 C158.398588,50.2463457 156.730068,50 154.983941,50 L142.382813,50 L142.382813,18.7313337 C126.367505,23.2959817 111.67979,41.9771324 101.694396,69.140625 L103.508829,69.140625 L100.10145,87.8906154 L95.9115634,87.8906145 C91.8621314,103.771402 89.2788167,121.61288 88.6348395,140.625 L90.5181921,140.625 L77.6379109,211.502116 Z M150,300 C67.1572875,300 0,232.842712 0,150 C0,67.1572875 67.1572875,0 150,0 C232.842712,0 300,67.1572875 300,150 C300,232.842712 232.842712,300 150,300 Z M280.408654,159.375 L228.954413,159.375 C228.366437,178.045284 226.031459,195.840899 222.220693,212.109375 L265.405313,212.109375 C273.815015,196.188875 279.092381,178.332321 280.408654,159.375 Z M194.99735,274.161717 L194.997361,274.161713 C218.287235,265.472983 238.464858,250.318 253.384515,230.859375 L216.955885,230.85938 C211.292144,247.9624 203.83706,262.722664 194.99735,274.161717 Z M18.4194715,140.625 L71.0455874,140.625 C71.6335626,121.954716 73.9685405,104.159101 77.7793068,87.890625 L33.4228116,87.890625 C25.0131103,103.811125 19.735744,121.667679 18.4194715,140.625 Z M105.468873,25.2396773 C81.4869697,33.8209454 60.7119782,49.2272012 45.4436102,69.140625 L83.0441147,69.1406198 C88.8071575,51.7377357 96.4249077,36.7604782 105.46888,25.2396746 Z M280.408654,140.625 C279.092381,121.667679 273.815015,103.811125 265.405313,87.890625 L222.220693,87.890625 C226.031459,104.159101 228.366437,121.954716 228.954413,140.625 L280.408654,140.625 Z M194.997361,25.8382874 L194.99735,25.8382833 C203.83706,37.2773362 211.292144,52.0375998 216.955887,69.140625 L253.384515,69.140625 C238.464858,49.6820001 218.287235,34.5270174 194.997361,25.8382874 Z",id:"globe",fill:"url(#linearGradient-1)",opacity:.3}),X.createElement("path",{d:"M161.095581,175.955909 L166.195114,147.206618 C169.767978,127.064123 184.11202,118 195.224636,118 C208.396003,118 216.975311,129.828848 214.607425,143.178119 C211.661836,159.784265 199.947795,171.238333 181.218001,178.073899 C178.134501,179.199243 173.514794,180.455551 167.358879,181.842823 C164.017387,182.595844 161.173772,180.570632 161.007487,177.319382 C160.98462,176.872283 161.014175,176.414843 161.095581,175.955909 Z M123,62 L154.983941,62 C158.295986,62 160.498243,64.6561085 159.902819,67.9325843 L130.075099,232.067416 C129.479675,235.343892 126.312046,238 123,238 L91.0160592,238 C87.7040137,238 85.5017568,235.343892 86.0971807,232.067416 L115.924901,67.9325843 C116.520325,64.6561085 119.687954,62 123,62 Z M167.594044,192.738322 L196.901971,227.868316 C198.835613,230.186079 198.148478,233.943915 195.367213,236.261678 C194.031602,237.374707 192.381822,238 190.780806,238 L155.049223,238 C151.71528,238 149.498463,235.342809 150.097823,232.064997 L156.521479,196.935003 C157.120839,193.657191 160.309412,191 163.643355,191 C165.244371,191 166.665476,191.625293 167.594044,192.738322 Z",id:"k",fill:"url(#linearGradient-2)"}))),Hm=o=>X.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 176.8 152.2",...o},X.createElement("path",{fill:"#222",d:"M67.5 16.9c5-8.6 16-11.6 24.6-6.6l18.4 10.6c.4-.2 35.3-18 37.3-18.8 8.5-3.2 15.4-3.1 21.7 1.6 5.2 3.8 7.3 9.2 7.2 16 0 2.9-.4 6.1-1.1 9.9-.9 4.6-2 9-4.4 16.8-1 3.4-13.2 33.8-13.2 33.8.2 2 .8 15.9-1.5 20.8 3.7 1.1 6.2 4.8 5.7 8.8 0 .3-.1.6-.2 1.1-.1.7-.3 1.5-.5 2.4-.6 2.4-1.5 4.8-2.7 7.2-1.2 2.4-2.7 4.6-4.5 6.4.1 1.4-.2 2.9-1 4.2-.1.2-4.2 5.8-5.9 7.3-6.9 6.4-15.9 9.1-26.1 6.2-9.9 5-21.1 7.7-32.6 7.7-11.7 0-22.9-2.7-32.9-7.9-10.4 3.2-19.6.5-26.7-6-1.7-1.5-5.8-7.1-5.9-7.3-.7-1.3-1-2.8-1-4.2-2.9-1.6-7.4-13.4-7.9-17-.6-3.6 2.4-8.3 6.6-9-1.6-4.6-1.7-17.2-1.6-18.6 0 0-13-32.4-14-35.8C3.2 38.6 2 34.3 1.1 29.6c-.7-3.8-1.1-7-1.1-9.9 0-6.8 2-12.2 7.2-16C13.6-.9 20.5-1 29 2.2c2 .7 36.6 18.3 36.8 18.5.4-1.3 1-2.6 1.7-3.8z"}),X.createElement("path",{fill:"#222",d:"M150.5 9.7c5.8-2.1 10.2-2.5 14.2.5 3.1 2.3 4 5.5 4 9.6 0 2.3-22.6 68.1-22.6 68.1L103.9 34s44.8-23.6 46.6-24.3z"}),X.createElement("path",{fill:"#f2f2f2",d:"M114.4 36s15-8.8 25.5-13.8 17.5-8.8 20.7-6.4c3.3 2.4-1.2 17.9-3.7 26.4s-12.5 32-12.5 32l-30-38.2z"}),X.createElement("path",{fill:"#222",d:"M26.2 9.7C20.5 7.6 16 7.2 12 10.2c-3.1 2.3-4 5.5-4 9.6 0 2.3 22.6 68.1 22.6 68.1L72.8 34S28 10.4 26.2 9.7z"}),X.createElement("path",{fill:"#f2f2f2",d:"M62.4 36s-15-8.8-25.5-13.8-17.5-8.8-20.7-6.4 1.2 17.9 3.7 26.4 12.5 32 12.5 32l30-38.2z"}),X.createElement("ellipse",{fill:"#dd1d31",cx:88.9,cy:86.2,rx:61.5,ry:58}),X.createElement("path",{fill:"#f2f2f2",d:"M154.4 108.7s-2 14.5-12.5 16c1.8 1.3 4.5 2.5 4.5 2.5s-8.5 15.7-25.6 8.6c-9.3 5.3-20.2 8.4-31.9 8.4-11.8 0-22.9-3.2-32.3-8.6-17.5 7.6-26.2-8.4-26.2-8.4s2.7-1.2 4.5-2.5c-10.5-1.5-12.5-16-12.5-16l66-5.5 66 5.5z"}),X.createElement("path",{d:"M83.9 110.6c2.5 2.8 6.5 2.8 9 0l4.5-4.9c2.2-2.5.4-5.1-2.8-5.7 0 0-2.1-.7-6.1-.7s-6.1.7-6.1.7c-3.2.7-5.1 3.3-2.8 5.7l4.3 4.9z"}),X.createElement("path",{d:"M73.6 121.2c.2.3 2.3 2.7 3.4 3.4 2.8 1.9 6.6 3.1 11.4 3.1s8.5-1.2 11.4-3.1c1-.7 3.2-3.2 3.4-3.4.7-1 .2-2.2-.8-2.7s-2.2-.2-2.7.8c0 .1-1.4 1.6-2.1 2.1-2.2 1.5-5.1 2.4-9.1 2.4s-7-.9-9.1-2.4c-.7-.5-2.1-2-2.1-2.1-.5-1-1.7-1.3-2.7-.8s-1.5 1.7-1 2.7z",fill:"#aeafae"}),X.createElement("path",{fill:"#222",d:"M70.4-8.8c2.8 0 5 2.2 5 5v4c0 2.8-2.2 5-5 5s-5-2.2-5-5v-4c0-2.7 2.2-5 5-5zM4.4-8.8c2.8 0 5 2.2 5 5v4c0 2.8-2.2 5-5 5s-5-2.2-5-5v-4c0-2.7 2.2-5 5-5z",transform:"translate(51 89)"}),X.createElement("path",{d:"M74.4 29.9c-4.7 1.7-8 6.1-8 11.4 0 4.4 2.3 8.3 5.9 10.4-1.7 3.6-1.7 7.8.4 11.4C76 69 83.3 71 89 67.6l18.5-10.8-.8-1.8L88 65.9c-4.8 2.8-10.9 1.1-13.7-3.7-2.1-3.7-1.7-8.1.8-11.3-4-1.3-6.8-5.1-6.8-9.6 0-4.1 2.5-7.7 6-9.2v-2.2z",fill:"#b2091a"}),X.createElement("path",{fill:"#dd1d31",d:"M107.1 54.6l-19 11c-4.8 2.8-10.9 1.1-13.7-3.7-2.1-3.6-1.7-8.1.8-11.2-4-1.3-6.8-5.1-6.8-9.5 0-4.3 2.8-8 6.6-9.4-2.3-3.1-2.7-7.4-.6-10.9 2.8-4.8 8.9-6.4 13.7-3.7l19 11c4.6 2.7 4.6 23.7 0 26.4z"})),Km=o=>{const r=bt(mo,y=>y.note),[i,a]=X.useState(!1),[c,p]=X.useState(!1);if(!r)return C.jsx("div",{className:"FlipnoteDetails",children:"loading..."});const g=r.meta;return X.useEffect(()=>{r.type==="PPM"?Kc.sudomemo.checkFlipnoteExists(g.current.fsid,g.current.filename).then(p).catch(y=>{}):r.type==="KWZ"&&Kc.kaeruGallery.checkFlipnoteExists(g.current.fsid,g.current.filename).then(a).catch(y=>{})},[r]),C.jsxs("div",{className:"FlipnoteDetails",children:[C.jsxs("div",{className:"DetailItemList",children:[C.jsxs("div",{className:"DetailItem",children:[C.jsx("span",{className:"DetailItem__title",children:"Created:"}),C.jsx("span",{className:"DetailItem__value",children:g.timestamp.toLocaleDateString()})]}),C.jsxs("div",{className:"DetailItem",children:[C.jsx("span",{className:"DetailItem__title",children:"Frames:"}),C.jsx("span",{className:"DetailItem__value",children:g.frameCount})]}),C.jsxs("div",{className:"DetailItem",children:[C.jsx("span",{className:"DetailItem__title",children:"Frame Rate:"}),C.jsxs("span",{className:"DetailItem__value",children:[r.framerate," FPS"]})]}),C.jsxs("div",{className:"DetailItem",children:[C.jsx("span",{className:"DetailItem__title",children:"Filesize:"}),C.jsx("span",{className:"DetailItem__value",children:v1.byteCount(r.buffer.byteLength)})]}),C.jsxs("div",{className:"DetailItem",children:[C.jsx("span",{className:"DetailItem__title",children:"Author ID:"}),C.jsx("span",{className:"DetailItem__value",children:g.current.fsid})]}),r.format==="PPM"&&C.jsxs("div",{className:"DetailItem",children:[C.jsx("span",{className:"DetailItem__title",children:"Region:"}),C.jsx("span",{className:"DetailItem__value",children:lh.getFsidRegion(g.current.fsid)})]})]}),i&&C.jsxs("a",{href:i,target:"blank",className:"DetailLink DetailLink--kaeruGallery",children:[C.jsx($m,{className:"DetailLink__icon"}),C.jsx("div",{className:"DetailLink__title",children:"View this Flipnote on Kaeru Gallery"}),C.jsx(Zt,{icon:"externalService",disabled:!0})]}),c&&C.jsxs("a",{href:c,target:"blank",className:"DetailLink DetailLink--sudomemo",children:[C.jsx(Hm,{className:"DetailLink__icon"}),C.jsx("div",{className:"DetailLink__title",children:"View this Flipnote on Sudomemo"}),C.jsx(Zt,{icon:"externalService",disabled:!0})]})]})},Gm="modulepreload",Vm=function(o){return"/"+o},eh={},uf=function(r,i,a){let c=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=Promise.allSettled(i.map(S=>{if(S=Vm(S),S in eh)return;eh[S]=!0;const x=S.endsWith(".css"),E=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${E}`))return;const L=document.createElement("link");if(L.rel=x?"stylesheet":Gm,x||(L.as="script"),L.crossOrigin="",L.href=S,y&&L.setAttribute("nonce",y),document.head.appendChild(L),x)return new Promise((U,B)=>{L.addEventListener("load",U),L.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${S}`)))})}))}function p(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return c.then(g=>{for(const y of g||[])y.status==="rejected"&&p(y.reason);return r().catch(p)})};function qm({isActive:o,percent:r,status:i}){return C.jsxs("div",{className:"ProgressMeter",children:[C.jsxs("div",{className:"ProgressMeter__main",children:[C.jsx("div",{className:"ProgressMeter__status",children:i}),C.jsx(ys.CSSTransition,{in:o,timeout:200,children:C.jsx("div",{className:"ProgressBar",children:C.jsx("div",{className:"ProgressBar__level",style:{width:`${r}%`}})})})]}),C.jsx("div",{className:"ProgressMeter__icon",children:C.jsx(ys.CSSTransition,{in:o,timeout:200,unmountOnExit:!0,children:C.jsx(Zt,{icon:"loader",spin:!0})})})]})}function Ym({flipnote:o}){const[r,i]=X.useState(0),[a,c]=X.useState(""),[p,g]=X.useState(!1),[y,S]=X.useState("fast"),[x,E]=X.useState("2"),[L,U]=X.useState(!0),[B,b]=X.useState(`${o.meta.current.filename}.mp4`);function z(M){uf(()=>import("./mp4-CwVopRtI.js"),__vite__mapDeps([0,1])).then(k=>{const D=k.default;return new D}).then(k=>(k.onprogress=i,k.onerror=()=>{i(0),g(!1),c("Error: Could not convert Flipnote to video")},c("Preparing..."),i(0),g(!0),k.init({compression:y,scale:x,equalizer:L}))).then(k=>(c("Converting..."),k.convert(M))).then(k=>{g(!1),c("Done!"),k.saveAs(B)})}return C.jsxs("div",{className:"Mp4Converter",children:[C.jsxs("div",{className:"FormGroup",children:[C.jsxs("div",{className:"FormItem",children:[C.jsx("label",{htmlFor:"quality",children:"Compression"}),C.jsxs("select",{id:"quality",className:"Select",value:y,onChange:M=>S(event.target.value),children:[C.jsx("option",{value:"fast",children:"Fast"},"fast"),C.jsx("option",{value:"medium",children:"Medium"},"medium"),C.jsx("option",{value:"slow",children:"Slow"},"slow")]})]}),C.jsxs("div",{className:"FormItem",children:[C.jsx("label",{htmlFor:"scale",children:"Video Scale"}),C.jsxs("select",{id:"scale",className:"Select",value:x,onChange:M=>E(event.target.value),children:[C.jsx("option",{value:"1",children:"1x"},"1"),C.jsx("option",{value:"2",children:"2x"},"2"),C.jsx("option",{value:"4",children:"4x"},"4")]})]}),C.jsxs("div",{className:"FormItem",children:[C.jsx("label",{htmlFor:"",children:"Enhance Audio"}),C.jsx(lf,{on:L,className:"Switch--large",onClick:M=>{U(!L)}})]})]}),C.jsxs("div",{className:"FormGroup",children:[C.jsxs("div",{className:"FormItem FormItem--flex3",children:[C.jsx("label",{htmlFor:"filename",children:"Output Filename"}),C.jsx("input",{className:"Input",id:"filename",type:"text",placeholder:"Video Filename",value:B,onChange:M=>{b(M.target.value)}})]}),C.jsx("div",{className:"FormItem",children:C.jsx("div",{className:"Button Button--inline",onClick:()=>{z(o)},children:"Convert"})})]}),C.jsx(qm,{isActive:p,percent:r,status:a})]})}function Xm({flipnote:o}){const[r,i]=X.useState(`${o.meta.current.filename}.gif`);function a(c){uf(()=>import("./gif-DStaklum.js"),__vite__mapDeps([2,1])).then(p=>{const g=p.default;return new g}).then(p=>p.init()).then(p=>p.convert(c)).then(p=>{p.saveAs(`${c.meta.current.filename}.gif`)})}return C.jsx("div",{className:"GifConverter",children:C.jsxs("div",{className:"FormGroup",children:[C.jsxs("div",{className:"FormItem FormItem--flex3",children:[C.jsx("label",{htmlFor:"filename",children:"Output Filename"}),C.jsx("input",{className:"Input",id:"filename",type:"text",placeholder:"Video Filename",value:r,onChange:c=>{i(c.target.value)}})]}),C.jsx("div",{className:"FormItem",children:C.jsx("div",{className:"Button Button--inline",onClick:()=>{a(o)},children:"Convert"})})]})})}function Zm({flipnote:o}){const[r,i]=X.useState("png"),[a,c]=X.useState(`${o.meta.current.filename}.zip`);function p(g){uf(()=>import("./imageSequence-BHrq_OcQ.js"),__vite__mapDeps([3,1])).then(y=>{const S=y.default;return new S}).then(y=>y.init({format:r})).then(async y=>y.convert(g)).then(y=>{y.saveAs(a)})}return C.jsxs("div",{className:"GifConverter",children:[C.jsx("div",{className:"FormGroup",children:C.jsxs("div",{className:"FormItem",children:[C.jsx("label",{htmlFor:"format",children:"Image Format"}),C.jsxs("select",{id:"format",className:"Select",value:r,onChange:g=>i(event.target.value),children:[C.jsx("option",{value:"gif",children:"GIF"},"gif"),C.jsx("option",{value:"png",children:"PNG"},"png"),C.jsx("option",{value:"jpeg",children:"JPEG"},"jpeg")]})]})}),C.jsxs("div",{className:"FormGroup",children:[C.jsxs("div",{className:"FormItem FormItem--flex3",children:[C.jsx("label",{htmlFor:"filename",children:"Output Filename"}),C.jsx("input",{id:"filename",className:"Input",type:"text",placeholder:"Video Filename",value:a,onChange:g=>{c(g.target.value)}})]}),C.jsx("div",{className:"FormItem",children:C.jsx("div",{className:"Button Button--inline",onClick:()=>{p(o)},children:"Convert"})})]})]})}function Qm({isVisible:o,onHide:r}){const[i,a]=X.useState("mp4"),c=bt(mo,p=>p.note);return C.jsx(Zl,{title:"Convert Flipnote",className:"ConversionModal",isVisible:o,isBackdropVisible:!0,onHide:r,children:C.jsxs("div",{className:"ConversionModelForm",children:[C.jsx("div",{className:"ConversionModelForm--select",children:C.jsxs("div",{className:"FormItem",children:[C.jsx("label",{htmlFor:"format",children:"Format"}),C.jsxs("select",{id:"format",className:"Select",value:i,onChange:p=>a(event.target.value),children:[C.jsx("option",{value:"mp4",children:"MP4"},"mp4"),C.jsx("option",{value:"gif",children:"GIF"},"gif"),C.jsx("option",{value:"images",children:"Images"},"images")]})]})}),C.jsxs("div",{className:"ConversionModelForm--main",children:[i==="mp4"&&C.jsx(Ym,{flipnote:c}),i==="gif"&&C.jsx(Xm,{flipnote:c}),i==="images"&&C.jsx(Zm,{flipnote:c})]})]})})}const Jm=o=>{const r=bt(mo,c=>c.note),[i,a]=X.useState(!1);return X.useEffect(()=>{mo.update(c=>{c.forcePause=i})},[i]),r===null?(o.history.push("/"),null):C.jsxs(of,{page:"view",children:[C.jsx("div",{className:"Section Section--main",children:C.jsx("div",{className:"Section__body",children:C.jsx(Wm,{})})}),C.jsxs("div",{className:"Section Section--side",children:[C.jsxs("div",{className:"Section__title",children:[r&&C.jsxs("h4",{className:"title",children:["Flipnote by ",r.meta.current.username]}),C.jsx("div",{className:"Section__actions",children:C.jsx("div",{className:"Button Button--inline Button--nobg",onClick:()=>{a(!0)},children:"Convert"})})]}),C.jsx("div",{className:"Section__body",children:C.jsx(Km,{})})]}),C.jsx(Qm,{isVisible:i,onHide:()=>{a(!1)}})]})},e0=o=>C.jsxs(of,{page:"404",children:[C.jsx("h2",{children:"Error 404"}),C.jsx("h4",{children:"Page not found"}),C.jsx(gs,{to:"/",children:"Return to home page"})]});Qt.update(o=>{o.isLoading=!0});fetch("./static/manifest.json").then(o=>o.json()).then(o=>{const r=o.items.map(i=>({...i,src:`./static/${i.ext}/${i.filestem}.${i.ext}`}));r.map(i=>i.timestamp=new Date(i.timestamp)),r.sort((i,a)=>a.timestamp-i.timestamp),ho.update(i=>{i.samples=r,i.items=r}),Qt.update(i=>{i.isLoading=!1})});const t0=o=>{const r=bt(Qt,i=>i.isDarkMode);return C.jsx("div",{className:`App ${r?"theme--dark":"theme--light"}`,children:C.jsx(rh,{children:C.jsxs(Yc,{children:[C.jsx(ms,{exact:!0,path:"/",component:Nm}),C.jsx(ms,{exact:!0,path:"/view",component:Jm}),C.jsx(ms,{component:e0})]})})})};nh.render(C.jsx(t0,{}),document.getElementById("root"));export{Jh as c,Xl as f,vo as g};
